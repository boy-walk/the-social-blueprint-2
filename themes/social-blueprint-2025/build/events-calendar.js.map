{"version":3,"file":"events-calendar.js?ver=72776df1cb810f4a09b1","mappings":"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","sources":["webpack://brads-boilerplate-theme/./src/scripts/Button.js","webpack://brads-boilerplate-theme/./src/scripts/DropdownSelect.js","webpack://brads-boilerplate-theme/./src/scripts/EventsCalendar.js"],"sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\n\nexport function Button({\n  className = '',\n  label = 'Label',\n  size = 'base',\n  variant = 'filled',\n  shape = 'square',\n  icon,\n  disabled = false,\n  onClick = () => { },\n  type = 'button',\n}) {\n  const sizeStyles = {\n    xs: 'px-3 py-1.5 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    sm: 'px-4 py-2 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    base: 'px-4 py-2.5 Blueprint-title-small md:Blueprint-title-medium lg:Blueprint-title-large',\n    lg: 'px-4 py-4 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n    xl: 'px-8 py-6 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n  }[size];\n\n  const rounded = {\n    square: { xs: 'rounded-xl', sm: 'rounded-xl', base: 'rounded-[16px]', lg: 'rounded-[16px]', xl: 'rounded-[28px]' },\n    pill: { xs: 'rounded-[100px]', sm: 'rounded-[100px]', base: 'rounded-[100px]', lg: 'rounded-[100px]', xl: 'rounded-[100px]' },\n  };\n\n  const variantStyles = {\n    filled: 'bg-[var(--schemesPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesPrimary40)]',\n    tonal: 'bg-[var(--schemesPrimaryFixed)] text-[var(--schemesOnPrimaryFixedVariant)] hover:bg-[var(--schemesPrimaryFixedDim)]',\n    outline: 'border border-[var(--schemesOnPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesOnPrimary40)]',\n    elevated: 'bg-[var(--schemesSurfaceContainerHigh)] text-[var(--schemesPrimary)] shadow-3x3 hover:bg-[var(--stateLayersSurfaceContainerHighOpacity08)]',\n    text: 'bg-transparent text-[var(--schemesPrimary)] hover:bg-[var(--palettesPrimary60)]',\n  }[variant];\n\n  // cursor + disabled handling\n  const disabledStyles = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\n  const baseCursor = disabled ? '' : 'cursor-pointer';\n\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      aria-disabled={disabled}\n      className={clsx(\n        'inline-flex items-center justify-center gap-2 transition-colors duration-150',\n        baseCursor,            // pointer on hover for enabled buttons\n        sizeStyles,\n        rounded[shape][size],\n        variantStyles,\n        disabledStyles,        // overrides cursor when disabled\n        className\n      )}\n    >\n      {icon && <span className=\"shrink-0\">{icon}</span>}\n      <span className=\"Blueprint-label-large\">{label}</span>\n    </button>\n  );\n}\n","import React, { useState, useRef, useEffect, useId, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { CaretDown, CaretRight, MagnifyingGlass, Check } from '@phosphor-icons/react';\nimport { Button } from './Button';\n\n/**\n * Flattens nested options into a flat array with depth info\n */\nfunction flattenOptions(options, depth = 0, parentExpanded = true) {\n  let result = [];\n  for (const option of options) {\n    result.push({\n      ...option,\n      depth,\n      hasChildren: Array.isArray(option.children) && option.children.length > 0,\n    });\n    if (option.children && option.children.length > 0) {\n      result = result.concat(flattenOptions(option.children, depth + 1, parentExpanded));\n    }\n  }\n  return result;\n}\n\n/**\n * Recursively filter options based on search query\n * Returns options that match OR have children that match\n */\nfunction filterOptionsRecursive(options, searchLower) {\n  if (!searchLower) return options;\n\n  return options.reduce((acc, option) => {\n    const labelMatches = option.label.toLowerCase().includes(searchLower);\n\n    // Check if any children match\n    let filteredChildren = [];\n    if (option.children && option.children.length > 0) {\n      filteredChildren = filterOptionsRecursive(option.children, searchLower);\n    }\n\n    // Include if label matches OR has matching children\n    if (labelMatches || filteredChildren.length > 0) {\n      acc.push({\n        ...option,\n        children: filteredChildren.length > 0 ? filteredChildren : option.children,\n        // Mark as matching if the label itself matches (for highlighting)\n        _matches: labelMatches,\n      });\n    }\n\n    return acc;\n  }, []);\n}\n\n/**\n * Get all descendant values of an option\n */\nfunction getDescendantValues(option) {\n  let values = [];\n  if (option.children) {\n    for (const child of option.children) {\n      values.push(child.value);\n      values = values.concat(getDescendantValues(child));\n    }\n  }\n  return values;\n}\n\n/**\n * Find an option by value in nested structure\n */\nfunction findOptionByValue(options, value) {\n  for (const option of options) {\n    if (option.value === value) return option;\n    if (option.children) {\n      const found = findOptionByValue(option.children, value);\n      if (found) return found;\n    }\n  }\n  return null;\n}\n\nexport function DropdownSelect({\n  label = 'Select',\n  options = [],\n  value = [],\n  onChange,\n  multiple = false,\n  searchable = true,\n  searchPlaceholder = 'Search...',\n  placeholder = 'Select an option',\n  disabled = false,\n  error = '',\n  supportingText = '',\n  collapsible = false, // Whether parent items can be collapsed\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\n  const dropdownRef = useRef(null);\n  const triggerRef = useRef(null);\n  const id = useId();\n\n  // Normalize value to array for consistent handling\n  const selectedValues = multiple ? (Array.isArray(value) ? value : []) : (value ? [value] : []);\n\n  // Check if options are nested\n  const isNested = useMemo(() => {\n    return options.some(opt => opt.children && opt.children.length > 0);\n  }, [options]);\n\n  // Filter options based on search\n  const filteredOptions = useMemo(() => {\n    const searchLower = search.toLowerCase().trim();\n    if (!searchLower) return options;\n    return filterOptionsRecursive(options, searchLower);\n  }, [options, search]);\n\n  // Flatten for rendering\n  const flatOptions = useMemo(() => {\n    return flattenOptions(filteredOptions);\n  }, [filteredOptions]);\n\n  // Auto-expand all when searching\n  useEffect(() => {\n    if (search && isNested) {\n      const allParentValues = new Set();\n      const collectParents = (opts) => {\n        for (const opt of opts) {\n          if (opt.children && opt.children.length > 0) {\n            allParentValues.add(opt.value);\n            collectParents(opt.children);\n          }\n        }\n      };\n      collectParents(filteredOptions);\n      setExpandedNodes(allParentValues);\n    }\n  }, [search, filteredOptions, isNested]);\n\n  // Initialize expanded state to show all by default\n  useEffect(() => {\n    if (isNested && !collapsible) {\n      const allParentValues = new Set();\n      const collectParents = (opts) => {\n        for (const opt of opts) {\n          if (opt.children && opt.children.length > 0) {\n            allParentValues.add(opt.value);\n            collectParents(opt.children);\n          }\n        }\n      };\n      collectParents(options);\n      setExpandedNodes(allParentValues);\n    }\n  }, [options, isNested, collapsible]);\n\n  // Close on outside click\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target) &&\n        !triggerRef.current.contains(e.target)\n      ) {\n        setIsOpen(false);\n        setSearch('');\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  // Close on escape\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        setIsOpen(false);\n        setSearch('');\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen]);\n\n  const toggleExpanded = (optionValue, e) => {\n    e.stopPropagation();\n    setExpandedNodes(prev => {\n      const next = new Set(prev);\n      if (next.has(optionValue)) {\n        next.delete(optionValue);\n      } else {\n        next.add(optionValue);\n      }\n      return next;\n    });\n  };\n\n  const handleSelect = (optionValue) => {\n    if (multiple) {\n      const newValue = selectedValues.includes(optionValue)\n        ? selectedValues.filter(v => v !== optionValue)\n        : [...selectedValues, optionValue];\n      onChange?.(newValue);\n    } else {\n      onChange?.(optionValue);\n      setIsOpen(false);\n      setSearch('');\n    }\n  };\n\n  const getDisplayText = () => {\n    if (selectedValues.length === 0) return placeholder;\n\n    // Find labels from nested structure\n    const findLabels = (opts, values) => {\n      let labels = [];\n      for (const opt of opts) {\n        if (values.includes(opt.value)) {\n          labels.push(opt.label);\n        }\n        if (opt.children) {\n          labels = labels.concat(findLabels(opt.children, values));\n        }\n      }\n      return labels;\n    };\n\n    const selectedLabels = findLabels(options, selectedValues);\n\n    if (selectedLabels.length === 1) return selectedLabels[0];\n    return `${selectedLabels.length} selected`;\n  };\n\n  const hasError = typeof error === 'string' && error.length > 0;\n  const helperText = hasError ? error : supportingText;\n\n  // Check if an option or any of its ancestors is hidden due to collapsed parent\n  const isOptionVisible = (option, index) => {\n    if (!collapsible || option.depth === 0) return true;\n\n    // Find parent option\n    for (let i = index - 1; i >= 0; i--) {\n      const prevOption = flatOptions[i];\n      if (prevOption.depth < option.depth) {\n        // This is a potential parent\n        if (prevOption.hasChildren && !expandedNodes.has(prevOption.value)) {\n          return false;\n        }\n        if (prevOption.depth === 0) break;\n      }\n    }\n    return true;\n  };\n\n  // Render a single option\n  const renderOption = (option, index) => {\n    // Skip if parent is collapsed\n    if (collapsible && !isOptionVisible(option, index)) {\n      return null;\n    }\n\n    const isSelected = selectedValues.includes(option.value);\n    const isExpanded = expandedNodes.has(option.value);\n    const indent = option.depth * 24;\n\n    return (\n      <li key={option.value}>\n        <button\n          type=\"button\"\n          onClick={() => handleSelect(option.value)}\n          className={clsx(\n            'w-full flex items-center gap-3 px-3 py-2.5 rounded-lg',\n            'Blueprint-body-medium text-left',\n            'transition-colors duration-150',\n            isSelected\n              ? 'bg-schemesPrimaryContainer text-schemesOnPrimaryContainer'\n              : 'text-schemesOnSurface hover:bg-schemesSurfaceContainerHigh'\n          )}\n          style={{ paddingLeft: `${12 + indent}px` }}\n          role=\"option\"\n          aria-selected={isSelected}\n        >\n          {/* Expand/collapse button for parents */}\n          {collapsible && option.hasChildren ? (\n            <button\n              type=\"button\"\n              onClick={(e) => toggleExpanded(option.value, e)}\n              className=\"p-0.5 -ml-1 rounded hover:bg-schemesOutlineVariant/30\"\n              aria-label={isExpanded ? 'Collapse' : 'Expand'}\n            >\n              {isExpanded ? (\n                <CaretDown size={16} className=\"text-schemesOnSurfaceVariant\" />\n              ) : (\n                <CaretRight size={16} className=\"text-schemesOnSurfaceVariant\" />\n              )}\n            </button>\n          ) : (\n            option.depth > 0 && collapsible && (\n              <span className=\"w-5\" /> // Spacer for alignment\n            )\n          )}\n\n          {/* Checkbox/Radio indicator */}\n          <span\n            className={clsx(\n              'flex items-center justify-center w-5 h-5 shrink-0',\n              'border-2 transition-colors duration-150',\n              multiple ? 'rounded' : 'rounded-full',\n              isSelected\n                ? 'bg-schemesPrimary border-schemesPrimary'\n                : 'border-schemesOutline bg-transparent'\n            )}\n          >\n            {isSelected && (\n              multiple ? (\n                <Check size={14} weight=\"bold\" className=\"text-schemesOnPrimary\" />\n              ) : (\n                <span className=\"w-2 h-2 rounded-full bg-schemesOnPrimary\" />\n              )\n            )}\n          </span>\n\n          {/* Option content */}\n          <span className=\"flex-1 min-w-0 truncate\">\n            {option.label}\n          </span>\n\n          {/* Optional image */}\n          {option.image && (\n            <img\n              src={option.image}\n              alt=\"\"\n              className=\"w-6 h-6 rounded-full object-cover\"\n            />\n          )}\n        </button>\n      </li>\n    );\n  };\n\n  return (\n    <div className=\"relative flex flex-col gap-2\">\n      {/* Label */}\n      {label && (\n        <label className=\"Blueprint-label-medium text-schemesOnSurface\">\n          {label}\n        </label>\n      )}\n\n      {/* Trigger Button */}\n      <button\n        ref={triggerRef}\n        type=\"button\"\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        disabled={disabled}\n        className={clsx(\n          'w-full flex items-center justify-between gap-2',\n          'px-4 py-3 rounded-xl',\n          'Blueprint-body-medium text-left',\n          'border bg-schemesSurfaceContainerLow',\n          'transition-colors duration-150',\n          hasError\n            ? 'border-schemesError'\n            : 'border-schemesOutline hover:border-schemesOnSurfaceVariant focus:border-schemesPrimary',\n          disabled && 'opacity-50 cursor-not-allowed',\n          !disabled && 'cursor-pointer'\n        )}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n      >\n        <span className={clsx(\n          'truncate',\n          selectedValues.length === 0 && 'text-schemesOnSurfaceVariant'\n        )}>\n          {getDisplayText()}\n        </span>\n        <CaretDown\n          size={20}\n          className={clsx(\n            'text-schemesOnSurfaceVariant transition-transform duration-200 shrink-0',\n            isOpen && 'rotate-180'\n          )}\n        />\n      </button>\n\n      {/* Dropdown */}\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className=\"absolute top-full left-0 right-0 z-50 mt-1 bg-schemesSurface border border-schemesOutlineVariant rounded-xl shadow-lg overflow-hidden\"\n          role=\"listbox\"\n          aria-multiselectable={multiple}\n        >\n          {/* Search */}\n          {searchable && (\n            <div className=\"p-2 border-b border-schemesOutlineVariant\">\n              <div className=\"relative\">\n                <MagnifyingGlass\n                  size={18}\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                />\n                <input\n                  type=\"text\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  placeholder={searchPlaceholder}\n                  className=\"w-full pl-10 pr-4 py-2 Blueprint-body-medium bg-schemesSurfaceContainerHigh border border-schemesOutline rounded-lg text-schemesOnSurface placeholder:text-schemesOnSurfaceVariant focus:outline-none focus:ring-2 focus:ring-schemesPrimary focus:border-schemesPrimary\"\n                  autoFocus\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Options */}\n          <ul className=\"max-h-60 overflow-y-auto p-2\">\n            {flatOptions.length === 0 ? (\n              <li className=\"px-4 py-3 Blueprint-body-medium text-schemesOnSurfaceVariant text-center\">\n                No results found\n              </li>\n            ) : (\n              flatOptions.map((option, index) => renderOption(option, index))\n            )}\n          </ul>\n\n          {/* Footer actions */}\n          {multiple && selectedValues.length > 0 && (\n            <div className=\"p-2 border-t border-schemesOutlineVariant\">\n              <Button\n                label=\"Clear selection\"\n                variant=\"text\"\n                size=\"sm\"\n                className=\"w-full\"\n                onClick={() => {\n                  onChange?.([]);\n                  setIsOpen(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Helper/Error text */}\n      {helperText && (\n        <p\n          className={clsx(\n            'ml-4 Blueprint-body-small',\n            hasError ? 'text-schemesError' : 'text-schemesOnSurfaceVariant'\n          )}\n        >\n          {helperText}\n        </p>\n      )}\n    </div>\n  );\n}","import React, { useEffect, useRef, useState, useMemo } from \"react\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport listPlugin from \"@fullcalendar/list\";\nimport { Button } from \"./Button\";\nimport { DropdownSelect } from \"./DropdownSelect\";\nimport { ArrowLeft, ArrowRight, FunnelSimple, X, MagnifyingGlass } from \"@phosphor-icons/react\";\n\nexport function EventsCalendar({ categories, types, topics, audiences, locations }) {\n  const [keyword, setKeyword] = useState(\"\");\n  const [debouncedKeywordValue, setDebouncedKeywordValue] = useState(\"\");\n  const [dateRange, setDateRange] = useState({ start: \"\", end: \"\" });\n  const [requestParams, setRequestParams] = useState({ per_page: 100 });\n\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [selectedTypes, setSelectedTypes] = useState([]);\n  const [selectedTopics, setSelectedTopics] = useState([]);\n  const [selectedAudiences, setSelectedAudiences] = useState([]);\n  const [selectedLocations, setSelectedLocations] = useState([]);\n  const [onlyFeatured, setOnlyFeatured] = useState(false);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentView, setCurrentView] = useState(\"dayGridMonth\");\n  const [supportsHover, setSupportsHover] = useState(true);\n\n  const calendarRef = useRef(null);\n  const isFirstDatesSet = useRef(true);\n\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false);\n  const firstCloseBtnRef = useRef(null);\n\n  const [tip, setTip] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    title: \"\",\n    range: \"\",\n    venue: \"\",\n    location: \"\",\n    description: \"\",\n    image: null,\n    url: \"\",\n  });\n  const moveHandlerRef = useRef(null);\n  const rafRef = useRef(null);\n\n  console.log(topics);\n\n  // Convert options to DropdownSelect format\n  const categoryOptions = useMemo(() =>\n    (categories || []).map(opt => ({ value: String(opt.id), label: opt.name })),\n    [categories]\n  );\n\n  const typeOptions = useMemo(() =>\n    (types || []).map(opt => ({ value: String(opt.id), label: opt.name })),\n    [types]\n  );\n\n  const topicOptions = useMemo(() =>\n    (Object.values(topics) || []).map(opt => ({ value: String(opt.id), label: opt.name })),\n    [topics]\n  );\n\n  const audienceOptions = useMemo(() =>\n    (audiences || []).map(opt => ({ value: String(opt.id), label: opt.name })),\n    [audiences]\n  );\n\n  const locationTypeOptions = useMemo(() => [\n    { value: \"In Person\", label: \"In Person\" },\n    { value: \"Online\", label: \"Online\" }\n  ], []);\n\n  // Detect if device supports hover\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    const hoverQuery = window.matchMedia(\"(hover: hover) and (pointer: fine)\");\n    setSupportsHover(hoverQuery.matches);\n\n    const onChange = (e) => setSupportsHover(e.matches);\n    if (hoverQuery.addEventListener) {\n      hoverQuery.addEventListener(\"change\", onChange);\n    } else {\n      hoverQuery.addListener(onChange);\n    }\n\n    return () => {\n      if (hoverQuery.removeEventListener) {\n        hoverQuery.removeEventListener(\"change\", onChange);\n      } else {\n        hoverQuery.removeListener(onChange);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const t = setTimeout(() => setDebouncedKeywordValue(keyword), 500);\n    return () => clearTimeout(t);\n  }, [keyword]);\n\n  const getApi = () => {\n    const cal = calendarRef.current;\n    if (!cal) return null;\n    return cal.getApi();\n  };\n\n  const handlePrevClick = () => {\n    const api = getApi();\n    if (api) api.prev();\n  };\n\n  const handleNextClick = () => {\n    const api = getApi();\n    if (api) api.next();\n  };\n\n  const handleTodayClick = () => {\n    const api = getApi();\n    if (api) api.today();\n  };\n\n  const clearEvents = () => {\n    const api = getApi();\n    if (api) api.removeAllEvents();\n  };\n\n  const changeView = (viewName) => {\n    const api = getApi();\n    if (api) api.changeView(viewName);\n  };\n\n  const datesSet = (info) => {\n    const start = info.startStr.split(\"T\")[0];\n    const end = info.endStr.split(\"T\")[0];\n    setDateRange({ start, end });\n    setCurrentView(info.view.type);\n  };\n\n  const slugify = (s = \"\") =>\n    s.toString().normalize(\"NFKD\").replace(/[\\u0300-\\u036f]/g, \"\")\n      .toLowerCase().trim().replace(/[^a-z0-9]+/g, \"-\").replace(/^-+|-+$/g, \"\");\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const params = new URLSearchParams(window.location.search);\n    const audienceParam = params.get(\"audience\");\n    const featuredParam = params.get(\"featured\");\n    const themeParam = params.get(\"theme\");\n    const categoryParam = params.get(\"category\");\n\n    if (categoryParam) {\n      const matchedCategory = (categories || []).find(opt => {\n        const idStr = String(opt.id);\n        const optSlug = (opt.slug ? String(opt.slug) : slugify(opt.name || \"\")).toLowerCase();\n        return categoryParam === idStr || categoryParam === optSlug;\n      });\n      if (matchedCategory) setSelectedCategories([String(matchedCategory.id)]);\n    }\n\n    if (themeParam) {\n      const matchedType = (types || []).find(opt => {\n        const idStr = String(opt.id);\n        const optSlug = (opt.slug ? String(opt.slug) : slugify(opt.name || \"\")).toLowerCase();\n        return themeParam === idStr || themeParam === optSlug;\n      });\n      if (matchedType) setSelectedTypes([String(matchedType.id)]);\n    }\n    if (featuredParam === \"1\") setOnlyFeatured(true);\n    if (!audienceParam) return;\n\n    const requested = audienceParam.split(\",\").map(v => v.trim().toLowerCase()).filter(Boolean);\n    if (!requested.length) return;\n\n    const matchedIds = (audiences || [])\n      .filter(opt => {\n        const idStr = String(opt.id);\n        const optSlug = (opt.slug ? String(opt.slug) : slugify(opt.name || \"\")).toLowerCase();\n        return requested.includes(idStr) || requested.includes(optSlug);\n      })\n      .map(opt => String(opt.id));\n\n    if (matchedIds.length) setSelectedAudiences(matchedIds);\n  }, [audiences, types, categories]);\n\n  useEffect(() => {\n    if (isFirstDatesSet.current) {\n      isFirstDatesSet.current = false;\n      return;\n    }\n    let cancelled = false;\n    setIsLoading(true);\n\n    (async () => {\n      try {\n        const qs = new URLSearchParams(requestParams).toString();\n        const res = await fetch(`/wp-json/sbp/v1/events${qs ? \"?\" + qs : \"\"}`, { headers: { Accept: \"application/json\" } });\n        const json = await res.json();\n        if (cancelled) return;\n\n        clearEvents();\n        const api = calendarRef.current.getApi();\n        (json.events || []).forEach((ev) => {\n          api.addEvent({\n            id: ev.id,\n            title: ev.title || \"Untitled\",\n            start: ev.start,\n            end: ev.end,\n            url: ev.url,\n            extendedProps: {\n              image: ev.image || null,\n              description: ev.description || \"\",\n              venue: ev.venue || \"\",\n              location: ev.location || \"\",\n            },\n          });\n        });\n      } catch (e) {\n        console.error(e);\n      } finally {\n        if (!cancelled) setIsLoading(false);\n      }\n    })();\n\n    return () => { cancelled = true; };\n  }, [requestParams]);\n\n  useEffect(() => {\n    setRequestParams(prev => ({\n      ...prev,\n      start_date: dateRange.start,\n      end_date: dateRange.end,\n      categories: selectedCategories.toString(),\n      types: selectedTypes.toString(),\n      topics: selectedTopics.toString(),\n      audience: selectedAudiences.toString(),\n      location_type: selectedLocations.toString(),\n      is_featured: onlyFeatured ? \"1\" : \"\",\n      s: debouncedKeywordValue,\n    }));\n  }, [dateRange, selectedCategories, selectedTypes, selectedTopics, selectedAudiences, selectedLocations, onlyFeatured, debouncedKeywordValue]);\n\n  const applyResponsiveView = (api) => {\n    if (!api || typeof window === \"undefined\") return;\n    const mobile = window.matchMedia(\"(max-width: 568px)\").matches;\n    if (mobile) {\n      if (api.view?.type !== \"listMonth\") {\n        api.changeView(\"listMonth\");\n        setCurrentView(\"listMonth\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    const api = calendarRef.current?.getApi();\n    if (!api) return;\n    applyResponsiveView(api);\n    const mql = window.matchMedia(\"(max-width: 568px)\");\n    const onChange = () => applyResponsiveView(api);\n    if (mql.addEventListener) mql.addEventListener(\"change\", onChange);\n    else mql.addListener(onChange);\n    const hideTip = () => setTip(t => ({ ...t, visible: false }));\n    window.addEventListener(\"scroll\", hideTip, true);\n    window.addEventListener(\"resize\", hideTip);\n    return () => {\n      if (mql.removeEventListener) mql.removeEventListener(\"change\", onChange);\n      else mql.removeListener(onChange);\n      window.removeEventListener(\"scroll\", hideTip, true);\n      window.removeEventListener(\"resize\", hideTip);\n    };\n  }, []);\n\n  const fmtRange = (event) => {\n    const s = event.start ? new Date(event.start) : null;\n    const e = event.end ? new Date(event.end) : null;\n    if (!s) return \"\";\n    const dateFmt = new Intl.DateTimeFormat(undefined, { weekday: \"short\", day: \"numeric\", month: \"short\", year: \"numeric\" });\n    const timeFmt = new Intl.DateTimeFormat(undefined, { hour: \"numeric\", minute: \"2-digit\" });\n    const sameDay = e && s.toDateString() === e.toDateString();\n    if (!e) return `${dateFmt.format(s)}  ${timeFmt.format(s)}`;\n    if (sameDay) return `${dateFmt.format(s)}  ${timeFmt.format(s)}${timeFmt.format(e)}`;\n    return `${dateFmt.format(s)} ${timeFmt.format(s)}  ${dateFmt.format(e)} ${timeFmt.format(e)}`;\n  };\n\n  const showTooltip = (info) => {\n    const { event, jsEvent } = info;\n    const ep = event.extendedProps || {};\n    const nextTip = {\n      visible: true,\n      x: jsEvent.clientX,\n      y: jsEvent.clientY,\n      title: event.title || \"\",\n      range: fmtRange(event),\n      venue: ep.venue || \"\",\n      location: ep.location || \"\",\n      description: ep.description || \"\",\n      image: ep.image || null,\n      url: event.url || \"\",\n    };\n    setTip(nextTip);\n\n    const onMove = (e) => {\n      if (rafRef.current) cancelAnimationFrame(rafRef.current);\n      rafRef.current = requestAnimationFrame(() => {\n        setTip((t) => ({\n          ...t,\n          x: e.clientX,\n          y: e.clientY,\n        }));\n      });\n    };\n    moveHandlerRef.current = onMove;\n    document.addEventListener(\"mousemove\", onMove, { passive: true });\n  };\n\n  const hideTooltip = () => {\n    if (moveHandlerRef.current) {\n      document.removeEventListener(\"mousemove\", moveHandlerRef.current);\n      moveHandlerRef.current = null;\n    }\n    if (rafRef.current) {\n      cancelAnimationFrame(rafRef.current);\n      rafRef.current = null;\n    }\n    setTip(t => ({ ...t, visible: false }));\n  };\n\n  const filterCount =\n    selectedCategories.length +\n    selectedTypes.length +\n    selectedTopics.length +\n    selectedAudiences.length +\n    selectedLocations.length +\n    (onlyFeatured ? 1 : 0) +\n    (debouncedKeywordValue ? 1 : 0);\n\n  const openFilters = () => setIsFiltersOpen(true);\n  const closeFilters = () => setIsFiltersOpen(false);\n\n  useEffect(() => {\n    if (isFiltersOpen) {\n      const prev = document.body.style.overflow;\n      document.body.style.overflow = \"hidden\";\n      const onKey = (e) => { if (e.key === \"Escape\") closeFilters(); };\n      window.addEventListener(\"keydown\", onKey);\n      setTimeout(() => firstCloseBtnRef.current?.focus(), 0);\n      return () => { document.body.style.overflow = prev; window.removeEventListener(\"keydown\", onKey); };\n    }\n  }, [isFiltersOpen]);\n\n  const clearAll = () => {\n    setKeyword(\"\");\n    setSelectedCategories([]);\n    setSelectedTypes([]);\n    setSelectedTopics([]);\n    setSelectedAudiences([]);\n    setSelectedLocations([]);\n    setOnlyFeatured(false);\n  };\n\n  const viewOptions = [\n    { key: \"dayGridMonth\", label: \"Month\" },\n    { key: \"listWeek\", label: \"Week\" },\n    { key: \"listDay\", label: \"Day\" },\n  ];\n\n  // Render filters (reusable for desktop and mobile)\n  const renderFilters = (isMobile = false) => (\n    <div className=\"space-y-4\">\n      <label className=\"flex items-center gap-3 cursor-pointer\">\n        <input\n          type=\"checkbox\"\n          checked={onlyFeatured}\n          onChange={(e) => setOnlyFeatured(e.target.checked)}\n          className=\"w-5 h-5 rounded border-schemesOutline text-schemesPrimary focus:ring-schemesPrimary\"\n        />\n        <span className=\"Blueprint-body-medium text-schemesOnSurface\">\n          Featured only\n        </span>\n      </label>\n\n      {categoryOptions.length > 0 && (\n        <DropdownSelect\n          label=\"Category\"\n          placeholder=\"Select categories...\"\n          multiple\n          searchable\n          searchPlaceholder=\"Search categories...\"\n          options={categoryOptions}\n          value={selectedCategories}\n          onChange={setSelectedCategories}\n        />\n      )}\n\n      {typeOptions.length > 0 && (\n        <DropdownSelect\n          label=\"Theme\"\n          placeholder=\"Select themes...\"\n          multiple\n          searchable\n          searchPlaceholder=\"Search themes...\"\n          options={typeOptions}\n          value={selectedTypes}\n          onChange={setSelectedTypes}\n        />\n      )}\n\n      {topicOptions.length > 0 && (\n        <DropdownSelect\n          label=\"Topic\"\n          placeholder=\"Select topics...\"\n          multiple\n          searchable\n          searchPlaceholder=\"Search topics...\"\n          options={topicOptions}\n          value={selectedTopics}\n          onChange={setSelectedTopics}\n        />\n      )}\n\n      {audienceOptions.length > 0 && (\n        <DropdownSelect\n          label=\"Audience\"\n          placeholder=\"Select audiences...\"\n          multiple\n          searchable\n          searchPlaceholder=\"Search audiences...\"\n          options={audienceOptions}\n          value={selectedAudiences}\n          onChange={setSelectedAudiences}\n        />\n      )}\n\n      <DropdownSelect\n        label=\"Location Type\"\n        placeholder=\"Select location type...\"\n        multiple\n        searchable={false}\n        options={locationTypeOptions}\n        value={selectedLocations}\n        onChange={setSelectedLocations}\n      />\n    </div>\n  );\n\n  return (\n    <div className=\"bg-schemesSurface\">\n      {/* Calendar CSS fixes */}\n      <style>{`\n        .calendar-wrapper .fc {\n          font-family: inherit;\n        }\n        \n        /* Month view events */\n        .calendar-wrapper .fc-daygrid-event {\n          padding: 2px 4px;\n          font-size: 0.8125rem;\n          line-height: 1.3;\n          border-radius: 4px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n        .calendar-wrapper .fc-daygrid-day-frame {\n          min-height: 100px;\n        }\n        .calendar-wrapper .fc-daygrid-event .fc-event-time {\n          font-weight: 600;\n          margin-right: 4px;\n        }\n        \n        /* List view styles */\n        .calendar-wrapper .fc-list {\n          border: none;\n        }\n        .calendar-wrapper .fc-list-day-cushion {\n          background-color: var(--schemesSurfaceContainerHigh) !important;\n          padding: 12px 16px;\n        }\n        .calendar-wrapper .fc-list-day-text {\n          font-weight: 600;\n          color: var(--schemesOnSurface);\n        }\n        .calendar-wrapper .fc-list-event {\n          cursor: pointer;\n        }\n        .calendar-wrapper .fc-list-event:hover td {\n          background-color: var(--schemesSurfaceContainerHighest) !important;\n        }\n        .calendar-wrapper .fc-list-event-time {\n          padding: 12px 16px;\n          font-weight: 500;\n          color: var(--schemesOnSurfaceVariant);\n          white-space: nowrap;\n        }\n        .calendar-wrapper .fc-list-event-graphic {\n          padding: 12px 8px;\n        }\n        .calendar-wrapper .fc-list-event-dot {\n          border-color: var(--schemesPrimary) !important;\n        }\n        .calendar-wrapper .fc-list-event-title {\n          padding: 12px 16px;\n          font-weight: 500;\n        }\n        .calendar-wrapper .fc-list-event-title a {\n          color: var(--schemesOnSurface);\n          text-decoration: none;\n        }\n        .calendar-wrapper .fc-list-event-title a:hover {\n          color: var(--schemesPrimary);\n        }\n        \n        /* Day view - taller minimum height */\n        .calendar-wrapper .fc-listDay-view {\n          min-height: 500px;\n        }\n        .calendar-wrapper .fc-listDay-view .fc-list-empty {\n          min-height: 500px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        \n        /* Headers */\n        .calendar-wrapper .fc-col-header-cell {\n          padding: 12px 0;\n          font-weight: 600;\n        }\n        \n        /* Borders */\n        .calendar-wrapper .fc-scrollgrid {\n          border: none !important;\n        }\n        .calendar-wrapper .fc-scrollgrid td,\n        .calendar-wrapper .fc-scrollgrid th {\n          border-color: var(--schemesOutlineVariant) !important;\n        }\n        \n        /* Today highlight */\n        .calendar-wrapper .fc-day-today {\n          background-color: var(--schemesPrimaryContainer) !important;\n        }\n      `}</style>\n\n      <div className=\"bg-schemesPrimaryFixed\">\n        <div className=\"tsb-container\">\n          <div className=\"py-16 flex flex-col justify-end items-start gap-2 max-w-3xl\">\n            <div className=\"py-4 px-1.5 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large\">\n              Upcoming Community Events\n            </div>\n            <div className=\"lg:Blueprint-body-large md:Blueprint-body-medium Blueprint-body-small text-schemesOnPrimaryFixedVariant\">\n              Connect. Celebrate. Belong. Explore Melbourne's Jewish Events.\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className={`tsb-container py-8 flex flex-grow ${isLoading ? \"cursor-wait\" : \"\"}`}>\n        {/* Desktop sidebar */}\n        <aside className={`hidden lg:block calendar-sidebar pr-4 basis-[20%] shrink-0 ${isLoading ? \"opacity-50 pointer-events-none\" : \"\"}`}>\n          {/* Search */}\n          <div className=\"mb-6\">\n            <label htmlFor=\"calendar-search\" className=\"sr-only\">Search by keyword</label>\n            <div className=\"relative\">\n              <input\n                id=\"calendar-search\"\n                type=\"text\"\n                placeholder=\"Search by keyword\"\n                value={keyword}\n                onChange={(e) => setKeyword(e.target.value)}\n                className=\"Blueprint-body-medium w-full pl-4 pr-10 py-3 rounded-3xl bg-schemesSurfaceContainerHigh focus:outline-none focus:ring-2 focus:ring-schemesPrimary\"\n              />\n              <MagnifyingGlass\n                size={20}\n                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                weight=\"bold\"\n              />\n            </div>\n          </div>\n\n          <h2 className=\"Blueprint-headline-small-emphasized text-schemesOnSurfaceVariant mb-4\">Filters</h2>\n\n          {filterCount > 0 && (\n            <div className=\"mb-4\">\n              <Button size=\"sm\" variant=\"tonal\" onClick={clearAll} label=\"Clear all filters\" />\n            </div>\n          )}\n\n          {renderFilters(false)}\n        </aside>\n\n        <section className={`flex-1 min-w-0 transition duration-100 ${isLoading ? \"opacity-50 pointer-events-none\" : \"\"}`}>\n          {/* Mobile: Search + Filter button */}\n          <div className=\"lg:hidden px-3 sm:px-4 md:px-6 flex items-center gap-2 mb-4\">\n            <div className=\"relative flex-1\">\n              <input\n                type=\"text\"\n                placeholder=\"Search by keyword\"\n                value={keyword}\n                onChange={(e) => setKeyword(e.target.value)}\n                className=\"Blueprint-body-medium w-full pl-4 pr-10 py-3 rounded-3xl bg-schemesSurfaceContainerHigh focus:outline-none focus:ring-2 focus:ring-schemesPrimary\"\n              />\n              <MagnifyingGlass\n                size={20}\n                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                weight=\"bold\"\n              />\n            </div>\n\n            <Button\n              onClick={openFilters}\n              icon={<FunnelSimple />}\n              label={filterCount ? `Filters (${filterCount})` : \"Filters\"}\n              variant=\"outlined\"\n              size=\"base\"\n              aria-expanded={isFiltersOpen}\n              aria-controls=\"mobile-filters\"\n            />\n          </div>\n\n          {/* Calendar controls: nav + view switcher */}\n          <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 px-3 sm:px-4 md:px-6 lg:px-8 mb-6\">\n            {/* Navigation buttons */}\n            <div className=\"flex items-center gap-2\">\n              <button\n                type=\"button\"\n                onClick={handlePrevClick}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full border border-schemesOutline text-schemesOnSurface Blueprint-label-large hover:bg-schemesSurfaceContainerHigh transition-colors\"\n              >\n                <ArrowLeft size={18} />\n                <span className=\"hidden sm:inline\">Previous</span>\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleTodayClick}\n                className=\"px-4 py-2 rounded-full bg-schemesPrimaryContainer text-schemesOnPrimaryContainer Blueprint-label-large hover:bg-schemesPrimary hover:text-schemesOnPrimary transition-colors\"\n              >\n                Today\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleNextClick}\n                className=\"flex items-center gap-2 px-4 py-2 rounded-full border border-schemesOutline text-schemesOnSurface Blueprint-label-large hover:bg-schemesSurfaceContainerHigh transition-colors\"\n              >\n                <span className=\"hidden sm:inline\">Next</span>\n                <ArrowRight size={18} />\n              </button>\n            </div>\n\n            {/* View switcher - hidden on mobile */}\n            <div className=\"hidden md:flex items-center gap-1 p-1 rounded-full bg-schemesSurfaceContainerHigh\">\n              {viewOptions.map((opt) => {\n                const isActive = currentView === opt.key;\n                return (\n                  <button\n                    key={opt.key}\n                    type=\"button\"\n                    onClick={() => changeView(opt.key)}\n                    className={`px-4 py-2 rounded-full Blueprint-label-large transition-colors ${isActive\n                      ? \"bg-schemesPrimary text-schemesOnPrimary\"\n                      : \"text-schemesOnSurfaceVariant hover:bg-schemesSurfaceContainerHighest\"\n                      }`}\n                  >\n                    {opt.label}\n                  </button>\n                );\n              })}\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-2xl border border-schemesOutlineVariant overflow-hidden calendar-wrapper\">\n            <FullCalendar\n              ref={calendarRef}\n              plugins={[dayGridPlugin, listPlugin]}\n              initialView=\"dayGridMonth\"\n              headerToolbar={false}\n              fixedWeekCount={false}\n              dayMaxEvents={3}\n              dayMaxEventRows={3}\n              eventColor=\"var(--schemesPrimaryFixed)\"\n              eventTextColor=\"var(--schemesOnPrimaryFixed)\"\n              eventDisplay=\"block\"\n              height=\"auto\"\n              datesSet={datesSet}\n              eventMouseEnter={supportsHover ? showTooltip : undefined}\n              eventMouseLeave={supportsHover ? hideTooltip : undefined}\n              nowIndicator={true}\n              eventTimeFormat={{\n                hour: \"numeric\",\n                minute: \"2-digit\",\n                meridiem: \"short\",\n              }}\n              views={{\n                dayGridMonth: {\n                  showNonCurrentDates: false,\n                  displayEventTime: false,\n                  dayHeaderFormat: { weekday: \"short\" },\n                  dayMaxEvents: 3,\n                },\n                listWeek: {\n                  listDayFormat: { weekday: \"long\", month: \"long\", day: \"numeric\" },\n                  listDaySideFormat: false,\n                  noEventsContent: \"No events this week\",\n                },\n                listDay: {\n                  listDayFormat: { weekday: \"long\", month: \"long\", day: \"numeric\", year: \"numeric\" },\n                  listDaySideFormat: false,\n                  noEventsContent: \"No events today\",\n                },\n                listMonth: {\n                  noEventsContent: \"No events this month\",\n                },\n              }}\n            />\n          </div>\n        </section>\n      </div>\n\n      {/* Tooltip */}\n      {supportsHover && tip.visible && (() => {\n        const tooltipWidth = 448;\n        const tooltipHeight = 200;\n        const offset = 12;\n        const padding = 16;\n\n        const spaceOnRight = window.innerWidth - tip.x - offset - padding;\n        const spaceOnLeft = tip.x - offset - padding;\n        const showOnLeft = spaceOnRight < tooltipWidth && spaceOnLeft > spaceOnRight;\n\n        const spaceBelow = window.innerHeight - tip.y - offset - padding;\n        const spaceAbove = tip.y - offset - padding;\n        const showAbove = spaceBelow < tooltipHeight && spaceAbove > spaceBelow;\n\n        const style = {\n          ...(showOnLeft\n            ? { right: window.innerWidth - tip.x + offset }\n            : { left: tip.x + offset }\n          ),\n          ...(showAbove\n            ? { bottom: window.innerHeight - tip.y + offset }\n            : { top: tip.y + offset }\n          ),\n        };\n\n        return (\n          <div\n            role=\"tooltip\"\n            className=\"pointer-events-none fixed z-[10000] max-w-md rounded-2xl border bg-schemesSurface text-schemesOnSurface border-schemesOutlineVariant shadow-3x3 p-5\"\n            style={style}\n            aria-hidden={!tip.visible}\n          >\n            <div className=\"flex gap-4\">\n              {tip.image && (\n                <img\n                  src={tip.image}\n                  alt=\"\"\n                  className=\"w-28 h-28 rounded-xl object-cover shrink-0\"\n                  loading=\"lazy\"\n                  decoding=\"async\"\n                />\n              )}\n              <div className=\"min-w-0 flex-1\">\n                <div className=\"Blueprint-title-medium-emphasized line-clamp-2\">{tip.title}</div>\n                {tip.range && <div className=\"Blueprint-body-small text-schemesOnSurfaceVariant mt-1\">{tip.range}</div>}\n                {(tip.venue || tip.location) && (\n                  <div className=\"Blueprint-body-small text-schemesOnSurfaceVariant mt-1\">\n                    {[tip.venue, tip.location].filter(Boolean).join(\"  \")}\n                  </div>\n                )}\n                {tip.description && (\n                  <div className=\"Blueprint-body-medium text-schemesOnSurface mt-3 line-clamp-4\" dangerouslySetInnerHTML={{ __html: tip.description }} />\n                )}\n              </div>\n            </div>\n          </div>\n        );\n      })()}\n\n      {/* Mobile filters drawer */}\n      <div\n        id=\"mobile-filters\"\n        className={`lg:hidden fixed inset-0 z-[70] ${isFiltersOpen ? \"\" : \"pointer-events-none\"}`}\n        aria-hidden={!isFiltersOpen}\n      >\n        <div\n          onClick={closeFilters}\n          className={`absolute inset-0 transition-opacity ${isFiltersOpen ? \"opacity-100\" : \"opacity-0\"} bg-black/40`}\n        />\n\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-label=\"Filters\"\n          className={`absolute left-0 right-0 bottom-0 max-h-[85vh] rounded-t-2xl bg-schemesSurface shadow-[0_-16px_48px_rgba(0,0,0,0.25)] transition-transform duration-300 flex flex-col ${isFiltersOpen ? \"translate-y-0\" : \"translate-y-full\"}`}\n        >\n          <div className=\"relative px-4 py-3 border-b border-schemesOutlineVariant shrink-0\">\n            <div className=\"mx-auto h-1.5 w-12 rounded-full bg-schemesOutlineVariant\" />\n            <div className=\"mt-3 flex items-center justify-between\">\n              <div className=\"Blueprint-title-small-emphasized\">Filters</div>\n              <button\n                ref={firstCloseBtnRef}\n                type=\"button\"\n                onClick={closeFilters}\n                className=\"rounded-full p-2 hover:bg-schemesSurfaceContainerHigh text-schemesOnSurfaceVariant\"\n                aria-label=\"Close filters\"\n              >\n                <X />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"px-4 py-4 overflow-y-auto flex-1 space-y-4\">\n            {/* Search in drawer */}\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                placeholder=\"Search by keyword\"\n                value={keyword}\n                onChange={(e) => setKeyword(e.target.value)}\n                className=\"Blueprint-body-medium w-full pl-4 pr-10 py-3 rounded-3xl bg-schemesSurfaceContainerHigh focus:outline-none focus:ring-2 focus:ring-schemesPrimary\"\n              />\n              <MagnifyingGlass\n                size={20}\n                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                weight=\"bold\"\n              />\n            </div>\n\n            {renderFilters(true)}\n          </div>\n\n          <div className=\"sticky bottom-0 px-4 py-3 bg-schemesSurface border-t border-schemesOutlineVariant flex gap-2 shrink-0\">\n            <Button onClick={clearAll} variant=\"outlined\" label=\"Clear all\" className=\"flex-1\" />\n            <Button onClick={closeFilters} variant=\"filled\" label=\"Apply\" className=\"flex-1\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["React","clsx","jsx","_jsx","jsxs","_jsxs","Button","className","label","size","variant","shape","icon","disabled","onClick","type","sizeStyles","xs","sm","base","lg","xl","rounded","square","pill","variantStyles","filled","tonal","outline","elevated","text","disabledStyles","baseCursor","children","useState","useRef","useEffect","useId","useMemo","CaretDown","CaretRight","MagnifyingGlass","Check","flattenOptions","options","depth","parentExpanded","result","option","push","hasChildren","Array","isArray","length","concat","filterOptionsRecursive","searchLower","reduce","acc","labelMatches","toLowerCase","includes","filteredChildren","_matches","getDescendantValues","values","child","value","findOptionByValue","found","DropdownSelect","onChange","multiple","searchable","searchPlaceholder","placeholder","error","supportingText","collapsible","isOpen","setIsOpen","search","setSearch","expandedNodes","setExpandedNodes","Set","dropdownRef","triggerRef","id","selectedValues","isNested","some","opt","filteredOptions","trim","flatOptions","allParentValues","collectParents","opts","add","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleEscape","key","toggleExpanded","optionValue","stopPropagation","prev","next","has","delete","handleSelect","newValue","filter","v","getDisplayText","findLabels","labels","selectedLabels","hasError","helperText","isOptionVisible","index","i","prevOption","renderOption","isSelected","isExpanded","indent","style","paddingLeft","role","weight","image","src","alt","ref","autoFocus","map","FullCalendar","dayGridPlugin","listPlugin","ArrowLeft","ArrowRight","FunnelSimple","X","EventsCalendar","categories","types","topics","audiences","locations","keyword","setKeyword","debouncedKeywordValue","setDebouncedKeywordValue","dateRange","setDateRange","start","end","requestParams","setRequestParams","per_page","selectedCategories","setSelectedCategories","selectedTypes","setSelectedTypes","selectedTopics","setSelectedTopics","selectedAudiences","setSelectedAudiences","selectedLocations","setSelectedLocations","onlyFeatured","setOnlyFeatured","isLoading","setIsLoading","currentView","setCurrentView","supportsHover","setSupportsHover","calendarRef","isFirstDatesSet","isFiltersOpen","setIsFiltersOpen","firstCloseBtnRef","tip","setTip","visible","x","y","title","range","venue","location","description","url","moveHandlerRef","rafRef","console","log","categoryOptions","String","name","typeOptions","topicOptions","Object","audienceOptions","locationTypeOptions","window","hoverQuery","matchMedia","matches","addListener","removeListener","t","setTimeout","clearTimeout","getApi","cal","handlePrevClick","api","handleNextClick","handleTodayClick","today","clearEvents","removeAllEvents","changeView","viewName","datesSet","info","startStr","split","endStr","view","slugify","s","toString","normalize","replace","params","URLSearchParams","audienceParam","get","featuredParam","themeParam","categoryParam","matchedCategory","find","idStr","optSlug","slug","matchedType","requested","Boolean","matchedIds","cancelled","qs","res","fetch","headers","Accept","json","events","forEach","ev","addEvent","extendedProps","start_date","end_date","audience","location_type","is_featured","applyResponsiveView","mobile","mql","hideTip","fmtRange","event","Date","dateFmt","Intl","DateTimeFormat","undefined","weekday","day","month","year","timeFmt","hour","minute","sameDay","toDateString","format","showTooltip","jsEvent","ep","nextTip","clientX","clientY","onMove","cancelAnimationFrame","requestAnimationFrame","passive","hideTooltip","filterCount","openFilters","closeFilters","body","overflow","onKey","focus","clearAll","viewOptions","renderFilters","isMobile","checked","htmlFor","isActive","plugins","initialView","headerToolbar","fixedWeekCount","dayMaxEvents","dayMaxEventRows","eventColor","eventTextColor","eventDisplay","height","eventMouseEnter","eventMouseLeave","nowIndicator","eventTimeFormat","meridiem","views","dayGridMonth","showNonCurrentDates","displayEventTime","dayHeaderFormat","listWeek","listDayFormat","listDaySideFormat","noEventsContent","listDay","listMonth","tooltipWidth","tooltipHeight","offset","padding","spaceOnRight","innerWidth","spaceOnLeft","showOnLeft","spaceBelow","innerHeight","spaceAbove","showAbove","right","left","bottom","top","loading","decoding","join","dangerouslySetInnerHTML","__html"],"sourceRoot":""}