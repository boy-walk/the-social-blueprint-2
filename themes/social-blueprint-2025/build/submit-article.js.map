{"version":3,"file":"submit-article.js?ver=1c599356efeb6cb21539","mappings":";;;;;;;;;;;;;;;;;;AAA0B;AACF;AAAA;AAEjB,SAASM,MAAMA,CAAC;EACrBC,SAAS,GAAG,EAAE;EACdC,KAAK,GAAG,OAAO;EACfC,IAAI,GAAG,MAAM;EACbC,OAAO,GAAG,QAAQ;EAClBC,KAAK,GAAG,QAAQ;EAChBC,IAAI;EACJC,QAAQ,GAAG,KAAK;EAChBC,OAAO,GAAGA,CAAA,KAAM,CAAE,CAAC;EACnBC,IAAI,GAAG;AACT,CAAC,EAAE;EACD,MAAMC,UAAU,GAAG;IACjBC,EAAE,EAAE,sFAAsF;IAC1FC,EAAE,EAAE,oFAAoF;IACxFC,IAAI,EAAE,sFAAsF;IAC5FC,EAAE,EAAE,6FAA6F;IACjGC,EAAE,EAAE;EACN,CAAC,CAACZ,IAAI,CAAC;EAEP,MAAMa,OAAO,GAAG;IACdC,MAAM,EAAE;MAAEN,EAAE,EAAE,YAAY;MAAEC,EAAE,EAAE,YAAY;MAAEC,IAAI,EAAE,gBAAgB;MAAEC,EAAE,EAAE,gBAAgB;MAAEC,EAAE,EAAE;IAAiB,CAAC;IAClHG,IAAI,EAAE;MAAEP,EAAE,EAAE,iBAAiB;MAAEC,EAAE,EAAE,iBAAiB;MAAEC,IAAI,EAAE,iBAAiB;MAAEC,EAAE,EAAE,iBAAiB;MAAEC,EAAE,EAAE;IAAkB;EAC9H,CAAC;EAED,MAAMI,aAAa,GAAG;IACpBC,MAAM,EAAE,+FAA+F;IACvGC,KAAK,EAAE,qHAAqH;IAC5HC,OAAO,EAAE,8GAA8G;IACvHC,QAAQ,EAAE,4IAA4I;IACtJC,IAAI,EAAE;EACR,CAAC,CAACpB,OAAO,CAAC;;EAEV;EACA,MAAMqB,cAAc,GAAGlB,QAAQ,GAAG,mDAAmD,GAAG,EAAE;EAC1F,MAAMmB,UAAU,GAAGnB,QAAQ,GAAG,EAAE,GAAG,gBAAgB;EAEnD,oBACER,uDAAA;IACEU,IAAI,EAAEA,IAAK;IACXD,OAAO,EAAEA,OAAQ;IACjBD,QAAQ,EAAEA,QAAS;IACnB,iBAAeA,QAAS;IACxBN,SAAS,EAAEN,gDAAI,CACb,8EAA8E,EAC9E+B,UAAU;IAAa;IACvBhB,UAAU,EACVM,OAAO,CAACX,KAAK,CAAC,CAACF,IAAI,CAAC,EACpBgB,aAAa,EACbM,cAAc;IAAS;IACvBxB,SACF,CAAE;IAAA0B,QAAA,GAEDrB,IAAI,iBAAIT,sDAAA;MAAMI,SAAS,EAAC,UAAU;MAAA0B,QAAA,EAAErB;IAAI,CAAO,CAAC,eACjDT,sDAAA;MAAMI,SAAS,EAAC,uBAAuB;MAAA0B,QAAA,EAAEzB;IAAK,CAAO,CAAC;EAAA,CAChD,CAAC;AAEb;;;;;;;;;;;;;;;;;;;;;;;;AC3D2E;AACnD;AAC8D;AACpD;;AAElC;AACA;AACA;AAFA;AAGA,SAASmC,cAAcA,CAACC,OAAO,EAAEC,KAAK,GAAG,CAAC,EAAEC,cAAc,GAAG,IAAI,EAAE;EACjE,IAAIC,MAAM,GAAG,EAAE;EACf,KAAK,MAAMC,MAAM,IAAIJ,OAAO,EAAE;IAC5BG,MAAM,CAACE,IAAI,CAAC;MACV,GAAGD,MAAM;MACTH,KAAK;MACLK,WAAW,EAAEC,KAAK,CAACC,OAAO,CAACJ,MAAM,CAACf,QAAQ,CAAC,IAAIe,MAAM,CAACf,QAAQ,CAACoB,MAAM,GAAG;IAC1E,CAAC,CAAC;IACF,IAAIL,MAAM,CAACf,QAAQ,IAAIe,MAAM,CAACf,QAAQ,CAACoB,MAAM,GAAG,CAAC,EAAE;MACjDN,MAAM,GAAGA,MAAM,CAACO,MAAM,CAACX,cAAc,CAACK,MAAM,CAACf,QAAQ,EAAEY,KAAK,GAAG,CAAC,EAAEC,cAAc,CAAC,CAAC;IACpF;EACF;EACA,OAAOC,MAAM;AACf;;AAEA;AACA;AACA;AACA;AACA,SAASQ,sBAAsBA,CAACX,OAAO,EAAEY,WAAW,EAAE;EACpD,IAAI,CAACA,WAAW,EAAE,OAAOZ,OAAO;EAEhC,OAAOA,OAAO,CAACa,MAAM,CAAC,CAACC,GAAG,EAAEV,MAAM,KAAK;IACrC,MAAMW,YAAY,GAAGX,MAAM,CAACxC,KAAK,CAACoD,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACL,WAAW,CAAC;;IAErE;IACA,IAAIM,gBAAgB,GAAG,EAAE;IACzB,IAAId,MAAM,CAACf,QAAQ,IAAIe,MAAM,CAACf,QAAQ,CAACoB,MAAM,GAAG,CAAC,EAAE;MACjDS,gBAAgB,GAAGP,sBAAsB,CAACP,MAAM,CAACf,QAAQ,EAAEuB,WAAW,CAAC;IACzE;;IAEA;IACA,IAAIG,YAAY,IAAIG,gBAAgB,CAACT,MAAM,GAAG,CAAC,EAAE;MAC/CK,GAAG,CAACT,IAAI,CAAC;QACP,GAAGD,MAAM;QACTf,QAAQ,EAAE6B,gBAAgB,CAACT,MAAM,GAAG,CAAC,GAAGS,gBAAgB,GAAGd,MAAM,CAACf,QAAQ;QAC1E;QACA8B,QAAQ,EAAEJ;MACZ,CAAC,CAAC;IACJ;IAEA,OAAOD,GAAG;EACZ,CAAC,EAAE,EAAE,CAAC;AACR;;AAEA;AACA;AACA;AACA,SAASM,mBAAmBA,CAAChB,MAAM,EAAE;EACnC,IAAIiB,MAAM,GAAG,EAAE;EACf,IAAIjB,MAAM,CAACf,QAAQ,EAAE;IACnB,KAAK,MAAMiC,KAAK,IAAIlB,MAAM,CAACf,QAAQ,EAAE;MACnCgC,MAAM,CAAChB,IAAI,CAACiB,KAAK,CAACC,KAAK,CAAC;MACxBF,MAAM,GAAGA,MAAM,CAACX,MAAM,CAACU,mBAAmB,CAACE,KAAK,CAAC,CAAC;IACpD;EACF;EACA,OAAOD,MAAM;AACf;;AAEA;AACA;AACA;AACA,SAASG,iBAAiBA,CAACxB,OAAO,EAAEuB,KAAK,EAAE;EACzC,KAAK,MAAMnB,MAAM,IAAIJ,OAAO,EAAE;IAC5B,IAAII,MAAM,CAACmB,KAAK,KAAKA,KAAK,EAAE,OAAOnB,MAAM;IACzC,IAAIA,MAAM,CAACf,QAAQ,EAAE;MACnB,MAAMoC,KAAK,GAAGD,iBAAiB,CAACpB,MAAM,CAACf,QAAQ,EAAEkC,KAAK,CAAC;MACvD,IAAIE,KAAK,EAAE,OAAOA,KAAK;IACzB;EACF;EACA,OAAO,IAAI;AACb;AAEO,SAASC,cAAcA,CAAC;EAC7B9D,KAAK,GAAG,QAAQ;EAChBoC,OAAO,GAAG,EAAE;EACZuB,KAAK,GAAG,EAAE;EACVI,QAAQ;EACRC,QAAQ,GAAG,KAAK;EAChBC,UAAU,GAAG,IAAI;EACjBC,iBAAiB,GAAG,WAAW;EAC/BC,WAAW,GAAG,kBAAkB;EAChC9D,QAAQ,GAAG,KAAK;EAChB+D,KAAK,GAAG,EAAE;EACVC,cAAc,GAAG,EAAE;EACnBC,WAAW,GAAG,KAAK,CAAE;AACvB,CAAC,EAAE;EACD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG9C,+CAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAAC+C,MAAM,EAAEC,SAAS,CAAC,GAAGhD,+CAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACiD,aAAa,EAAEC,gBAAgB,CAAC,GAAGlD,+CAAQ,CAAC,IAAImD,GAAG,CAAC,CAAC,CAAC;EAC7D,MAAMC,WAAW,GAAGnD,6CAAM,CAAC,IAAI,CAAC;EAChC,MAAMoD,UAAU,GAAGpD,6CAAM,CAAC,IAAI,CAAC;EAC/B,MAAMqD,EAAE,GAAGnD,4CAAK,CAAC,CAAC;;EAElB;EACA,MAAMoD,cAAc,GAAGjB,QAAQ,GAAIrB,KAAK,CAACC,OAAO,CAACe,KAAK,CAAC,GAAGA,KAAK,GAAG,EAAE,GAAKA,KAAK,GAAG,CAACA,KAAK,CAAC,GAAG,EAAG;;EAE9F;EACA,MAAMuB,QAAQ,GAAGpD,8CAAO,CAAC,MAAM;IAC7B,OAAOM,OAAO,CAAC+C,IAAI,CAACC,GAAG,IAAIA,GAAG,CAAC3D,QAAQ,IAAI2D,GAAG,CAAC3D,QAAQ,CAACoB,MAAM,GAAG,CAAC,CAAC;EACrE,CAAC,EAAE,CAACT,OAAO,CAAC,CAAC;;EAEb;EACA,MAAMiD,eAAe,GAAGvD,8CAAO,CAAC,MAAM;IACpC,MAAMkB,WAAW,GAAGyB,MAAM,CAACrB,WAAW,CAAC,CAAC,CAACkC,IAAI,CAAC,CAAC;IAC/C,IAAI,CAACtC,WAAW,EAAE,OAAOZ,OAAO;IAChC,OAAOW,sBAAsB,CAACX,OAAO,EAAEY,WAAW,CAAC;EACrD,CAAC,EAAE,CAACZ,OAAO,EAAEqC,MAAM,CAAC,CAAC;;EAErB;EACA,MAAMc,WAAW,GAAGzD,8CAAO,CAAC,MAAM;IAChC,OAAOK,cAAc,CAACkD,eAAe,CAAC;EACxC,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;;EAErB;EACAzD,gDAAS,CAAC,MAAM;IACd,IAAI6C,MAAM,IAAIS,QAAQ,EAAE;MACtB,MAAMM,eAAe,GAAG,IAAIX,GAAG,CAAC,CAAC;MACjC,MAAMY,cAAc,GAAIC,IAAI,IAAK;QAC/B,KAAK,MAAMN,GAAG,IAAIM,IAAI,EAAE;UACtB,IAAIN,GAAG,CAAC3D,QAAQ,IAAI2D,GAAG,CAAC3D,QAAQ,CAACoB,MAAM,GAAG,CAAC,EAAE;YAC3C2C,eAAe,CAACG,GAAG,CAACP,GAAG,CAACzB,KAAK,CAAC;YAC9B8B,cAAc,CAACL,GAAG,CAAC3D,QAAQ,CAAC;UAC9B;QACF;MACF,CAAC;MACDgE,cAAc,CAACJ,eAAe,CAAC;MAC/BT,gBAAgB,CAACY,eAAe,CAAC;IACnC;EACF,CAAC,EAAE,CAACf,MAAM,EAAEY,eAAe,EAAEH,QAAQ,CAAC,CAAC;;EAEvC;EACAtD,gDAAS,CAAC,MAAM;IACd,IAAIsD,QAAQ,IAAI,CAACZ,WAAW,EAAE;MAC5B,MAAMkB,eAAe,GAAG,IAAIX,GAAG,CAAC,CAAC;MACjC,MAAMY,cAAc,GAAIC,IAAI,IAAK;QAC/B,KAAK,MAAMN,GAAG,IAAIM,IAAI,EAAE;UACtB,IAAIN,GAAG,CAAC3D,QAAQ,IAAI2D,GAAG,CAAC3D,QAAQ,CAACoB,MAAM,GAAG,CAAC,EAAE;YAC3C2C,eAAe,CAACG,GAAG,CAACP,GAAG,CAACzB,KAAK,CAAC;YAC9B8B,cAAc,CAACL,GAAG,CAAC3D,QAAQ,CAAC;UAC9B;QACF;MACF,CAAC;MACDgE,cAAc,CAACrD,OAAO,CAAC;MACvBwC,gBAAgB,CAACY,eAAe,CAAC;IACnC;EACF,CAAC,EAAE,CAACpD,OAAO,EAAE8C,QAAQ,EAAEZ,WAAW,CAAC,CAAC;;EAEpC;EACA1C,gDAAS,CAAC,MAAM;IACd,MAAMgE,kBAAkB,GAAIC,CAAC,IAAK;MAChC,IACEf,WAAW,CAACgB,OAAO,IACnB,CAAChB,WAAW,CAACgB,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,IACvC,CAACjB,UAAU,CAACe,OAAO,CAACC,QAAQ,CAACF,CAAC,CAACG,MAAM,CAAC,EACtC;QACAxB,SAAS,CAAC,KAAK,CAAC;QAChBE,SAAS,CAAC,EAAE,CAAC;MACf;IACF,CAAC;IAED,IAAIH,MAAM,EAAE;MACV0B,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEN,kBAAkB,CAAC;IAC5D;IACA,OAAO,MAAMK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEP,kBAAkB,CAAC;EAC5E,CAAC,EAAE,CAACrB,MAAM,CAAC,CAAC;;EAEZ;EACA3C,gDAAS,CAAC,MAAM;IACd,MAAMwE,YAAY,GAAIP,CAAC,IAAK;MAC1B,IAAIA,CAAC,CAACQ,GAAG,KAAK,QAAQ,EAAE;QACtB7B,SAAS,CAAC,KAAK,CAAC;QAChBE,SAAS,CAAC,EAAE,CAAC;MACf;IACF,CAAC;IAED,IAAIH,MAAM,EAAE;MACV0B,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEE,YAAY,CAAC;IACpD;IACA,OAAO,MAAMH,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEC,YAAY,CAAC;EACpE,CAAC,EAAE,CAAC7B,MAAM,CAAC,CAAC;EAEZ,MAAM+B,cAAc,GAAGA,CAACC,WAAW,EAAEV,CAAC,KAAK;IACzCA,CAAC,CAACW,eAAe,CAAC,CAAC;IACnB5B,gBAAgB,CAAC6B,IAAI,IAAI;MACvB,MAAMC,IAAI,GAAG,IAAI7B,GAAG,CAAC4B,IAAI,CAAC;MAC1B,IAAIC,IAAI,CAACC,GAAG,CAACJ,WAAW,CAAC,EAAE;QACzBG,IAAI,CAACE,MAAM,CAACL,WAAW,CAAC;MAC1B,CAAC,MAAM;QACLG,IAAI,CAACf,GAAG,CAACY,WAAW,CAAC;MACvB;MACA,OAAOG,IAAI;IACb,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,YAAY,GAAIN,WAAW,IAAK;IACpC,IAAIvC,QAAQ,EAAE;MACZ,MAAM8C,QAAQ,GAAG7B,cAAc,CAAC5B,QAAQ,CAACkD,WAAW,CAAC,GACjDtB,cAAc,CAAC8B,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAKT,WAAW,CAAC,GAC7C,CAAC,GAAGtB,cAAc,EAAEsB,WAAW,CAAC;MACpCxC,QAAQ,GAAG+C,QAAQ,CAAC;IACtB,CAAC,MAAM;MACL/C,QAAQ,GAAGwC,WAAW,CAAC;MACvB/B,SAAS,CAAC,KAAK,CAAC;MAChBE,SAAS,CAAC,EAAE,CAAC;IACf;EACF,CAAC;EAED,MAAMuC,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAIhC,cAAc,CAACpC,MAAM,KAAK,CAAC,EAAE,OAAOsB,WAAW;;IAEnD;IACA,MAAM+C,UAAU,GAAGA,CAACxB,IAAI,EAAEjC,MAAM,KAAK;MACnC,IAAI0D,MAAM,GAAG,EAAE;MACf,KAAK,MAAM/B,GAAG,IAAIM,IAAI,EAAE;QACtB,IAAIjC,MAAM,CAACJ,QAAQ,CAAC+B,GAAG,CAACzB,KAAK,CAAC,EAAE;UAC9BwD,MAAM,CAAC1E,IAAI,CAAC2C,GAAG,CAACpF,KAAK,CAAC;QACxB;QACA,IAAIoF,GAAG,CAAC3D,QAAQ,EAAE;UAChB0F,MAAM,GAAGA,MAAM,CAACrE,MAAM,CAACoE,UAAU,CAAC9B,GAAG,CAAC3D,QAAQ,EAAEgC,MAAM,CAAC,CAAC;QAC1D;MACF;MACA,OAAO0D,MAAM;IACf,CAAC;IAED,MAAMC,cAAc,GAAGF,UAAU,CAAC9E,OAAO,EAAE6C,cAAc,CAAC;IAE1D,IAAImC,cAAc,CAACvE,MAAM,KAAK,CAAC,EAAE,OAAOuE,cAAc,CAAC,CAAC,CAAC;IACzD,OAAO,GAAGA,cAAc,CAACvE,MAAM,WAAW;EAC5C,CAAC;EAED,MAAMwE,QAAQ,GAAG,OAAOjD,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACvB,MAAM,GAAG,CAAC;EAC9D,MAAMyE,UAAU,GAAGD,QAAQ,GAAGjD,KAAK,GAAGC,cAAc;;EAEpD;EACA,MAAMkD,eAAe,GAAGA,CAAC/E,MAAM,EAAEgF,KAAK,KAAK;IACzC,IAAI,CAAClD,WAAW,IAAI9B,MAAM,CAACH,KAAK,KAAK,CAAC,EAAE,OAAO,IAAI;;IAEnD;IACA,KAAK,IAAIoF,CAAC,GAAGD,KAAK,GAAG,CAAC,EAAEC,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MACnC,MAAMC,UAAU,GAAGnC,WAAW,CAACkC,CAAC,CAAC;MACjC,IAAIC,UAAU,CAACrF,KAAK,GAAGG,MAAM,CAACH,KAAK,EAAE;QACnC;QACA,IAAIqF,UAAU,CAAChF,WAAW,IAAI,CAACiC,aAAa,CAACgC,GAAG,CAACe,UAAU,CAAC/D,KAAK,CAAC,EAAE;UAClE,OAAO,KAAK;QACd;QACA,IAAI+D,UAAU,CAACrF,KAAK,KAAK,CAAC,EAAE;MAC9B;IACF;IACA,OAAO,IAAI;EACb,CAAC;;EAED;EACA,MAAMsF,YAAY,GAAGA,CAACnF,MAAM,EAAEgF,KAAK,KAAK;IACtC;IACA,IAAIlD,WAAW,IAAI,CAACiD,eAAe,CAAC/E,MAAM,EAAEgF,KAAK,CAAC,EAAE;MAClD,OAAO,IAAI;IACb;IAEA,MAAMI,UAAU,GAAG3C,cAAc,CAAC5B,QAAQ,CAACb,MAAM,CAACmB,KAAK,CAAC;IACxD,MAAMkE,UAAU,GAAGlD,aAAa,CAACgC,GAAG,CAACnE,MAAM,CAACmB,KAAK,CAAC;IAClD,MAAMmE,MAAM,GAAGtF,MAAM,CAACH,KAAK,GAAG,EAAE;IAEhC,oBACE1C,sDAAA;MAAA8B,QAAA,eACE5B,uDAAA;QACEU,IAAI,EAAC,QAAQ;QACbD,OAAO,EAAEA,CAAA,KAAMuG,YAAY,CAACrE,MAAM,CAACmB,KAAK,CAAE;QAC1C5D,SAAS,EAAEN,gDAAI,CACb,uDAAuD,EACvD,iCAAiC,EACjC,gCAAgC,EAChCmI,UAAU,GACN,2DAA2D,GAC3D,4DACN,CAAE;QACFG,KAAK,EAAE;UAAEC,WAAW,EAAE,GAAG,EAAE,GAAGF,MAAM;QAAK,CAAE;QAC3CG,IAAI,EAAC,QAAQ;QACb,iBAAeL,UAAW;QAAAnG,QAAA,GAGzB6C,WAAW,IAAI9B,MAAM,CAACE,WAAW,gBAChC/C,sDAAA;UACEY,IAAI,EAAC,QAAQ;UACbD,OAAO,EAAGuF,CAAC,IAAKS,cAAc,CAAC9D,MAAM,CAACmB,KAAK,EAAEkC,CAAC,CAAE;UAChD9F,SAAS,EAAC,uDAAuD;UACjE,cAAY8H,UAAU,GAAG,UAAU,GAAG,QAAS;UAAApG,QAAA,EAE9CoG,UAAU,gBACTlI,sDAAA,CAACoC,4DAAS;YAAC9B,IAAI,EAAE,EAAG;YAACF,SAAS,EAAC;UAA8B,CAAE,CAAC,gBAEhEJ,sDAAA,CAACqC,6DAAU;YAAC/B,IAAI,EAAE,EAAG;YAACF,SAAS,EAAC;UAA8B,CAAE;QACjE,CACK,CAAC,GAETyC,MAAM,CAACH,KAAK,GAAG,CAAC,IAAIiC,WAAW,iBAC7B3E,sDAAA;UAAMI,SAAS,EAAC;QAAK,CAAE,CAAC,CAAC;QAAA,EAE5B,aAGDJ,sDAAA;UACEI,SAAS,EAAEN,gDAAI,CACb,mDAAmD,EACnD,yCAAyC,EACzCuE,QAAQ,GAAG,SAAS,GAAG,cAAc,EACrC4D,UAAU,GACN,yCAAyC,GACzC,sCACN,CAAE;UAAAnG,QAAA,EAEDmG,UAAU,KACT5D,QAAQ,gBACNrE,sDAAA,CAACuC,wDAAK;YAACjC,IAAI,EAAE,EAAG;YAACiI,MAAM,EAAC,MAAM;YAACnI,SAAS,EAAC;UAAuB,CAAE,CAAC,gBAEnEJ,sDAAA;YAAMI,SAAS,EAAC;UAA0C,CAAE,CAC7D;QACF,CACG,CAAC,eAGPJ,sDAAA;UAAMI,SAAS,EAAC,yBAAyB;UAAA0B,QAAA,EACtCe,MAAM,CAACxC;QAAK,CACT,CAAC,EAGNwC,MAAM,CAAC2F,KAAK,iBACXxI,sDAAA;UACEyI,GAAG,EAAE5F,MAAM,CAAC2F,KAAM;UAClBE,GAAG,EAAC,EAAE;UACNtI,SAAS,EAAC;QAAmC,CAC9C,CACF;MAAA,CACK;IAAC,GArEFyC,MAAM,CAACmB,KAsEZ,CAAC;EAET,CAAC;EAED,oBACE9D,uDAAA;IAAKE,SAAS,EAAC,8BAA8B;IAAA0B,QAAA,GAE1CzB,KAAK,iBACJL,sDAAA;MAAOI,SAAS,EAAC,8CAA8C;MAAA0B,QAAA,EAC5DzB;IAAK,CACD,CACR,eAGDH,uDAAA;MACEyI,GAAG,EAAEvD,UAAW;MAChBxE,IAAI,EAAC,QAAQ;MACbD,OAAO,EAAEA,CAAA,KAAM,CAACD,QAAQ,IAAImE,SAAS,CAAC,CAACD,MAAM,CAAE;MAC/ClE,QAAQ,EAAEA,QAAS;MACnBN,SAAS,EAAEN,gDAAI,CACb,gDAAgD,EAChD,sBAAsB,EACtB,iCAAiC,EACjC,sCAAsC,EACtC,gCAAgC,EAChC4H,QAAQ,GACJ,qBAAqB,GACrB,wFAAwF,EAC5FhH,QAAQ,IAAI,+BAA+B,EAC3C,CAACA,QAAQ,IAAI,gBACf,CAAE;MACF,iBAAc,SAAS;MACvB,iBAAekE,MAAO;MAAA9C,QAAA,gBAEtB9B,sDAAA;QAAMI,SAAS,EAAEN,gDAAI,CACnB,UAAU,EACVwF,cAAc,CAACpC,MAAM,KAAK,CAAC,IAAI,8BACjC,CAAE;QAAApB,QAAA,EACCwF,cAAc,CAAC;MAAC,CACb,CAAC,eACPtH,sDAAA,CAACoC,4DAAS;QACR9B,IAAI,EAAE,EAAG;QACTF,SAAS,EAAEN,gDAAI,CACb,yEAAyE,EACzE8E,MAAM,IAAI,YACZ;MAAE,CACH,CAAC;IAAA,CACI,CAAC,EAGRA,MAAM,iBACL1E,uDAAA;MACEyI,GAAG,EAAExD,WAAY;MACjB/E,SAAS,EAAC,uIAAuI;MACjJkI,IAAI,EAAC,SAAS;MACd,wBAAsBjE,QAAS;MAAAvC,QAAA,GAG9BwC,UAAU,iBACTtE,sDAAA;QAAKI,SAAS,EAAC,2CAA2C;QAAA0B,QAAA,eACxD5B,uDAAA;UAAKE,SAAS,EAAC,UAAU;UAAA0B,QAAA,gBACvB9B,sDAAA,CAACsC,kEAAe;YACdhC,IAAI,EAAE,EAAG;YACTF,SAAS,EAAC;UAAuE,CAClF,CAAC,eACFJ,sDAAA;YACEY,IAAI,EAAC,MAAM;YACXoD,KAAK,EAAEc,MAAO;YACdV,QAAQ,EAAG8B,CAAC,IAAKnB,SAAS,CAACmB,CAAC,CAACG,MAAM,CAACrC,KAAK,CAAE;YAC3CQ,WAAW,EAAED,iBAAkB;YAC/BnE,SAAS,EAAC,0QAA0Q;YACpRwI,SAAS;UAAA,CACV,CAAC;QAAA,CACC;MAAC,CACH,CACN,eAGD5I,sDAAA;QAAII,SAAS,EAAC,8BAA8B;QAAA0B,QAAA,EACzC8D,WAAW,CAAC1C,MAAM,KAAK,CAAC,gBACvBlD,sDAAA;UAAII,SAAS,EAAC,0EAA0E;UAAA0B,QAAA,EAAC;QAEzF,CAAI,CAAC,GAEL8D,WAAW,CAACiD,GAAG,CAAC,CAAChG,MAAM,EAAEgF,KAAK,KAAKG,YAAY,CAACnF,MAAM,EAAEgF,KAAK,CAAC;MAC/D,CACC,CAAC,EAGJxD,QAAQ,IAAIiB,cAAc,CAACpC,MAAM,GAAG,CAAC,iBACpClD,sDAAA;QAAKI,SAAS,EAAC,2CAA2C;QAAA0B,QAAA,eACxD9B,sDAAA,CAACG,2CAAM;UACLE,KAAK,EAAC,iBAAiB;UACvBE,OAAO,EAAC,MAAM;UACdD,IAAI,EAAC,IAAI;UACTF,SAAS,EAAC,QAAQ;UAClBO,OAAO,EAAEA,CAAA,KAAM;YACbyD,QAAQ,GAAG,EAAE,CAAC;YACdS,SAAS,CAAC,KAAK,CAAC;UAClB;QAAE,CACH;MAAC,CACC,CACN;IAAA,CACE,CACN,EAGA8C,UAAU,iBACT3H,sDAAA;MACEI,SAAS,EAAEN,gDAAI,CACb,2BAA2B,EAC3B4H,QAAQ,GAAG,mBAAmB,GAAG,8BACnC,CAAE;MAAA5F,QAAA,EAED6F;IAAU,CACV,CACJ;EAAA,CACE,CAAC;AAEV;;;;;;;;;;;;;;;;;;;AC7cwF;AAChE;AAAA;AAET,SAASsB,cAAcA,CAAC;EACrC5I,KAAK,GAAG,iBAAiB;EACzB2D,KAAK,GAAG,IAAI;EACZI,QAAQ;EACR8E,MAAM,GAAG,SAAS;EAClBC,QAAQ,GAAG,KAAK;EAChBC,QAAQ,GAAG,oFAAoF;EAC/FC,IAAI,GAAG,GAAG;EACVC,IAAI,GAAG,GAAG;EACVC,MAAM,GAAG,CAAC,GAAG,CAAC;EACdC,eAAe,GAAG,GAAG;EACrB9I,QAAQ,GAAG,KAAK;EAChB+D,KAAK,GAAG;AACV,CAAC,EAAE;EACD,MAAMY,EAAE,GAAGnD,4CAAK,CAAC,CAAC;EAClB,MAAMuH,QAAQ,GAAGzH,6CAAM,CAAC,IAAI,CAAC;EAC7B,MAAM0H,cAAc,GAAG1H,6CAAM,CAAC,CAAC,CAAC;EAChC,MAAM,CAAC2H,IAAI,EAAEC,OAAO,CAAC,GAAG7H,+CAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAAC8H,OAAO,EAAEC,UAAU,CAAC,GAAG/H,+CAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACgI,UAAU,EAAEC,aAAa,CAAC,GAAGjI,+CAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACkI,aAAa,EAAEC,gBAAgB,CAAC,GAAGnI,+CAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACoI,YAAY,EAAEC,eAAe,CAAC,GAAGrI,+CAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMsI,UAAU,GAAG5F,KAAK,IAAIwF,aAAa;EACzC,MAAMK,aAAa,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;;EAExC,MAAMC,cAAc,GAAGpI,8CAAO,CAAC,MAAM;IACnC,IAAI0H,OAAO,EAAE,OAAOA,OAAO;IAC3B,IAAI,OAAO7F,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;IAC3C,OAAO,EAAE;EACX,CAAC,EAAE,CAAC6F,OAAO,EAAE7F,KAAK,CAAC,CAAC;;EAEpB;EACA/B,gDAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX,IAAI4H,OAAO,IAAIA,OAAO,CAACW,UAAU,CAAC,OAAO,CAAC,EAAE;QAC1CC,GAAG,CAACC,eAAe,CAACb,OAAO,CAAC;MAC9B;IACF,CAAC;EACH,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEb,MAAMc,YAAY,GAAG7B,kDAAW,CAAE8B,CAAC,IAAK;IACtC,IAAI,CAACA,CAAC,EAAE,OAAO;MAAEC,KAAK,EAAE,KAAK;MAAEpG,KAAK,EAAE;IAAmB,CAAC;;IAE1D;IACA,IAAI,CAACmG,CAAC,CAAChK,IAAI,CAAC4J,UAAU,CAAC,QAAQ,CAAC,EAAE;MAChC,OAAO;QAAEK,KAAK,EAAE,KAAK;QAAEpG,KAAK,EAAE;MAA8B,CAAC;IAC/D;;IAEA;IACA,IAAImG,CAAC,CAACtK,IAAI,GAAGgK,aAAa,EAAE;MAC1B,MAAMQ,MAAM,GAAG,CAACF,CAAC,CAACtK,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEyK,OAAO,CAAC,CAAC,CAAC;MAClD,OAAO;QACLF,KAAK,EAAE,KAAK;QACZpG,KAAK,EAAE,mBAAmBqG,MAAM;MAClC,CAAC;IACH;IAEA,OAAO;MAAED,KAAK,EAAE;IAAK,CAAC;EACxB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,cAAc,GAAGlC,kDAAW,CAAE8B,CAAC,IAAK;IACxC,IAAI,CAACA,CAAC,EAAE;IAERV,gBAAgB,CAAC,EAAE,CAAC;IACpBE,eAAe,CAAC,IAAI,CAAC;IAErB,MAAMa,UAAU,GAAGN,YAAY,CAACC,CAAC,CAAC;IAClC,IAAI,CAACK,UAAU,CAACJ,KAAK,EAAE;MACrBX,gBAAgB,CAACe,UAAU,CAACxG,KAAK,CAAC;MAClC2F,eAAe,CAAC,KAAK,CAAC;MACtB;IACF;IAEA,MAAMc,GAAG,GAAGT,GAAG,CAACU,eAAe,CAACP,CAAC,CAAC;IAClC,MAAMQ,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IAEvBD,GAAG,CAACE,MAAM,GAAG,MAAM;MACjB;MACA,IAAIjC,IAAI,IAAI+B,GAAG,CAACG,KAAK,GAAGlC,IAAI,EAAE;QAC5Ba,gBAAgB,CAAC,gBAAgBkB,GAAG,CAACG,KAAK,yBAAyBlC,IAAI,KAAK,CAAC;QAC7EoB,GAAG,CAACC,eAAe,CAACQ,GAAG,CAAC;QACxBd,eAAe,CAAC,KAAK,CAAC;QACtB;MACF;MAEA,IAAId,IAAI,IAAI8B,GAAG,CAACI,MAAM,GAAGlC,IAAI,EAAE;QAC7BY,gBAAgB,CAAC,iBAAiBkB,GAAG,CAACI,MAAM,yBAAyBlC,IAAI,KAAK,CAAC;QAC/EmB,GAAG,CAACC,eAAe,CAACQ,GAAG,CAAC;QACxBd,eAAe,CAAC,KAAK,CAAC;QACtB;MACF;;MAEA;MACA,IAAIb,MAAM,IAAIC,eAAe,EAAE;QAC7B,MAAMiC,UAAU,GAAGL,GAAG,CAACG,KAAK,GAAGH,GAAG,CAACI,MAAM;QACzC,MAAME,UAAU,GAAGC,IAAI,CAACC,GAAG,CAACH,UAAU,GAAGlC,MAAM,CAAC;QAChD,IAAImC,UAAU,GAAGlC,eAAe,EAAE;UAChCU,gBAAgB,CAAC,uBAAuBuB,UAAU,CAACV,OAAO,CAAC,CAAC,CAAC,wBAAwBxB,MAAM,CAACwB,OAAO,CAAC,CAAC,CAAC,MAAMvB,eAAe,GAAG,CAAC;UAC/HiB,GAAG,CAACC,eAAe,CAACQ,GAAG,CAAC;UACxBd,eAAe,CAAC,KAAK,CAAC;UACtB;QACF;MACF;;MAEA;MACA,IAAIP,OAAO,IAAIA,OAAO,CAACW,UAAU,CAAC,OAAO,CAAC,EAAE;QAC1CC,GAAG,CAACC,eAAe,CAACb,OAAO,CAAC;MAC9B;MAEAD,OAAO,CAACgB,CAAC,CAAC;MACVd,UAAU,CAACoB,GAAG,CAAC;MACfd,eAAe,CAAC,KAAK,CAAC;MACtBhG,QAAQ,GAAGwG,CAAC,CAAC;IACf,CAAC;IAEDQ,GAAG,CAACS,OAAO,GAAG,MAAM;MAClB3B,gBAAgB,CAAC,iCAAiC,CAAC;MACnDO,GAAG,CAACC,eAAe,CAACQ,GAAG,CAAC;MACxBd,eAAe,CAAC,KAAK,CAAC;IACxB,CAAC;IAEDgB,GAAG,CAAC3C,GAAG,GAAGyC,GAAG;EACf,CAAC,EAAE,CAACP,YAAY,EAAEtB,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,eAAe,EAAEK,OAAO,EAAEzF,QAAQ,CAAC,CAAC;EAE1E,MAAM0H,SAAS,GAAGhD,kDAAW,CAAC,MAAM;IAClC,IAAIe,OAAO,IAAIA,OAAO,CAACW,UAAU,CAAC,OAAO,CAAC,EAAE;MAC1CC,GAAG,CAACC,eAAe,CAACb,OAAO,CAAC;IAC9B;IACAD,OAAO,CAAC,IAAI,CAAC;IACbE,UAAU,CAAC,EAAE,CAAC;IACdI,gBAAgB,CAAC,EAAE,CAAC;IACpB9F,QAAQ,GAAG,IAAI,CAAC;IAChB,IAAIqF,QAAQ,CAACtD,OAAO,EAAE;MACpBsD,QAAQ,CAACtD,OAAO,CAACnC,KAAK,GAAG,EAAE;IAC7B;EACF,CAAC,EAAE,CAAC6F,OAAO,EAAEzF,QAAQ,CAAC,CAAC;EAEvB,MAAM2H,IAAI,GAAGjD,kDAAW,CAAC,MAAM;IAC7B,IAAI,CAACpI,QAAQ,EAAE;MACb+I,QAAQ,CAACtD,OAAO,EAAE6F,KAAK,CAAC,CAAC;IAC3B;EACF,CAAC,EAAE,CAACtL,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMuL,eAAe,GAAGnD,kDAAW,CAAE5C,CAAC,IAAK;IACzCA,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClBhG,CAAC,CAACW,eAAe,CAAC,CAAC;IAEnB,IAAInG,QAAQ,EAAE;IAEdgJ,cAAc,CAACvD,OAAO,EAAE;IAExB,IAAID,CAAC,CAACiG,YAAY,EAAEC,KAAK,EAAE1I,QAAQ,CAAC,OAAO,CAAC,EAAE;MAC5CsG,aAAa,CAAC,IAAI,CAAC;IACrB;EACF,CAAC,EAAE,CAACtJ,QAAQ,CAAC,CAAC;EAEd,MAAM2L,eAAe,GAAGvD,kDAAW,CAAE5C,CAAC,IAAK;IACzCA,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClBhG,CAAC,CAACW,eAAe,CAAC,CAAC;IAEnB,IAAInG,QAAQ,EAAE;IAEdgJ,cAAc,CAACvD,OAAO,EAAE;;IAExB;IACA,IAAIuD,cAAc,CAACvD,OAAO,IAAI,CAAC,EAAE;MAC/BuD,cAAc,CAACvD,OAAO,GAAG,CAAC;MAC1B6D,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC,EAAE,CAACtJ,QAAQ,CAAC,CAAC;EAEd,MAAM4L,cAAc,GAAGxD,kDAAW,CAAE5C,CAAC,IAAK;IACxCA,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClBhG,CAAC,CAACW,eAAe,CAAC,CAAC;IAEnB,IAAInG,QAAQ,EAAE;;IAEd;IACAwF,CAAC,CAACiG,YAAY,CAACI,UAAU,GAAG,MAAM;EACpC,CAAC,EAAE,CAAC7L,QAAQ,CAAC,CAAC;EAEd,MAAM8L,UAAU,GAAG1D,kDAAW,CAAE5C,CAAC,IAAK;IACpCA,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClBhG,CAAC,CAACW,eAAe,CAAC,CAAC;;IAEnB;IACA6C,cAAc,CAACvD,OAAO,GAAG,CAAC;IAC1B6D,aAAa,CAAC,KAAK,CAAC;IAEpB,IAAItJ,QAAQ,EAAE;IAEd,MAAM+L,KAAK,GAAGzJ,KAAK,CAAC0J,IAAI,CAACxG,CAAC,CAACiG,YAAY,CAACM,KAAK,CAAC;IAC9C,MAAME,SAAS,GAAGF,KAAK,CAACG,IAAI,CAACjD,IAAI,IAAIA,IAAI,CAAC/I,IAAI,CAAC4J,UAAU,CAAC,QAAQ,CAAC,CAAC;IAEpE,IAAImC,SAAS,EAAE;MACb3B,cAAc,CAAC2B,SAAS,CAAC;IAC3B,CAAC,MAAM,IAAIF,KAAK,CAACvJ,MAAM,GAAG,CAAC,EAAE;MAC3BgH,gBAAgB,CAAC,2BAA2B,CAAC;IAC/C;EACF,CAAC,EAAE,CAACxJ,QAAQ,EAAEsK,cAAc,CAAC,CAAC;EAE9B,MAAM6B,qBAAqB,GAAG/D,kDAAW,CAAE5C,CAAC,IAAK;IAC/C,MAAM4G,YAAY,GAAG5G,CAAC,CAACG,MAAM,CAACoG,KAAK,GAAG,CAAC,CAAC;IACxC,IAAIK,YAAY,EAAE;MAChB9B,cAAc,CAAC8B,YAAY,CAAC;IAC9B;EACF,CAAC,EAAE,CAAC9B,cAAc,CAAC,CAAC;EAEpB,MAAM+B,aAAa,GAAGjE,kDAAW,CAAE5C,CAAC,IAAK;IACvC,IAAI,CAACA,CAAC,CAACQ,GAAG,KAAK,OAAO,IAAIR,CAAC,CAACQ,GAAG,KAAK,GAAG,KAAK,CAAChG,QAAQ,EAAE;MACrDwF,CAAC,CAACgG,cAAc,CAAC,CAAC;MAClBH,IAAI,CAAC,CAAC;IACR;EACF,CAAC,EAAE,CAACrL,QAAQ,EAAEqL,IAAI,CAAC,CAAC;EAEpB,MAAMiB,eAAe,GAAGlN,gDAAI,CAC1B,2EAA2E,EAC3E,8DAA8D,EAC9D,kDAAkD,EAClD,2GAA2G,EAC3G;IACE;IACA,uGAAuG,EAAE,CAACY,QAAQ,IAAI,CAACqJ,UAAU,IAAI,CAACM,UAAU;IAEhJ;IACA,2EAA2E,EAAE,CAAC3J,QAAQ,IAAIqJ,UAAU;IAEpG;IACA,uCAAuC,EAAEM,UAAU;IAEnD;IACA,wDAAwD,EAAE3J,QAAQ;IAElE;IACA,qBAAqB,EAAEyJ;EACzB,CACF,CAAC;EAED,oBACEjK,uDAAA;IAAKE,SAAS,EAAC,QAAQ;IAAA0B,QAAA,gBACrB5B,uDAAA;MACEoI,IAAI,EAAC,QAAQ;MACb2E,QAAQ,EAAEvM,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAE;MAC5B,oBAAkB,GAAG2E,EAAE,OAAQ;MAC/B,cAAY,GAAGhF,KAAK,GAAG8I,QAAQ,GAAG,aAAa,GAAG,EAAE,YAAa;MACjExI,OAAO,EAAEoL,IAAK;MACdmB,SAAS,EAAEH,aAAc;MACzBI,WAAW,EAAElB,eAAgB;MAC7BmB,WAAW,EAAEf,eAAgB;MAC7BgB,UAAU,EAAEf,cAAe;MAC3BgB,MAAM,EAAEd,UAAW;MACnBpM,SAAS,EAAE4M,eAAgB;MAAAlL,QAAA,GAG1B,CAACyI,cAAc,IAAI,CAACJ,YAAY,iBAC/BjK,uDAAA;QAAME,SAAS,EAAC,qIAAqI;QAAA0B,QAAA,GAClJzB,KAAK,EAAE8I,QAAQ,GAAG,IAAI,GAAG,EAAE;MAAA,CACxB,CACP,EAGAgB,YAAY,iBACXjK,uDAAA;QAAKE,SAAS,EAAC,kBAAkB;QAAA0B,QAAA,gBAC/B9B,sDAAA;UAAKI,SAAS,EAAC,sBAAsB;UAAA0B,QAAA,eACnC9B,sDAAA;YAAKI,SAAS,EAAC;UAA6F,CAAM;QAAC,CAChH,CAAC,eACNJ,sDAAA;UAAKI,SAAS,EAAC,6CAA6C;UAAA0B,QAAA,EAAC;QAE7D,CAAK,CAAC;MAAA,CACH,CACN,EAGA,CAACyI,cAAc,IAAI,CAACJ,YAAY,iBAC/BjK,uDAAA;QAAKE,SAAS,EAAC,sCAAsC;QAAA0B,QAAA,gBACnD9B,sDAAA;UAAKI,SAAS,EAAC,oGAAoG;UAAA0B,QAAA,eACjH9B,sDAAA;YACEI,SAAS,EAAC,6BAA6B;YACvCmN,IAAI,EAAC,MAAM;YACXC,MAAM,EAAC,cAAc;YACrBC,OAAO,EAAC,WAAW;YAAA3L,QAAA,eAEnB9B,sDAAA;cACE0N,aAAa,EAAC,OAAO;cACrBC,cAAc,EAAC,OAAO;cACtBC,WAAW,EAAE,CAAE;cACfC,CAAC,EAAC;YAAuF,CAC1F;UAAC,CACC;QAAC,CACH,CAAC,eAEN7N,sDAAA;UAAKI,SAAS,EAAC,6DAA6D;UAAA0B,QAAA,EACzEiI,UAAU,GAAG,sBAAsB,GAAG;QAAgC,CACpE,CAAC,eACN/J,sDAAA;UAAKI,SAAS,EAAC,mDAAmD;UAAA0B,QAAA,EAC/DiI,UAAU,GAAG,mBAAmB,GAAG;QAAgC,CACjE,CAAC;MAAA,CACH,CACN,EAGAQ,cAAc,IAAI,CAACJ,YAAY,iBAC9BjK,uDAAA,CAAA8I,uDAAA;QAAAlH,QAAA,gBACE9B,sDAAA;UACEyI,GAAG,EAAE8B,cAAe;UACpB7B,GAAG,EAAC,SAAS;UACbtI,SAAS,EAAC,4BAA4B;UACtC0N,SAAS,EAAE;QAAM,CAClB,CAAC,eACF9N,sDAAA;UAAKI,SAAS,EAAC;QAA8E,CAAE,CAAC,eAChGJ,sDAAA;UACEY,IAAI,EAAC,QAAQ;UACbD,OAAO,EAAGuF,CAAC,IAAK;YACdA,CAAC,CAACW,eAAe,CAAC,CAAC;YACnBiF,SAAS,CAAC,CAAC;UACb,CAAE;UACFpL,QAAQ,EAAEA,QAAS;UACnBN,SAAS,EAAC,kQAAkQ;UAC5Q,cAAW,cAAc;UAAA0B,QAAA,EAC1B;QAED,CAAQ,CAAC,EACR6H,IAAI,iBACHzJ,uDAAA;UAAKE,SAAS,EAAC,2FAA2F;UAAA0B,QAAA,GACvG6H,IAAI,CAACoE,IAAI,EAAC,IAAE,EAAC,CAACpE,IAAI,CAACrJ,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEyK,OAAO,CAAC,CAAC,CAAC,EAAC,KACvD;QAAA,CAAK,CACN;MAAA,CACD,CACH,eAED/K,sDAAA;QACE2I,GAAG,EAAEc,QAAS;QACdpE,EAAE,EAAEA,EAAG;QACPzE,IAAI,EAAC,MAAM;QACXsI,MAAM,EAAEA,MAAO;QACfC,QAAQ,EAAEA,QAAQ,IAAI,CAACQ,IAAI,IAAI,CAAC3F,KAAM;QACtCI,QAAQ,EAAEyI,qBAAsB;QAChCnM,QAAQ,EAAEA,QAAS;QACnBN,SAAS,EAAC;MAAS,CACpB,CAAC;IAAA,CACC,CAAC,eAGNJ,sDAAA;MAAKqF,EAAE,EAAE,GAAGA,EAAE,OAAQ;MAACjF,SAAS,EAAC,wDAAwD;MAAA0B,QAAA,EACtFsH;IAAQ,CACN,CAAC,EAGLiB,UAAU,iBACTrK,sDAAA;MAAKI,SAAS,EAAC,6CAA6C;MAACkI,IAAI,EAAC,OAAO;MAAAxG,QAAA,EACtEuI;IAAU,CACR,CACN;EAAA,CACE,CAAC;AAEV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxWwE;AAezC;AACP;AACyE;AACpD;AACO;AACV;AACE;AACS;;AAErD;AAAA;AACA,MAAMgF,cAAc,GAAIC,KAAK,IAAK;EAChC,MAAM;IAAEC,IAAI;IAAEC,gBAAgB;IAAEC,UAAU;IAAEC;EAAS,CAAC,GAAGJ,KAAK;EAC9D,MAAM;IAAE7G,GAAG;IAAEC,GAAG;IAAE6C;EAAM,CAAC,GAAGgE,IAAI,CAACI,KAAK;EACtC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG9N,+CAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAAC+N,MAAM,EAAEC,SAAS,CAAC,GAAGhO,+CAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAACiO,UAAU,EAAEC,aAAa,CAAC,GAAGlO,+CAAQ,CAAC,CAAC,CAAC;EAC/C,MAAMmO,QAAQ,GAAGlO,6CAAM,CAAC,IAAI,CAAC;EAE7B,MAAMmO,eAAe,GAAGrH,kDAAW,CAAE5C,CAAC,IAAK;IACzCA,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClBhG,CAAC,CAACW,eAAe,CAAC,CAAC;IAEnB,MAAMuJ,IAAI,GAAGF,QAAQ,CAAC/J,OAAO,EAAEkK,qBAAqB,CAAC,CAAC;IACtD,IAAI,CAACD,IAAI,EAAE;IAEXP,aAAa,CAAC,IAAI,CAAC;IACnBE,SAAS,CAAC7J,CAAC,CAACoK,OAAO,CAAC;IACpBL,aAAa,CAAC1E,KAAK,IAAI6E,IAAI,CAAC7E,KAAK,CAAC;;IAElC;IACAjF,QAAQ,CAACiK,IAAI,CAACnI,KAAK,CAACoI,UAAU,GAAG,MAAM;IACvClK,QAAQ,CAACiK,IAAI,CAACnI,KAAK,CAACqI,MAAM,GAAG,WAAW;EAC1C,CAAC,EAAE,CAAClF,KAAK,CAAC,CAAC;EAEX,MAAMmF,eAAe,GAAG5H,kDAAW,CAAE5C,CAAC,IAAK;IACzC,IAAI,CAAC0J,UAAU,EAAE;IAEjB1J,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClB,MAAMyE,MAAM,GAAGzK,CAAC,CAACoK,OAAO,GAAGR,MAAM;IACjC,MAAMc,QAAQ,GAAGjF,IAAI,CAACkF,GAAG,CAAC,EAAE,EAAElF,IAAI,CAACmF,GAAG,CAAC,GAAG,EAAEd,UAAU,GAAGW,MAAM,CAAC,CAAC;IAEjEnB,gBAAgB,CAAC;MAAEjE,KAAK,EAAEqF;IAAS,CAAC,CAAC;EACvC,CAAC,EAAE,CAAChB,UAAU,EAAEE,MAAM,EAAEE,UAAU,EAAER,gBAAgB,CAAC,CAAC;EAEtD,MAAMuB,aAAa,GAAGjI,kDAAW,CAAC,MAAM;IACtC,IAAI,CAAC8G,UAAU,EAAE;IAEjBC,aAAa,CAAC,KAAK,CAAC;IACpBvJ,QAAQ,CAACiK,IAAI,CAACnI,KAAK,CAACoI,UAAU,GAAG,EAAE;IACnClK,QAAQ,CAACiK,IAAI,CAACnI,KAAK,CAACqI,MAAM,GAAG,EAAE;EACjC,CAAC,EAAE,CAACb,UAAU,CAAC,CAAC;;EAEhB;EACA3N,gDAAS,CAAC,MAAM;IACd,IAAI2N,UAAU,EAAE;MACdtJ,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAEmK,eAAe,CAAC;MACvDpK,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEwK,aAAa,CAAC;MAEnD,OAAO,MAAM;QACXzK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,EAAEkK,eAAe,CAAC;QAC1DpK,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEuK,aAAa,CAAC;MACxD,CAAC;IACH;EACF,CAAC,EAAE,CAACnB,UAAU,EAAEc,eAAe,EAAEK,aAAa,CAAC,CAAC;EAEhD,oBACE7Q,uDAAA,CAAC6O,0DAAe;IACd3O,SAAS,EAAC,kCAAkC;IAC5CgI,KAAK,EAAE;MAAEoI,UAAU,EAAEZ,UAAU,GAAG,MAAM,GAAG;IAAO,CAAE;IAAA9N,QAAA,gBAEpD9B,sDAAA;MACE2I,GAAG,EAAEuH,QAAS;MACdzH,GAAG,EAAEA,GAAI;MACTC,GAAG,EAAEA,GAAG,IAAI,gBAAiB;MAC7BN,KAAK,EAAE;QACLmD,KAAK,EAAEA,KAAK,IAAI,MAAM;QACtByF,QAAQ,EAAE,MAAM;QAChBxF,MAAM,EAAE,MAAM;QACdyF,OAAO,EAAE;MACX,CAAE;MACF7Q,SAAS,EAAEN,gDAAI,CACb,wCAAwC,EACxC4P,QAAQ,GAAG,sCAAsC,GAAG,EAAE,EACtDE,UAAU,GAAG,iBAAiB,GAAG,EACnC,CAAE;MACF9B,SAAS,EAAE;IAAM,CAClB,CAAC,EAED4B,QAAQ,iBACPxP,uDAAA,CAAA8I,uDAAA;MAAAlH,QAAA,gBAEE9B,sDAAA;QACEY,IAAI,EAAC,QAAQ;QACbR,SAAS,EAAC,oNAAoN;QAC9NO,OAAO,EAAGuF,CAAC,IAAK;UACdA,CAAC,CAACW,eAAe,CAAC,CAAC;UACnB4I,UAAU,GAAG,CAAC;QAChB,CAAE;QACF,cAAW,cAAc;QAAA3N,QAAA,eAEzB9B,sDAAA,CAAC4O,wDAAK;UAACtO,IAAI,EAAE,EAAG;UAACF,SAAS,EAAC;QAAS,CAAE;MAAC,CACjC,CAAC,eAGTJ,sDAAA;QACEI,SAAS,EAAEN,gDAAI,CACb,kIAAkI,EAClI,qEAAqE,EACrE8P,UAAU,GAAG,6BAA6B,GAAG,EAC/C,CAAE;QACFsB,WAAW,EAAEf,eAAgB;QAC7B,cAAW,cAAc;QACzBgB,KAAK,EAAC;MAAsB,CAC7B,CAAC,EAGD,CAAC5F,KAAK,IAAI2E,QAAQ,CAAC/J,OAAO,kBACzBjG,uDAAA;QAAKE,SAAS,EAAC,wFAAwF;QAAA0B,QAAA,GACpG6J,IAAI,CAACyF,KAAK,CAAC7F,KAAK,IAAI2E,QAAQ,CAAC/J,OAAO,EAAEkK,qBAAqB,CAAC,CAAC,EAAE9E,KAAK,IAAI,CAAC,CAAC,EAAC,IAC9E;MAAA,CAAK,CACN;IAAA,CACD,CACH;EAAA,CACc,CAAC;AAEtB,CAAC;AAEM,MAAM8F,aAAa,GAAGA,CAAC;EAC5BhR,KAAK,GAAG,SAAS;EACjB2D,KAAK;EACLI,QAAQ;EACRkN,QAAQ;EACRnI,QAAQ,GAAG,KAAK;EAChB1E,KAAK,GAAG,EAAE;EACV/D,QAAQ,GAAG;AACb,CAAC,KAAK;EACJ,MAAM,CAAC6Q,SAAS,EAAEC,YAAY,CAAC,GAAGzP,+CAAQ,CAAC,KAAK,CAAC;EAEjD,MAAM0P,MAAM,GAAG5C,wDAAS,CAAC;IACvB6C,UAAU,EAAE,CACVzC,2DAAU,CAAC0C,SAAS,CAAC;MACnBC,UAAU,EAAE,IAAI;MAChBC,SAAS,EAAE;IACb,CAAC,CAAC,EACF3C,mEAAS,EACTC,8DAAI,CAACwC,SAAS,CAAC;MACbG,WAAW,EAAE,KAAK;MAClBC,cAAc,EAAE;QACdC,KAAK,EAAE;MACT;IACF,CAAC,CAAC,EACF5C,oEAAS,CAACuC,SAAS,CAAC;MAClBvF,KAAK,EAAE,CAAC,SAAS,EAAE,WAAW;IAChC,CAAC,CAAC,EACFf,+DAAK,CAAC4G,MAAM,CAAC;MACXC,WAAWA,CAAA,EAAG;QACZ,OAAOlD,oEAAqB,CAACK,cAAc,CAAC;MAC9C;IACF,CAAC,CAAC,CACH;IACD8C,OAAO,EAAEnO,KAAK,IAAI,EAAE;IACpBoO,QAAQ,EAAE,CAAC1R,QAAQ;IACnB2R,QAAQ,EAAEA,CAAC;MAAEZ;IAAO,CAAC,KAAK;MACxBrN,QAAQ,GAAG;QAAEiC,MAAM,EAAE;UAAErC,KAAK,EAAEyN,MAAM,CAACa,OAAO,CAAC;QAAE;MAAE,CAAC,CAAC;IACrD;EACF,CAAC,CAAC;;EAEF;EACArQ,gDAAS,CAAC,MAAM;IACd,IAAIwP,MAAM,IAAIzN,KAAK,KAAKyN,MAAM,CAACa,OAAO,CAAC,CAAC,EAAE;MACxCb,MAAM,CAACc,QAAQ,CAACC,UAAU,CAACxO,KAAK,IAAI,EAAE,CAAC;IACzC;EACF,CAAC,EAAE,CAACyN,MAAM,EAAEzN,KAAK,CAAC,CAAC;EAEnB,MAAMyO,IAAI,GAAG3J,kDAAW,CACtB,CAAC4J,OAAO,EAAE/C,KAAK,KAAK;IAClB,IAAI,CAAC8B,MAAM,IAAI/Q,QAAQ,EAAE;IACzB+Q,MAAM,CAACkB,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACF,OAAO,CAAC,CAAC/C,KAAK,CAAC,CAACkD,GAAG,CAAC,CAAC;EAC9C,CAAC,EACD,CAACpB,MAAM,EAAE/Q,QAAQ,CACnB,CAAC;EAED,MAAMoS,OAAO,GAAGhK,kDAAW,CAAC,MAAM;IAChC,IAAI,CAAC2I,MAAM,IAAI/Q,QAAQ,EAAE;IAEzB,MAAMqS,WAAW,GAAGtB,MAAM,CAACuB,aAAa,CAAC,MAAM,CAAC,CAACC,IAAI;IACrD,IAAI/H,GAAG,GAAGgI,MAAM,CAACC,MAAM,CAAC,uBAAuB,EAAEJ,WAAW,IAAI,EAAE,CAAC;IAEnE,IAAI7H,GAAG,KAAK,IAAI,EAAE;IAElB,IAAIA,GAAG,KAAK,EAAE,EAAE;MACduG,MAAM,CAACkB,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACQ,eAAe,CAAC,MAAM,CAAC,CAACC,SAAS,CAAC,CAAC,CAACR,GAAG,CAAC,CAAC;MAChE;IACF;IAEA,IAAI;MACF,IAAI,CAAC,eAAe,CAACS,IAAI,CAACpI,GAAG,CAAC,EAAE;QAC9BA,GAAG,GAAG,UAAU,GAAGA,GAAG;MACxB;MACA,MAAMqI,MAAM,GAAG,IAAI9I,GAAG,CAACS,GAAG,CAAC;MAC3B,IAAI,CAAC,WAAW,CAACoI,IAAI,CAACC,MAAM,CAACC,QAAQ,CAAC,EAAE;QACtC,MAAM,IAAIC,KAAK,CAAC,kBAAkB,CAAC;MACrC;MACAhB,IAAI,CAAC,SAAS,EAAE;QAAEQ,IAAI,EAAEM,MAAM,CAACN;MAAK,CAAC,CAAC;IACxC,CAAC,CAAC,MAAM;MACNS,KAAK,CAAC,gDAAgD,CAAC;IACzD;EACF,CAAC,EAAE,CAACjC,MAAM,EAAE/Q,QAAQ,EAAE+R,IAAI,CAAC,CAAC;EAE5B,MAAMkB,WAAW,GAAG7K,kDAAW,CAAC,YAAY;IAC1C,IAAI,CAAC2I,MAAM,IAAI/Q,QAAQ,EAAE;IAEzB,MAAMkT,KAAK,GAAGtN,QAAQ,CAACuN,aAAa,CAAC,OAAO,CAAC;IAC7CD,KAAK,CAAChT,IAAI,GAAG,MAAM;IACnBgT,KAAK,CAAC1K,MAAM,GAAG,SAAS;IACxB0K,KAAK,CAACvP,QAAQ,GAAG,KAAK;IAEtBuP,KAAK,CAACE,QAAQ,GAAG,MAAO5N,CAAC,IAAK;MAC5B,MAAMyD,IAAI,GAAGzD,CAAC,CAACG,MAAM,CAACoG,KAAK,GAAG,CAAC,CAAC;MAChC,IAAI,CAAC9C,IAAI,EAAE;;MAEX;MACA,MAAMoK,OAAO,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI;MAC/B,IAAIpK,IAAI,CAACrJ,IAAI,GAAGyT,OAAO,EAAE;QACvBL,KAAK,CAAC,uBAAuB,CAAC/J,IAAI,CAACrJ,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEyK,OAAO,CAAC,CAAC,CAAC,0CAA0C,CAAC;QAC9G;MACF;;MAEA;MACA,MAAMiJ,YAAY,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,CAAC;MACxF,IAAI,CAACA,YAAY,CAACtQ,QAAQ,CAACiG,IAAI,CAAC/I,IAAI,CAAC,EAAE;QACrC8S,KAAK,CAAC,gDAAgD,CAAC;QACvD;MACF;MAEAlC,YAAY,CAAC,IAAI,CAAC;MAElB,IAAI;QACF;QACA,MAAMyC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAAC3I,MAAM,GAAIpF,CAAC,IAAK;UACrB,MAAMiO,OAAO,GAAGjO,CAAC,CAACG,MAAM,CAACzD,MAAM;UAC/B6O,MAAM,CAACkB,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACwB,QAAQ,CAAC;YAC9B3L,GAAG,EAAE0L,OAAO;YACZzL,GAAG,EAAEiB,IAAI,CAACoE,IAAI;YACdoD,KAAK,EAAE,oBAAoBxH,IAAI,CAACoE,IAAI,KAAK,CAACpE,IAAI,CAACrJ,IAAI,GAAG,IAAI,EAAEyK,OAAO,CAAC,CAAC,CAAC;UACxE,CAAC,CAAC,CAAC8H,GAAG,CAAC,CAAC;UACRrB,YAAY,CAAC,KAAK,CAAC;QACrB,CAAC;QACDyC,MAAM,CAACpI,OAAO,GAAG,MAAM;UACrB2F,YAAY,CAAC,KAAK,CAAC;UACnBkC,KAAK,CAAC,8CAA8C,CAAC;QACvD,CAAC;QACDO,MAAM,CAACI,aAAa,CAAC1K,IAAI,CAAC;MAC5B,CAAC,CAAC,OAAOlF,KAAK,EAAE;QACd6P,OAAO,CAAC7P,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDiP,KAAK,CAAC,4CAA4C,CAAC;QACnDlC,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDoC,KAAK,CAAC5H,KAAK,CAAC,CAAC;EACf,CAAC,EAAE,CAACyF,MAAM,EAAE/Q,QAAQ,CAAC,CAAC;;EAEtB;EACA,MAAM6T,QAAQ,GAAGzL,kDAAW,CAAC,CAAC0L,MAAM,EAAE7E,KAAK,KAAK;IAC9C,IAAI,CAAC8B,MAAM,EAAE,OAAO,KAAK;IACzB,OAAOA,MAAM,CAAC8C,QAAQ,CAACC,MAAM,EAAE7E,KAAK,CAAC;EACvC,CAAC,EAAE,CAAC8B,MAAM,CAAC,CAAC;EAEZ,MAAMgD,GAAG,GAAGA,CAAC;IAAEtD,KAAK;IAAExQ,OAAO;IAAEmB,QAAQ;IAAEpB,QAAQ,EAAEgU,WAAW;IAAEF,MAAM;IAAE7E;EAAM,CAAC,KAAK;IAClF,MAAMgF,MAAM,GAAGH,MAAM,GAAGD,QAAQ,CAACC,MAAM,EAAE7E,KAAK,CAAC,GAAG,KAAK;IAEvD,oBACE3P,sDAAA;MACEY,IAAI,EAAC,QAAQ;MACbsQ,WAAW,EAAGhL,CAAC,IAAKA,CAAC,CAACgG,cAAc,CAAC,CAAE;MACvCvL,OAAO,EAAEA,OAAQ;MACjBD,QAAQ,EAAEA,QAAQ,IAAIgU,WAAY;MAClCvD,KAAK,EAAEA,KAAM;MACb/Q,SAAS,EAAEN,gDAAI,CACb,kFAAkF,EAClF,oEAAoE,EACpE,iDAAiD,EACjD6U,MAAM,GACF,yEAAyE,GACzE,iJACN,CAAE;MAAA7S,QAAA,EAEDA;IAAQ,CACH,CAAC;EAEb,CAAC;EAED,oBACE5B,uDAAA;IAAKE,SAAS,EAAC,QAAQ;IAAA0B,QAAA,gBACrB5B,uDAAA;MAAKE,SAAS,EAAEN,gDAAI,CAClB,mFAAmF,EACnF2E,KAAK,GAAG,qBAAqB,GAAG,uBAAuB,EACvD/D,QAAQ,GAAG,+BAA+B,GAAG,EAC/C,CAAE;MAAAoB,QAAA,gBAEA5B,uDAAA;QAAME,SAAS,EAAC,6HAA6H;QAAA0B,QAAA,GAC1IzB,KAAK,EACL8I,QAAQ,gBAAGnJ,sDAAA;UAAMI,SAAS,EAAC,wBAAwB;UAAA0B,QAAA,EAAC;QAAC,CAAM,CAAC,GAAG,EAAE;MAAA,CAC9D,CAAC,eAGP5B,uDAAA;QAAKE,SAAS,EAAC,wFAAwF;QAAA0B,QAAA,gBACrG9B,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,eAAe;UACrBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,YAAY,CAAE;UAClC+B,MAAM,EAAC,MAAM;UAAA1S,QAAA,eAEb9B,sDAAA,CAACgO,6DAAc;YAAC1N,IAAI,EAAE;UAAG,CAAE;QAAC,CACzB,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,iBAAiB;UACvBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,cAAc,CAAE;UACpC+B,MAAM,EAAC,QAAQ;UAAA1S,QAAA,eAEf9B,sDAAA,CAACiO,kEAAc;YAAC3N,IAAI,EAAE;UAAG,CAAE;QAAC,CACzB,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,oBAAoB;UAC1BxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,iBAAiB,CAAE;UACvC+B,MAAM,EAAC,WAAW;UAAA1S,QAAA,eAElB9B,sDAAA,CAACkO,sEAAkB;YAAC5N,IAAI,EAAE;UAAG,CAAE;QAAC,CAC7B,CAAC,eAENN,sDAAA;UAAKI,SAAS,EAAC;QAAwC,CAAE,CAAC,eAE1DJ,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,YAAY;UAClBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,cAAc,EAAE,MAAM,CAAE;UAC5C+B,MAAM,EAAE;YAAEI,SAAS,EAAE;UAAO,CAAE;UAAA9S,QAAA,eAE9B9B,sDAAA,CAACmO,iEAAa;YAAC7N,IAAI,EAAE;UAAG,CAAE;QAAC,CACxB,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,cAAc;UACpBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAE;UAC9C+B,MAAM,EAAE;YAAEI,SAAS,EAAE;UAAS,CAAE;UAAA9S,QAAA,eAEhC9B,sDAAA,CAACoO,6EAAyB;YAAC9N,IAAI,EAAE;UAAG,CAAE;QAAC,CACpC,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,aAAa;UACnBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,cAAc,EAAE,OAAO,CAAE;UAC7C+B,MAAM,EAAE;YAAEI,SAAS,EAAE;UAAQ,CAAE;UAAA9S,QAAA,eAE/B9B,sDAAA,CAACqO,kEAAc;YAAC/N,IAAI,EAAE;UAAG,CAAE;QAAC,CACzB,CAAC,eAENN,sDAAA;UAAKI,SAAS,EAAC;QAAwC,CAAE,CAAC,eAE1DJ,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,eAAe;UACrBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,kBAAkB,CAAE;UACxC+B,MAAM,EAAC,YAAY;UAAA1S,QAAA,eAEnB9B,sDAAA,CAACuO,4DAAQ;YAACjO,IAAI,EAAE;UAAG,CAAE;QAAC,CACnB,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,eAAe;UACrBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,mBAAmB,CAAE;UACzC+B,MAAM,EAAC,aAAa;UAAA1S,QAAA,eAEpB9B,sDAAA,CAACwO,mEAAe;YAAClO,IAAI,EAAE;UAAG,CAAE;QAAC,CAC1B,CAAC,eAENN,sDAAA;UAAKI,SAAS,EAAC;QAAwC,CAAE,CAAC,eAE1DJ,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,OAAO;UACbxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,kBAAkB,CAAE;UACxC+B,MAAM,EAAC,YAAY;UAAA1S,QAAA,eAEnB9B,sDAAA,CAACyO,8DAAU;YAACnO,IAAI,EAAE;UAAG,CAAE;QAAC,CACrB,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,YAAY;UAClBxQ,OAAO,EAAEA,CAAA,KAAM8R,IAAI,CAAC,iBAAiB,CAAE;UACvC+B,MAAM,EAAC,WAAW;UAAA1S,QAAA,eAElB9B,sDAAA,CAAC0O,4DAAQ;YAACpO,IAAI,EAAE;UAAG,CAAE;QAAC,CACnB,CAAC,eACNN,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,kBAAkB;UACxBxQ,OAAO,EAAEmS,OAAQ;UACjB0B,MAAM,EAAC,MAAM;UAAA1S,QAAA,eAEb9B,sDAAA,CAACsO,4DAAQ;YAAChO,IAAI,EAAE;UAAG,CAAE;QAAC,CACnB,CAAC,eAENN,sDAAA;UAAKI,SAAS,EAAC;QAAwC,CAAE,CAAC,eAE1DJ,sDAAA,CAACyU,GAAG;UACFtD,KAAK,EAAC,cAAc;UACpBxQ,OAAO,EAAEgT,WAAY;UACrBjT,QAAQ,EAAE6Q,SAAU;UAAAzP,QAAA,EAEnByP,SAAS,gBACRrR,uDAAA;YAAKE,SAAS,EAAC,yBAAyB;YAAA0B,QAAA,gBACtC9B,sDAAA;cAAKI,SAAS,EAAC;YAAgF,CAAE,CAAC,eAClGJ,sDAAA;cAAMI,SAAS,EAAC,SAAS;cAAA0B,QAAA,EAAC;YAAS,CAAM,CAAC;UAAA,CACvC,CAAC,gBAEN9B,sDAAA,CAAC2O,mEAAe;YAACrO,IAAI,EAAE;UAAG,CAAE;QAC7B,CACE,CAAC;MAAA,CACH,CAAC,eAGNN,sDAAA;QACEI,SAAS,EAAEN,gDAAI,CACb,+BAA+B,EAC/BY,QAAQ,GAAG,oBAAoB,GAAG,EACpC,CAAE;QACFC,OAAO,EAAEA,CAAA,KAAM,CAACD,QAAQ,IAAI+Q,MAAM,EAAEkB,KAAK,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAACC,GAAG,CAAC,CAAE;QAAA/Q,QAAA,eAE1D9B,sDAAA,CAAC8O,wDAAa;UACZ2C,MAAM,EAAEA,MAAO;UACfrR,SAAS,EAAEN,gDAAI,CACb,yFAAyF,EACzF,8DAA8D,EAC9D,sJAAsJ,EACtJ,uHAAuH,EACvH,sDAAsD,EACtD,yDACF;QAAE,CACH;MAAC,CACC,CAAC,EAGL2R,MAAM,IAAIA,MAAM,CAACoD,OAAO,iBACvB7U,sDAAA;QAAKI,SAAS,EAAC,mGAAmG;QAAA0B,QAAA,EAAC;MAEnH,CAAK,CACN;IAAA,CACE,CAAC,EAEL2C,KAAK,iBACJzE,sDAAA;MAAGI,SAAS,EAAC,kDAAkD;MAACkI,IAAI,EAAC,OAAO;MAAAxG,QAAA,EACzE2C;IAAK,CACL,CACJ;EAAA,CACE,CAAC;AAEV,CAAC;;;;;;;;;;;;;;;;;;;ACjdoC;AACb;AAAA;AAET,SAASqQ,WAAWA,CAAC;EAAEzU,KAAK,GAAG,QAAQ;EAAE2D,KAAK,GAAG,EAAE;EAAEI,QAAQ;EAAE3B,OAAO,GAAG,EAAE;EAAE0G,QAAQ,GAAG;AAAM,CAAC,EAAE;EAC9G,MAAM9D,EAAE,GAAGnD,4CAAK,CAAC,CAAC;EAClB,oBACEhC,uDAAA;IAAKE,SAAS,EAAC,oHAAoH;IAAA0B,QAAA,gBACjI5B,uDAAA;MAAO6U,OAAO,EAAE1P,EAAG;MAACjF,SAAS,EAAC,gGAAgG;MAAA0B,QAAA,GAC3HzB,KAAK,EAAE8I,QAAQ,GAAG,IAAI,GAAG,EAAE;IAAA,CACvB,CAAC,eACRjJ,uDAAA;MACEmF,EAAE,EAAEA,EAAG;MACPrB,KAAK,EAAEA,KAAM;MACbI,QAAQ,EAAEA,QAAS;MACnB+E,QAAQ,EAAEA,QAAS;MACnB/I,SAAS,EAAEN,gDAAI,CAAC,yHAAyH,CAAE;MAAAgC,QAAA,gBAE3I9B,sDAAA;QAAQgE,KAAK,EAAC,EAAE;QAAAlC,QAAA,EAAC;MAAU,CAAQ,CAAC,EACnCW,OAAO,CAACoG,GAAG,CAAC,CAAC,CAACxD,EAAE,EAAE0I,IAAI,CAAC,kBAAK/N,sDAAA;QAAiBgE,KAAK,EAAEqB,EAAG;QAAAvD,QAAA,EAAEiM;MAAI,GAApB1I,EAA6B,CAAC,CAAC;IAAA,CACnE,CAAC;EAAA,CACN,CAAC;AAEV;;;;;;;;;;;;;;;;;;;;;;;;ACtByD;AACjB;AACQ;AACR;AACM;AACZ;AACgB;AAAA;AAEnC,SAAS4P,iBAAiBA,CAAC;EAAEC,OAAO;EAAEC,OAAO;EAAEC,UAAU,GAAG,CAAC;AAAE,CAAC,EAAE;EAC/E,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGvT,+CAAQ,CAAC;IAAEoP,KAAK,EAAE,EAAE;IAAEoE,QAAQ,EAAE,EAAE;IAAEC,eAAe,EAAE;EAAG,CAAC,CAAC;EAChF,MAAM,CAACpK,GAAG,EAAEqK,MAAM,CAAC,GAAG1T,+CAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAAC2T,MAAM,EAAEC,SAAS,CAAC,GAAG5T,+CAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC6T,KAAK,EAAEC,QAAQ,CAAC,GAAG9T,+CAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC+T,QAAQ,EAAEC,WAAW,CAAC,GAAGhU,+CAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACiU,IAAI,EAAEC,OAAO,CAAC,GAAGlU,+CAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACmU,GAAG,EAAEC,MAAM,CAAC,GAAGpU,+CAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACqU,SAAS,EAAEC,YAAY,CAAC,GAAGtU,+CAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuU,MAAM,EAAEC,SAAS,CAAC,GAAGxU,+CAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACyU,cAAc,EAAEC,iBAAiB,CAAC,GAAG1U,+CAAQ,CAAC,IAAI,CAAC;EAE1D,MAAM2U,QAAQ,GAAG1U,6CAAM,CAAC,IAAI,CAAC;EAC7B,MAAM2U,UAAU,GAAG3U,6CAAM,CAAC,IAAI,CAAC;EAC/B,MAAM4U,QAAQ,GAAG5U,6CAAM,CAAC,IAAI,CAAC;;EAE7B;EACA,MAAM6U,YAAY,GAAG1U,8CAAO,CAAC,MAC3B,CAACiT,UAAU,EAAE0B,SAAS,IAAI,EAAE,EAAEjO,GAAG,CAACkO,CAAC,KAAK;IAAE/S,KAAK,EAAE+S,CAAC,CAAC1R,EAAE;IAAEhF,KAAK,EAAE0W,CAAC,CAAChJ;EAAK,CAAC,CAAC,CAAC,EACxE,CAACqH,UAAU,CACb,CAAC;EACD,MAAM4B,YAAY,GAAG7U,8CAAO,CAAC,MAC3B,CAACiT,UAAU,EAAEQ,KAAK,IAAI,EAAE,EAAE/M,GAAG,CAACkO,CAAC,IAAI,CAACA,CAAC,CAAC1R,EAAE,EAAE0R,CAAC,CAAChJ,IAAI,CAAC,CAAC,EAClD,CAACqH,UAAU,CACb,CAAC;EACD,MAAM6B,eAAe,GAAG9U,8CAAO,CAAC,MAC9B,CAACiT,UAAU,EAAE8B,YAAY,IAAI,EAAE,EAAErO,GAAG,CAACkO,CAAC,IAAI,CAACA,CAAC,CAAC1R,EAAE,EAAE0R,CAAC,CAAChJ,IAAI,CAAC,CAAC,EACzD,CAACqH,UAAU,CACb,CAAC;EAED,MAAM9K,aAAa,GAAG,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;EACxC,MAAM6M,qBAAqB,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;;EAE/C,MAAMC,MAAM,GAAGA,CAACC,CAAC,EAAEhQ,CAAC,KAAK;IACvBiO,MAAM,CAAEgC,CAAC,KAAM;MAAE,GAAGA,CAAC;MAAE,CAACD,CAAC,GAAGhQ;IAAE,CAAC,CAAC,CAAC;IACjCkP,SAAS,CAAErQ,CAAC,KAAM;MAAE,GAAGA,CAAC;MAAE,CAACmR,CAAC,GAAG;IAAG,CAAC,CAAC,CAAC;EACvC,CAAC;EAED,MAAME,iBAAiB,GAAI5N,IAAI,IAAK;IAClC,MAAMqK,YAAY,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,YAAY,CAAC;IAExF,IAAI,CAACrK,IAAI,EAAE,OAAO;MAAEkB,KAAK,EAAE;IAAK,CAAC;IAEjC,IAAIlB,IAAI,CAACrJ,IAAI,GAAGgK,aAAa,EAAE;MAC7B,OAAO;QACLO,KAAK,EAAE,KAAK;QACZpG,KAAK,EAAE,uBAAuB,CAACkF,IAAI,CAACrJ,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEyK,OAAO,CAAC,CAAC,CAAC;MACtE,CAAC;IACH;IAEA,IAAI,CAACiJ,YAAY,CAACtQ,QAAQ,CAACiG,IAAI,CAAC/I,IAAI,CAAC,EAAE;MACrC,OAAO;QACLiK,KAAK,EAAE,KAAK;QACZpG,KAAK,EAAE;MACT,CAAC;IACH;IAEA,OAAO;MAAEoG,KAAK,EAAE;IAAK,CAAC;EACxB,CAAC;EAED,MAAM2M,WAAW,GAAGA,CAAC7N,IAAI,EAAEqH,QAAQ,GAAG,IAAI,EAAEyG,SAAS,GAAG,IAAI,EAAEC,OAAO,GAAG,GAAG,KAAK;IAC9E,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,MAAMzM,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;MACvB,MAAMyM,MAAM,GAAGxR,QAAQ,CAACuN,aAAa,CAAC,QAAQ,CAAC;MAC/C,MAAMkE,GAAG,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;MAEnC5M,GAAG,CAACE,MAAM,GAAG,MAAM;QACjB,IAAI;UACF,IAAI;YAAEC,KAAK;YAAEC;UAAO,CAAC,GAAGJ,GAAG;UAE3B,IAAIG,KAAK,GAAGyF,QAAQ,IAAIxF,MAAM,GAAGiM,SAAS,EAAE;YAC1C,MAAMQ,WAAW,GAAG1M,KAAK,GAAGC,MAAM;YAElC,IAAID,KAAK,GAAGC,MAAM,EAAE;cAClBD,KAAK,GAAGI,IAAI,CAACmF,GAAG,CAACvF,KAAK,EAAEyF,QAAQ,CAAC;cACjCxF,MAAM,GAAGD,KAAK,GAAG0M,WAAW;YAC9B,CAAC,MAAM;cACLzM,MAAM,GAAGG,IAAI,CAACmF,GAAG,CAACtF,MAAM,EAAEiM,SAAS,CAAC;cACpClM,KAAK,GAAGC,MAAM,GAAGyM,WAAW;YAC9B;UACF;UAEAH,MAAM,CAACvM,KAAK,GAAGA,KAAK;UACpBuM,MAAM,CAACtM,MAAM,GAAGA,MAAM;UAEtBuM,GAAG,CAACG,qBAAqB,GAAG,IAAI;UAChCH,GAAG,CAACI,qBAAqB,GAAG,MAAM;UAElCJ,GAAG,CAACK,SAAS,CAAChN,GAAG,EAAE,CAAC,EAAE,CAAC,EAAEG,KAAK,EAAEC,MAAM,CAAC;UAEvCsM,MAAM,CAACO,MAAM,CACVC,IAAI,IAAK;YACR,IAAI,CAACA,IAAI,EAAE;cACTT,MAAM,CAAC,IAAIpE,KAAK,CAAC,wBAAwB,CAAC,CAAC;cAC3C;YACF;YAEA,MAAM8E,WAAW,GAAG,IAAIC,IAAI,CAAC,CAACF,IAAI,CAAC,EAAE3O,IAAI,CAACoE,IAAI,EAAE;cAC9CnN,IAAI,EAAE+I,IAAI,CAAC/I,IAAI;cACf6X,YAAY,EAAEC,IAAI,CAACC,GAAG,CAAC;YACzB,CAAC,CAAC;YAEFf,OAAO,CAACW,WAAW,CAAC;UACtB,CAAC,EACD5O,IAAI,CAAC/I,IAAI,EACT8W,OACF,CAAC;QACH,CAAC,CAAC,OAAOjT,KAAK,EAAE;UACdoT,MAAM,CAAC,IAAIpE,KAAK,CAAC,2BAA2B,GAAGhP,KAAK,CAACmU,OAAO,CAAC,CAAC;QAChE;MACF,CAAC;MAEDxN,GAAG,CAACS,OAAO,GAAG,MAAM;QAClBgM,MAAM,CAAC,IAAIpE,KAAK,CAAC,mCAAmC,CAAC,CAAC;MACxD,CAAC;MAED,MAAMoF,SAAS,GAAGpO,GAAG,CAACU,eAAe,CAACxB,IAAI,CAAC;MAC3CyB,GAAG,CAAC3C,GAAG,GAAGoQ,SAAS;MAEnBC,UAAU,CAAC,MAAMrO,GAAG,CAACC,eAAe,CAACmO,SAAS,CAAC,EAAE,IAAI,CAAC;IACxD,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,mBAAmB,GAAG,MAAOC,IAAI,IAAK;IAC1C,MAAMC,GAAG,GAAG3S,QAAQ,CAACuN,aAAa,CAAC,KAAK,CAAC;IACzCoF,GAAG,CAACC,SAAS,GAAGF,IAAI;IACpB,MAAMG,IAAI,GAAGnW,KAAK,CAAC0J,IAAI,CAACuM,GAAG,CAACG,gBAAgB,CAAC,mBAAmB,CAAC,CAAC;IAElE,IAAIC,cAAc,GAAG,CAAC;IACtB,MAAMC,WAAW,GAAGH,IAAI,CAACjW,MAAM;IAE/B,IAAIoW,WAAW,GAAG,CAAC,EAAE;MACnB7C,iBAAiB,CAAC;QAAEtQ,OAAO,EAAE,CAAC;QAAEoT,KAAK,EAAED,WAAW;QAAEE,MAAM,EAAE;MAA8B,CAAC,CAAC;IAC9F;IAEA,KAAK,MAAMpO,GAAG,IAAI+N,IAAI,EAAE;MACtB,IAAI;QACF,MAAMM,GAAG,GAAG,MAAMC,KAAK,CAACtO,GAAG,CAAC3C,GAAG,CAAC;QAChC,MAAM6P,IAAI,GAAG,MAAMmB,GAAG,CAACnB,IAAI,CAAC,CAAC;QAE7B,IAAIA,IAAI,CAAChY,IAAI,GAAG6W,qBAAqB,EAAE;UACrC,MAAM,IAAI1D,KAAK,CAAC,8BAA8B,CAAC6E,IAAI,CAAChY,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEyK,OAAO,CAAC,CAAC,CAAC,0CAA0C,CAAC;QACjI;QAEA,MAAMpB,IAAI,GAAG,IAAI6O,IAAI,CAAC,CAACF,IAAI,CAAC,EAAE,kBAAkB,EAAE;UAAE1X,IAAI,EAAE0X,IAAI,CAAC1X;QAAK,CAAC,CAAC;QAEtE,MAAM+Y,aAAa,GAAGrB,IAAI,CAAChY,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,MAAMkX,WAAW,CAAC7N,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,GAAGA,IAAI;QAE9F,MAAMuB,GAAG,GAAG,MAAM0O,iBAAiB,CAACD,aAAa,CAAC;QAClDvO,GAAG,CAAC3C,GAAG,GAAGyC,GAAG;QAEbmO,cAAc,EAAE;QAChB5C,iBAAiB,CAAC;UAAEtQ,OAAO,EAAEkT,cAAc;UAAEE,KAAK,EAAED,WAAW;UAAEE,MAAM,EAAE,aAAaH,cAAc,IAAIC,WAAW;QAAU,CAAC,CAAC;MACjI,CAAC,CAAC,OAAOO,GAAG,EAAE;QACZvF,OAAO,CAAC7P,KAAK,CAAC,4BAA4B,EAAEoV,GAAG,CAAC;QAChD,MAAM,IAAIpG,KAAK,CAAC,mCAAmCoG,GAAG,CAACjB,OAAO,EAAE,CAAC;MACnE;IACF;IAEA,IAAIU,WAAW,GAAG,CAAC,EAAE;MACnB7C,iBAAiB,CAAC,IAAI,CAAC;IACzB;IAEA,OAAOwC,GAAG,CAACC,SAAS;EACtB,CAAC;EAED,MAAMU,iBAAiB,GAAG,MAAOjQ,IAAI,IAAK;IACxC,MAAMmQ,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;IACzBD,EAAE,CAACE,MAAM,CAAC,MAAM,EAAErQ,IAAI,EAAEA,IAAI,CAACoE,IAAI,CAAC;IAElC,MAAM0L,GAAG,GAAG,MAAMC,KAAK,CAAC,sBAAsB,EAAE;MAC9CO,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,YAAY,EAAE/E;MAAQ,CAAC;MAClC5E,IAAI,EAAEuJ,EAAE;MACRK,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,MAAMC,IAAI,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,CAAC;IAE7B,IAAI,CAACZ,GAAG,CAACa,EAAE,EAAE;MACX,MAAM,IAAI7G,KAAK,CAAC2G,IAAI,EAAExB,OAAO,IAAI,kBAAkBa,GAAG,CAACD,MAAM,GAAG,CAAC;IACnE;IAEA,IAAI,CAACY,IAAI,EAAEG,UAAU,EAAE;MACrB,MAAM,IAAI9G,KAAK,CAAC,sCAAsC,CAAC;IACzD;IAEA,OAAO2G,IAAI,CAACG,UAAU;EACxB,CAAC;EAED,MAAMC,SAAS,GAAIxB,IAAI,IAAK;IAC1B,MAAMyB,EAAE,GAAGnU,QAAQ,CAACuN,aAAa,CAAC,KAAK,CAAC;IACxC4G,EAAE,CAACvB,SAAS,GAAGF,IAAI,IAAI,EAAE;IACzB,OAAO,CAACyB,EAAE,CAACC,WAAW,IAAID,EAAE,CAACE,SAAS,IAAI,EAAE,EAAEC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAACjV,IAAI,CAAC,CAAC;EAC7E,CAAC;EAED,MAAMkV,UAAU,GAAIlS,GAAG,IAAK;IAC1B,MAAM4G,IAAI,GAAG5G,GAAG,EAAExC,OAAO,EAAE2U,aAAa,CAAC,mDAAmD,CAAC;IAC7F,IAAIvL,IAAI,EAAE;MACRA,IAAI,CAACqD,KAAK,CAAC;QAAEmI,aAAa,EAAE;MAAK,CAAC,CAAC;MACnCjC,UAAU,CAAC,MAAM;QACfvJ,IAAI,CAACyL,cAAc,CAAC;UAAEC,QAAQ,EAAE,QAAQ;UAAEC,KAAK,EAAE;QAAS,CAAC,CAAC;MAC9D,CAAC,EAAE,GAAG,CAAC;IACT;EACF,CAAC;EAED,MAAMC,QAAQ,GAAGA,CAAA,KAAM;IACrB,MAAMC,UAAU,GAAG,CAAC,CAAC;IAErB,IAAI,CAAC/F,GAAG,CAAClE,KAAK,CAACxL,IAAI,CAAC,CAAC,EAAE;MACrByV,UAAU,CAACjK,KAAK,GAAG,sBAAsB;IAC3C;IAEA,IAAI,CAACqJ,SAAS,CAACnF,GAAG,CAACG,eAAe,CAAC,EAAE;MACnC4F,UAAU,CAAC5F,eAAe,GAAG,kCAAkC;IACjE;IAEA,IAAI,CAACI,KAAK,EAAE;MACVwF,UAAU,CAACxF,KAAK,GAAG,uBAAuB;IAC5C;IAEA,IAAIxK,GAAG,EAAE;MACP,MAAMiQ,eAAe,GAAG9D,iBAAiB,CAACnM,GAAG,CAAC;MAC9C,IAAI,CAACiQ,eAAe,CAACxQ,KAAK,EAAE;QAC1BuQ,UAAU,CAAC5S,KAAK,GAAG6S,eAAe,CAAC5W,KAAK;MAC1C;IACF;IAEA8R,SAAS,CAAC6E,UAAU,CAAC;IAErB,IAAIE,MAAM,CAACC,IAAI,CAACH,UAAU,CAAC,CAAClY,MAAM,EAAE;MAClC,MAAMsY,KAAK,GAAG,CAAC,OAAO,EAAE,iBAAiB,EAAE,OAAO,EAAE,OAAO,CAAC;MAC5D,MAAMC,KAAK,GAAGD,KAAK,CAAC5O,IAAI,CAAEyK,CAAC,IAAK+D,UAAU,CAAC/D,CAAC,CAAC,CAAC;MAE9C,IAAIoE,KAAK,KAAK,OAAO,EAAEZ,UAAU,CAACnE,QAAQ,CAAC,CAAC,KACvC,IAAI+E,KAAK,KAAK,iBAAiB,EAAEZ,UAAU,CAAClE,UAAU,CAAC,CAAC,KACxD,IAAI8E,KAAK,KAAK,OAAO,EAAEZ,UAAU,CAACjE,QAAQ,CAAC;MAEhD,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb,CAAC;EAED,MAAM8E,MAAM,GAAG,MAAOxV,CAAC,IAAK;IAC1BA,CAAC,CAACgG,cAAc,CAAC,CAAC;IAClBiK,MAAM,CAAC,IAAI,CAAC;IACZM,iBAAiB,CAAC,IAAI,CAAC;IAEvB,IAAI,CAAC0E,QAAQ,CAAC,CAAC,EAAE;IAEjBlF,OAAO,CAAC,IAAI,CAAC;IAEb,IAAI;MACFQ,iBAAiB,CAAC;QAAEtQ,OAAO,EAAE,CAAC;QAAEoT,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAA0B,CAAC,CAAC;MAEhF,IAAImC,gBAAgB,GAAGtG,GAAG,CAACG,eAAe;MAC1C,IAAIH,GAAG,CAACG,eAAe,CAAC9R,QAAQ,CAAC,aAAa,CAAC,EAAE;QAC/CiY,gBAAgB,GAAG,MAAM5C,mBAAmB,CAAC1D,GAAG,CAACG,eAAe,CAAC;MACnE;MAEAiB,iBAAiB,CAAC;QAAEtQ,OAAO,EAAE,EAAE;QAAEoT,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAA2B,CAAC,CAAC;MAElF,IAAIoC,UAAU,GAAGxQ,GAAG;MACpB,IAAIA,GAAG,IAAIA,GAAG,CAAC9K,IAAI,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI,EAAE;QACrC,IAAI;UACFsb,UAAU,GAAG,MAAMpE,WAAW,CAACpM,GAAG,CAAC;QACrC,CAAC,CAAC,OAAOyQ,WAAW,EAAE;UACpBvH,OAAO,CAACwH,IAAI,CAAC,sCAAsC,EAAED,WAAW,CAAC;UACjED,UAAU,GAAGxQ,GAAG;QAClB;MACF;MAEAqL,iBAAiB,CAAC;QAAEtQ,OAAO,EAAE,EAAE;QAAEoT,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAAwB,CAAC,CAAC;MAE/E,MAAMM,EAAE,GAAG,IAAIC,QAAQ,CAAC,CAAC;MACzBD,EAAE,CAACE,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;MAExBsB,MAAM,CAACS,OAAO,CAAC1G,GAAG,CAAC,CAAC2G,OAAO,CAAC,CAAC,CAAC3E,CAAC,EAAEhQ,CAAC,CAAC,KACjCyS,EAAE,CAACE,MAAM,CAAC,OAAO3C,CAAC,GAAG,EAAEA,CAAC,KAAK,iBAAiB,GAAGsE,gBAAgB,GAAGtU,CAAC,CACvE,CAAC;MAEDqO,MAAM,CAACsG,OAAO,CAAE3W,EAAE,IAAKyU,EAAE,CAACE,MAAM,CAAC,cAAc,EAAEiC,MAAM,CAAC5W,EAAE,CAAC,CAAC,CAAC;MAC7D,IAAIuQ,KAAK,EAAEkE,EAAE,CAACE,MAAM,CAAC,OAAO,EAAEiC,MAAM,CAACrG,KAAK,CAAC,CAAC;MAC5C,IAAIE,QAAQ,EAAEgE,EAAE,CAACE,MAAM,CAAC,cAAc,EAAEiC,MAAM,CAACnG,QAAQ,CAAC,CAAC;MAEzD,IAAI8F,UAAU,EAAE9B,EAAE,CAACE,MAAM,CAAC,0BAA0B,EAAE4B,UAAU,CAAC;MAEjE,MAAMnC,GAAG,GAAG,MAAMC,KAAK,CAACxE,OAAO,EAAE;QAC/B+E,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,YAAY,EAAE/E;QAAQ,CAAC;QAClC5E,IAAI,EAAEuJ,EAAE;QACRK,WAAW,EAAE;MACf,CAAC,CAAC;MAEF,MAAMC,IAAI,GAAG,MAAMX,GAAG,CAACY,IAAI,CAAC,CAAC;MAE7B,IAAI,CAACZ,GAAG,CAACa,EAAE,EAAE;QACX,MAAM4B,YAAY,GAAG9B,IAAI,EAAExB,OAAO,IAAI,sBAAsBa,GAAG,CAACD,MAAM,GAAG;QACzE,MAAM,IAAI/F,KAAK,CAACyI,YAAY,CAAC;MAC/B;MAEA,IAAI,CAAC9B,IAAI,EAAEE,EAAE,EAAE;QACb,MAAM,IAAI7G,KAAK,CAAC2G,IAAI,EAAExB,OAAO,IAAI,sCAAsC,CAAC;MAC1E;MAEAnC,iBAAiB,CAAC;QAAEtQ,OAAO,EAAE,GAAG;QAAEoT,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAAW,CAAC,CAAC;MACnEV,UAAU,CAAC,MAAMzC,YAAY,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC;IAE3C,CAAC,CAAC,OAAOwD,GAAG,EAAE;MACZvF,OAAO,CAAC7P,KAAK,CAAC,mBAAmB,EAAEoV,GAAG,CAAC;MACvC1D,MAAM,CAAC;QACLY,CAAC,EAAE,OAAO;QACVoF,CAAC,EAAEtC,GAAG,CAACjB,OAAO,IAAI;MACpB,CAAC,CAAC;MACFnC,iBAAiB,CAAC,IAAI,CAAC;IACzB,CAAC,SAAS;MACRR,OAAO,CAAC,KAAK,CAAC;IAChB;EACF,CAAC;EAED,MAAMmG,iBAAiB,GAAIzS,IAAI,IAAK;IAClC,IAAIA,IAAI,EAAE;MACR,MAAMsB,UAAU,GAAGsM,iBAAiB,CAAC5N,IAAI,CAAC;MAC1C,IAAI,CAACsB,UAAU,CAACJ,KAAK,EAAE;QACrB0L,SAAS,CAAErQ,CAAC,KAAM;UAAE,GAAGA,CAAC;UAAEsC,KAAK,EAAEyC,UAAU,CAACxG;QAAM,CAAC,CAAC,CAAC;QACrD;MACF;IACF;IACAgR,MAAM,CAAC9L,IAAI,CAAC;IACZ4M,SAAS,CAAErQ,CAAC,KAAM;MAAE,GAAGA,CAAC;MAAEsC,KAAK,EAAE;IAAG,CAAC,CAAC,CAAC;EACzC,CAAC;EAED,IAAI4N,SAAS,EAAE;IACb,oBACElW,uDAAA;MAAKE,SAAS,EAAC,oEAAoE;MAAA0B,QAAA,gBACjF9B,sDAAA;QAAII,SAAS,EAAC,yGAAyG;QAAA0B,QAAA,EAAC;MAExH,CAAI,CAAC,eACL9B,sDAAA;QAAGI,SAAS,EAAC,oDAAoD;QAAA0B,QAAA,EAAC;MAElE,CAAG,CAAC,eACJ5B,uDAAA;QAAGE,SAAS,EAAC,oDAAoD;QAAA0B,QAAA,GAAC,QAC1D,eAAA9B,sDAAA;UAAGiT,IAAI,EAAC,mBAAmB;UAAC7S,SAAS,EAAC,8EAA8E;UAAA0B,QAAA,EAAC;QAAgB,CAAG,CAAC,8BACjJ;MAAA,CAAG,CAAC;IAAA,CACD,CAAC;EAEV;EAEA,oBACE9B,sDAAA;IAAKI,SAAS,EAAC,gCAAgC;IAAA0B,QAAA,eAC7C5B,uDAAA;MAAMmc,QAAQ,EAAEX,MAAO;MAACtb,SAAS,EAAC,oEAAoE;MAACkc,UAAU;MAAAxa,QAAA,gBAC/G5B,uDAAA;QAAKE,SAAS,EAAC,qBAAqB;QAAA0B,QAAA,gBAClC9B,sDAAA;UAAII,SAAS,EAAC,4HAA4H;UAAA0B,QAAA,EAAC;QAE3I,CAAI,CAAC,eACL9B,sDAAA;UAAGI,SAAS,EAAC,sIAAsI;UAAA0B,QAAA,EAAC;QAGpJ,CAAG,CAAC;MAAA,CACD,CAAC,EAEL0U,cAAc,iBACbtW,uDAAA;QAAKE,SAAS,EAAC,4EAA4E;QAAA0B,QAAA,gBACzF5B,uDAAA;UAAKE,SAAS,EAAC,wCAAwC;UAAA0B,QAAA,gBACrD9B,sDAAA;YAAMI,SAAS,EAAC,6CAA6C;YAAA0B,QAAA,EAAE0U,cAAc,CAACgD;UAAM,CAAO,CAAC,eAC5FtZ,uDAAA;YAAME,SAAS,EAAC,mDAAmD;YAAA0B,QAAA,GAChE0U,cAAc,CAACrQ,OAAO,EAAC,GAAC,EAACqQ,cAAc,CAAC+C,KAAK;UAAA,CAC1C,CAAC;QAAA,CACJ,CAAC,eACNvZ,sDAAA;UAAKI,SAAS,EAAC,kDAAkD;UAAA0B,QAAA,eAC/D9B,sDAAA;YACEI,SAAS,EAAC,gEAAgE;YAC1EgI,KAAK,EAAE;cAAEmD,KAAK,EAAE,GAAIiL,cAAc,CAACrQ,OAAO,GAAGqQ,cAAc,CAAC+C,KAAK,GAAI,GAAG;YAAI;UAAE,CAC/E;QAAC,CACC,CAAC;MAAA,CACH,CACN,EAEArD,GAAG,iBACFlW,sDAAA;QACEsI,IAAI,EAAC,OAAO;QACZ,aAAU,WAAW;QACrBlI,SAAS,EAAE,yBAAyB8V,GAAG,CAACa,CAAC,KAAK,SAAS,GACnD,0DAA0D,GAC1D,oDAAoD,EACnD;QAAAjV,QAAA,eAEL9B,sDAAA;UAAKI,SAAS,EAAC,uBAAuB;UAAA0B,QAAA,EAAEoU,GAAG,CAACiG;QAAC,CAAM;MAAC,CACjD,CACN,eAEDnc,sDAAA;QAAK2I,GAAG,EAAE+N,QAAS;QAAA5U,QAAA,eACjB9B,sDAAA,CAACgV,iDAAS;UACR3U,KAAK,EAAC,aAAa;UACnB8I,QAAQ;UACRnF,KAAK,EAAEqR,GAAG,CAAClE,KAAM;UACjB/M,QAAQ,EAAG8B,CAAC,IAAKkR,MAAM,CAAC,OAAO,EAAElR,CAAC,CAACG,MAAM,CAACrC,KAAK,CAAE;UACjDoE,KAAK,EAAC,UAAU;UAChB3D,KAAK,EAAE6R,MAAM,CAACnF,KAAK,IAAI,EAAG;UAC1BzQ,QAAQ,EAAEsV;QAAK,CAChB;MAAC,CACC,CAAC,eAENhW,sDAAA,CAACgV,iDAAS;QACR3U,KAAK,EAAC,+BAA+B;QACrC2D,KAAK,EAAEqR,GAAG,CAACE,QAAS;QACpBnR,QAAQ,EAAG8B,CAAC,IAAKkR,MAAM,CAAC,UAAU,EAAElR,CAAC,CAACG,MAAM,CAACrC,KAAK,CAAE;QACpDoE,KAAK,EAAC,UAAU;QAChB3D,KAAK,EAAC,EAAE;QACR/D,QAAQ,EAAEsV;MAAK,CAChB,CAAC,eAEF9V,uDAAA;QAAKyI,GAAG,EAAEgO,UAAW;QAAA7U,QAAA,gBACnB9B,sDAAA,CAACqR,yDAAa;UACZhR,KAAK,EAAC,YAAY;UAClB8I,QAAQ;UACRnF,KAAK,EAAEqR,GAAG,CAACG,eAAgB;UAC3BpR,QAAQ,EAAG8B,CAAC,IAAKkR,MAAM,CAAC,iBAAiB,EAAElR,CAAC,CAACG,MAAM,CAACrC,KAAK,CAAE;UAC3DsN,QAAQ,EAAEsI,iBAAkB;UAC5BnV,KAAK,EAAE6R,MAAM,CAACd,eAAe,IAAI,EAAG;UACpC9U,QAAQ,EAAEsV;QAAK,CAChB,CAAC,EACDM,MAAM,CAACd,eAAe,iBACrBxV,sDAAA;UAAGI,SAAS,EAAC,6CAA6C;UAAA0B,QAAA,EAAEwU,MAAM,CAACd;QAAe,CAAI,CACvF;MAAA,CACE,CAAC,eAENtV,uDAAA;QAAA4B,QAAA,gBACE9B,sDAAA,CAACiJ,uDAAc;UACb5I,KAAK,EAAC,iBAAiB;UACvB2D,KAAK,EAAE,IAAK;UACZI,QAAQ,EAAEgY,iBAAkB;UAC5BjT,QAAQ,EAAE,KAAM;UAChBC,QAAQ,EAAC,gIAAgI;UACzI1I,QAAQ,EAAEsV;QAAK,CAChB,CAAC,EACDM,MAAM,CAAC9N,KAAK,iBACXxI,sDAAA;UAAGI,SAAS,EAAC,6CAA6C;UAAA0B,QAAA,EAAEwU,MAAM,CAAC9N;QAAK,CAAI,CAC7E,EACA4C,GAAG,iBACFlL,uDAAA;UAAGE,SAAS,EAAC,wDAAwD;UAAA0B,QAAA,GAAC,YAC1D,EAACsJ,GAAG,CAAC2C,IAAI,EAAC,IAAE,EAAC,CAAC3C,GAAG,CAAC9K,IAAI,IAAI,IAAI,GAAG,IAAI,CAAC,EAAEyK,OAAO,CAAC,CAAC,CAAC,EAAC,KAC/D;QAAA,CAAG,CACJ;MAAA,CACE,CAAC,eAEN7K,uDAAA;QAAKyI,GAAG,EAAEiO,QAAS;QAAA9U,QAAA,gBACjB9B,sDAAA,CAAC8U,oDAAW;UACVzU,KAAK,EAAC,OAAO;UACb8I,QAAQ;UACRnF,KAAK,EAAE4R,KAAM;UACbxR,QAAQ,EAAG8B,CAAC,IAAK;YACf2P,QAAQ,CAAC3P,CAAC,CAACG,MAAM,CAACrC,KAAK,CAAC;YACxBuS,SAAS,CAAEgG,EAAE,KAAM;cAAE,GAAGA,EAAE;cAAE3G,KAAK,EAAE;YAAG,CAAC,CAAC,CAAC;UAC3C,CAAE;UACFnT,OAAO,EAAEuU,YAAa;UACtBvS,KAAK,EAAE6R,MAAM,CAACV,KAAK,IAAI,EAAG;UAC1BlV,QAAQ,EAAEsV;QAAK,CAChB,CAAC,EACDM,MAAM,CAACV,KAAK,iBACX5V,sDAAA;UAAGI,SAAS,EAAC,6CAA6C;UAAA0B,QAAA,EAAEwU,MAAM,CAACV;QAAK,CAAI,CAC7E;MAAA,CACE,CAAC,eAGN5V,sDAAA,CAACmE,2DAAc;QACb9D,KAAK,EAAC,QAAQ;QACdmE,WAAW,EAAC,kBAAkB;QAC9BH,QAAQ;QACRC,UAAU;QACVC,iBAAiB,EAAC,kBAAkB;QACpC9B,OAAO,EAAEoU,YAAa;QACtB7S,KAAK,EAAE0R,MAAO;QACdtR,QAAQ,EAAEuR,SAAU;QACpBjV,QAAQ,EAAEsV,IAAK;QACftR,cAAc,EAAC;MAAqD,CACrE,CAAC,eAEF1E,sDAAA,CAAC8U,oDAAW;QACVzU,KAAK,EAAC,UAAU;QAChB2D,KAAK,EAAE8R,QAAS;QAChB1R,QAAQ,EAAG8B,CAAC,IAAK6P,WAAW,CAAC7P,CAAC,CAACG,MAAM,CAACrC,KAAK,CAAE;QAC7CvB,OAAO,EAAEwU,eAAgB;QACzBxS,KAAK,EAAC,EAAE;QACR/D,QAAQ,EAAEsV;MAAK,CAChB,CAAC,eAEFhW,sDAAA,CAACG,2CAAM;QACLS,IAAI,EAAC,QAAQ;QACbP,KAAK,EAAE2V,IAAI,GAAG,eAAe,GAAG,cAAe;QAC/CzV,OAAO,EAAC,QAAQ;QAChBD,IAAI,EAAC,MAAM;QACXI,QAAQ,EAAEsV,IAAI,IAAIsF,MAAM,CAACC,IAAI,CAACjF,MAAM,CAAC,CAAC9Q,IAAI,CAACkB,GAAG,IAAI4P,MAAM,CAAC5P,GAAG,CAAC;MAAE,CAChE,CAAC;IAAA,CACE;EAAC,CACJ,CAAC;AAEV;;;;;;;;;;;;;;;;;;;;;AC1f+C;AACvB;AAC+B;AAAA;AAEhD,SAASsO,SAASA,CAAC;EACxB3U,KAAK,GAAG,OAAO;EACf2D,KAAK,GAAG,EAAE;EACVI,QAAQ;EACRI,WAAW,GAAG,EAAE;EAChBE,cAAc,GAAG,EAAE;EACnBgY,WAAW,GAAG,IAAI;EAClBC,YAAY,GAAG,IAAI;EACnBlY,KAAK,GAAG,EAAE;EACV/D,QAAQ,GAAG,KAAK;EAChByI,QAAQ,GAAG,KAAK;EAChBf,KAAK,GAAG,UAAU;EAClBxH,IAAI,GAAG,MAAM;EACbgc,SAAS,GAAG,KAAK;EACjB7O,IAAI;EACJ1I;AACF,CAAC,EAAE;EACD,MAAMwX,OAAO,GAAGxX,EAAE,IAAInD,4CAAK,CAAC,CAAC;EAC7B,MAAM4a,KAAK,GAAG,GAAGD,OAAO,MAAM;EAC9B,MAAMnV,QAAQ,GAAG,OAAOjD,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACvB,MAAM,GAAG,CAAC;EAC9D,MAAMyE,UAAU,GAAGD,QAAQ,GAAGjD,KAAK,GAAGC,cAAc;EAEpD,MAAM,CAACqY,YAAY,EAAEC,eAAe,CAAC,GAAGjb,+CAAQ,CAAC,KAAK,CAAC;EACvD,MAAMkb,UAAU,GAAGrc,IAAI,KAAK,UAAU;EACtC,MAAMsc,SAAS,GAAGD,UAAU,GAAIF,YAAY,GAAG,MAAM,GAAG,UAAU,GAAInc,IAAI;EAE1E,MAAMuc,aAAa,GACjB,wEAAwE;EAE1E,MAAMC,UAAU,GAAG;IACjBC,QAAQ,EACN,kGAAkG,GAClG,6CAA6C;IAC/C9b,MAAM,EACJ;EACJ,CAAC;EAED,MAAM+b,YAAY,GAAG5V,QAAQ,GACzB,sDAAsD,GACtD,EAAE;EAEN,MAAM6V,eAAe,GAAG7c,QAAQ,GAC5B,mDAAmD,GACnD,EAAE;EAEN,MAAM8c,SAAS,GACb,kFAAkF,GAClF,uHAAuH;EAEzH,MAAMC,SAAS,GACb,yDAAyD,GACzD,qEAAqE;EAEvE,MAAMC,WAAW,GAAG;IAClBrY,EAAE,EAAEwX,OAAO;IACX9O,IAAI;IACJ/J,KAAK;IACLI,QAAQ;IACRI,WAAW,EAAEA,WAAW,IAAInE,KAAK;IACjC8I,QAAQ;IACRzI,QAAQ;IACR,cAAc,EAAEgH,QAAQ,GAAG,MAAM,GAAGiW,SAAS;IAC7C,kBAAkB,EAAEhW,UAAU,GAAGmV,KAAK,GAAGa,SAAS;IAClDvd,SAAS,EAAEN,gDAAI,CACb2d,SAAS,EACTb,SAAS,IAAI,aAAa,EAC1B,CAACK,UAAU,IAAIN,YAAY,KAAK,OAClC;EACF,CAAC;EAED,MAAMiB,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,IAAIX,UAAU,EAAE;MACd,oBACEjd,sDAAA;QACEY,IAAI,EAAC,QAAQ;QACbD,OAAO,EAAEA,CAAA,KAAMqc,eAAe,CAAElW,IAAI,IAAK,CAACA,IAAI,CAAE;QAChD1G,SAAS,EAAC,oGAAoG;QAC9G6M,QAAQ,EAAE,CAAC,CAAE;QACb,cAAY8P,YAAY,GAAG,eAAe,GAAG,eAAgB;QAAAjb,QAAA,EAE5Dib,YAAY,gBAAG/c,sDAAA,CAACyc,4DAAS;UAACnc,IAAI,EAAE;QAAG,CAAE,CAAC,gBAAGN,sDAAA,CAACwc,sDAAG;UAAClc,IAAI,EAAE;QAAG,CAAE;MAAC,CACrD,CAAC;IAEb;IAEA,IAAIqc,YAAY,EAAE;MAChB,oBACE3c,sDAAA;QACEY,IAAI,EAAC,QAAQ;QACbR,SAAS,EAAC,oGAAoG;QAC9G6M,QAAQ,EAAE,CAAC,CAAE;QAAAnL,QAAA,EAEZ6a;MAAY,CACP,CAAC;IAEb;IAEA,OAAO,IAAI;EACb,CAAC;EAED,oBACEzc,uDAAA;IAAKE,SAAS,EAAC,qBAAqB;IAAA0B,QAAA,gBAClC5B,uDAAA;MACEE,SAAS,EAAEN,gDAAI,CACbqd,aAAa,EACbC,UAAU,CAAChV,KAAK,CAAC,EACjBkV,YAAY,EACZC,eACF,CAAE;MAAAzb,QAAA,GAED4a,WAAW,iBACV1c,sDAAA;QAAMI,SAAS,EAAC,2FAA2F;QAAA0B,QAAA,EACxG4a;MAAW,CACR,CACP,EAEAE,SAAS,gBACR5c,sDAAA;QAAA,GAAc0d;MAAW,CAAG,CAAC,gBAE7B1d,sDAAA;QAAOY,IAAI,EAAEsc,SAAU;QAAA,GAAKQ;MAAW,CAAG,CAC3C,eAED1d,sDAAA;QAAO+U,OAAO,EAAE8H,OAAQ;QAACzc,SAAS,EAAEod,SAAU;QAAA1b,QAAA,EAC3CzB;MAAK,CACD,CAAC,EAEPud,kBAAkB,CAAC,CAAC;IAAA,CAClB,CAAC,EAELjW,UAAU,gBACT3H,sDAAA;MACEqF,EAAE,EAAEyX,KAAM;MACV1c,SAAS,EAAEN,gDAAI,CACb,2BAA2B,EAC3B4H,QAAQ,GAAG,mBAAmB,GAAG,8BACnC,CAAE;MAAA5F,QAAA,EAED6F;IAAU,CACV,CAAC,GACF,IAAI;EAAA,CACL,CAAC;AAEV","sources":["webpack://brads-boilerplate-theme/./src/scripts/Button.js","webpack://brads-boilerplate-theme/./src/scripts/DropdownSelect.js","webpack://brads-boilerplate-theme/./src/scripts/ImageDropField.js","webpack://brads-boilerplate-theme/./src/scripts/RichTextField.js","webpack://brads-boilerplate-theme/./src/scripts/SelectField.js","webpack://brads-boilerplate-theme/./src/scripts/SubmitArticlePage.js","webpack://brads-boilerplate-theme/./src/scripts/TextField.js"],"sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\n\nexport function Button({\n  className = '',\n  label = 'Label',\n  size = 'base',\n  variant = 'filled',\n  shape = 'square',\n  icon,\n  disabled = false,\n  onClick = () => { },\n  type = 'button',\n}) {\n  const sizeStyles = {\n    xs: 'px-3 py-1.5 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    sm: 'px-4 py-2 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    base: 'px-4 py-2.5 Blueprint-title-small md:Blueprint-title-medium lg:Blueprint-title-large',\n    lg: 'px-4 py-4 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n    xl: 'px-8 py-6 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n  }[size];\n\n  const rounded = {\n    square: { xs: 'rounded-xl', sm: 'rounded-xl', base: 'rounded-[16px]', lg: 'rounded-[16px]', xl: 'rounded-[28px]' },\n    pill: { xs: 'rounded-[100px]', sm: 'rounded-[100px]', base: 'rounded-[100px]', lg: 'rounded-[100px]', xl: 'rounded-[100px]' },\n  };\n\n  const variantStyles = {\n    filled: 'bg-[var(--schemesPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesPrimary40)]',\n    tonal: 'bg-[var(--schemesPrimaryFixed)] text-[var(--schemesOnPrimaryFixedVariant)] hover:bg-[var(--schemesPrimaryFixedDim)]',\n    outline: 'border border-[var(--schemesOnPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesOnPrimary40)]',\n    elevated: 'bg-[var(--schemesSurfaceContainerHigh)] text-[var(--schemesPrimary)] shadow-3x3 hover:bg-[var(--stateLayersSurfaceContainerHighOpacity08)]',\n    text: 'bg-transparent text-[var(--schemesPrimary)] hover:bg-[var(--palettesPrimary60)]',\n  }[variant];\n\n  // cursor + disabled handling\n  const disabledStyles = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\n  const baseCursor = disabled ? '' : 'cursor-pointer';\n\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      aria-disabled={disabled}\n      className={clsx(\n        'inline-flex items-center justify-center gap-2 transition-colors duration-150',\n        baseCursor,            // pointer on hover for enabled buttons\n        sizeStyles,\n        rounded[shape][size],\n        variantStyles,\n        disabledStyles,        // overrides cursor when disabled\n        className\n      )}\n    >\n      {icon && <span className=\"shrink-0\">{icon}</span>}\n      <span className=\"Blueprint-label-large\">{label}</span>\n    </button>\n  );\n}\n","import React, { useState, useRef, useEffect, useId, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { CaretDown, CaretRight, MagnifyingGlass, Check } from '@phosphor-icons/react';\nimport { Button } from './Button';\n\n/**\n * Flattens nested options into a flat array with depth info\n */\nfunction flattenOptions(options, depth = 0, parentExpanded = true) {\n  let result = [];\n  for (const option of options) {\n    result.push({\n      ...option,\n      depth,\n      hasChildren: Array.isArray(option.children) && option.children.length > 0,\n    });\n    if (option.children && option.children.length > 0) {\n      result = result.concat(flattenOptions(option.children, depth + 1, parentExpanded));\n    }\n  }\n  return result;\n}\n\n/**\n * Recursively filter options based on search query\n * Returns options that match OR have children that match\n */\nfunction filterOptionsRecursive(options, searchLower) {\n  if (!searchLower) return options;\n\n  return options.reduce((acc, option) => {\n    const labelMatches = option.label.toLowerCase().includes(searchLower);\n\n    // Check if any children match\n    let filteredChildren = [];\n    if (option.children && option.children.length > 0) {\n      filteredChildren = filterOptionsRecursive(option.children, searchLower);\n    }\n\n    // Include if label matches OR has matching children\n    if (labelMatches || filteredChildren.length > 0) {\n      acc.push({\n        ...option,\n        children: filteredChildren.length > 0 ? filteredChildren : option.children,\n        // Mark as matching if the label itself matches (for highlighting)\n        _matches: labelMatches,\n      });\n    }\n\n    return acc;\n  }, []);\n}\n\n/**\n * Get all descendant values of an option\n */\nfunction getDescendantValues(option) {\n  let values = [];\n  if (option.children) {\n    for (const child of option.children) {\n      values.push(child.value);\n      values = values.concat(getDescendantValues(child));\n    }\n  }\n  return values;\n}\n\n/**\n * Find an option by value in nested structure\n */\nfunction findOptionByValue(options, value) {\n  for (const option of options) {\n    if (option.value === value) return option;\n    if (option.children) {\n      const found = findOptionByValue(option.children, value);\n      if (found) return found;\n    }\n  }\n  return null;\n}\n\nexport function DropdownSelect({\n  label = 'Select',\n  options = [],\n  value = [],\n  onChange,\n  multiple = false,\n  searchable = true,\n  searchPlaceholder = 'Search...',\n  placeholder = 'Select an option',\n  disabled = false,\n  error = '',\n  supportingText = '',\n  collapsible = false, // Whether parent items can be collapsed\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\n  const dropdownRef = useRef(null);\n  const triggerRef = useRef(null);\n  const id = useId();\n\n  // Normalize value to array for consistent handling\n  const selectedValues = multiple ? (Array.isArray(value) ? value : []) : (value ? [value] : []);\n\n  // Check if options are nested\n  const isNested = useMemo(() => {\n    return options.some(opt => opt.children && opt.children.length > 0);\n  }, [options]);\n\n  // Filter options based on search\n  const filteredOptions = useMemo(() => {\n    const searchLower = search.toLowerCase().trim();\n    if (!searchLower) return options;\n    return filterOptionsRecursive(options, searchLower);\n  }, [options, search]);\n\n  // Flatten for rendering\n  const flatOptions = useMemo(() => {\n    return flattenOptions(filteredOptions);\n  }, [filteredOptions]);\n\n  // Auto-expand all when searching\n  useEffect(() => {\n    if (search && isNested) {\n      const allParentValues = new Set();\n      const collectParents = (opts) => {\n        for (const opt of opts) {\n          if (opt.children && opt.children.length > 0) {\n            allParentValues.add(opt.value);\n            collectParents(opt.children);\n          }\n        }\n      };\n      collectParents(filteredOptions);\n      setExpandedNodes(allParentValues);\n    }\n  }, [search, filteredOptions, isNested]);\n\n  // Initialize expanded state to show all by default\n  useEffect(() => {\n    if (isNested && !collapsible) {\n      const allParentValues = new Set();\n      const collectParents = (opts) => {\n        for (const opt of opts) {\n          if (opt.children && opt.children.length > 0) {\n            allParentValues.add(opt.value);\n            collectParents(opt.children);\n          }\n        }\n      };\n      collectParents(options);\n      setExpandedNodes(allParentValues);\n    }\n  }, [options, isNested, collapsible]);\n\n  // Close on outside click\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target) &&\n        !triggerRef.current.contains(e.target)\n      ) {\n        setIsOpen(false);\n        setSearch('');\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  // Close on escape\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        setIsOpen(false);\n        setSearch('');\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen]);\n\n  const toggleExpanded = (optionValue, e) => {\n    e.stopPropagation();\n    setExpandedNodes(prev => {\n      const next = new Set(prev);\n      if (next.has(optionValue)) {\n        next.delete(optionValue);\n      } else {\n        next.add(optionValue);\n      }\n      return next;\n    });\n  };\n\n  const handleSelect = (optionValue) => {\n    if (multiple) {\n      const newValue = selectedValues.includes(optionValue)\n        ? selectedValues.filter(v => v !== optionValue)\n        : [...selectedValues, optionValue];\n      onChange?.(newValue);\n    } else {\n      onChange?.(optionValue);\n      setIsOpen(false);\n      setSearch('');\n    }\n  };\n\n  const getDisplayText = () => {\n    if (selectedValues.length === 0) return placeholder;\n\n    // Find labels from nested structure\n    const findLabels = (opts, values) => {\n      let labels = [];\n      for (const opt of opts) {\n        if (values.includes(opt.value)) {\n          labels.push(opt.label);\n        }\n        if (opt.children) {\n          labels = labels.concat(findLabels(opt.children, values));\n        }\n      }\n      return labels;\n    };\n\n    const selectedLabels = findLabels(options, selectedValues);\n\n    if (selectedLabels.length === 1) return selectedLabels[0];\n    return `${selectedLabels.length} selected`;\n  };\n\n  const hasError = typeof error === 'string' && error.length > 0;\n  const helperText = hasError ? error : supportingText;\n\n  // Check if an option or any of its ancestors is hidden due to collapsed parent\n  const isOptionVisible = (option, index) => {\n    if (!collapsible || option.depth === 0) return true;\n\n    // Find parent option\n    for (let i = index - 1; i >= 0; i--) {\n      const prevOption = flatOptions[i];\n      if (prevOption.depth < option.depth) {\n        // This is a potential parent\n        if (prevOption.hasChildren && !expandedNodes.has(prevOption.value)) {\n          return false;\n        }\n        if (prevOption.depth === 0) break;\n      }\n    }\n    return true;\n  };\n\n  // Render a single option\n  const renderOption = (option, index) => {\n    // Skip if parent is collapsed\n    if (collapsible && !isOptionVisible(option, index)) {\n      return null;\n    }\n\n    const isSelected = selectedValues.includes(option.value);\n    const isExpanded = expandedNodes.has(option.value);\n    const indent = option.depth * 24;\n\n    return (\n      <li key={option.value}>\n        <button\n          type=\"button\"\n          onClick={() => handleSelect(option.value)}\n          className={clsx(\n            'w-full flex items-center gap-3 px-3 py-2.5 rounded-lg',\n            'Blueprint-body-medium text-left',\n            'transition-colors duration-150',\n            isSelected\n              ? 'bg-schemesPrimaryContainer text-schemesOnPrimaryContainer'\n              : 'text-schemesOnSurface hover:bg-schemesSurfaceContainerHigh'\n          )}\n          style={{ paddingLeft: `${12 + indent}px` }}\n          role=\"option\"\n          aria-selected={isSelected}\n        >\n          {/* Expand/collapse button for parents */}\n          {collapsible && option.hasChildren ? (\n            <button\n              type=\"button\"\n              onClick={(e) => toggleExpanded(option.value, e)}\n              className=\"p-0.5 -ml-1 rounded hover:bg-schemesOutlineVariant/30\"\n              aria-label={isExpanded ? 'Collapse' : 'Expand'}\n            >\n              {isExpanded ? (\n                <CaretDown size={16} className=\"text-schemesOnSurfaceVariant\" />\n              ) : (\n                <CaretRight size={16} className=\"text-schemesOnSurfaceVariant\" />\n              )}\n            </button>\n          ) : (\n            option.depth > 0 && collapsible && (\n              <span className=\"w-5\" /> // Spacer for alignment\n            )\n          )}\n\n          {/* Checkbox/Radio indicator */}\n          <span\n            className={clsx(\n              'flex items-center justify-center w-5 h-5 shrink-0',\n              'border-2 transition-colors duration-150',\n              multiple ? 'rounded' : 'rounded-full',\n              isSelected\n                ? 'bg-schemesPrimary border-schemesPrimary'\n                : 'border-schemesOutline bg-transparent'\n            )}\n          >\n            {isSelected && (\n              multiple ? (\n                <Check size={14} weight=\"bold\" className=\"text-schemesOnPrimary\" />\n              ) : (\n                <span className=\"w-2 h-2 rounded-full bg-schemesOnPrimary\" />\n              )\n            )}\n          </span>\n\n          {/* Option content */}\n          <span className=\"flex-1 min-w-0 truncate\">\n            {option.label}\n          </span>\n\n          {/* Optional image */}\n          {option.image && (\n            <img\n              src={option.image}\n              alt=\"\"\n              className=\"w-6 h-6 rounded-full object-cover\"\n            />\n          )}\n        </button>\n      </li>\n    );\n  };\n\n  return (\n    <div className=\"relative flex flex-col gap-2\">\n      {/* Label */}\n      {label && (\n        <label className=\"Blueprint-label-medium text-schemesOnSurface\">\n          {label}\n        </label>\n      )}\n\n      {/* Trigger Button */}\n      <button\n        ref={triggerRef}\n        type=\"button\"\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        disabled={disabled}\n        className={clsx(\n          'w-full flex items-center justify-between gap-2',\n          'px-4 py-3 rounded-xl',\n          'Blueprint-body-medium text-left',\n          'border bg-schemesSurfaceContainerLow',\n          'transition-colors duration-150',\n          hasError\n            ? 'border-schemesError'\n            : 'border-schemesOutline hover:border-schemesOnSurfaceVariant focus:border-schemesPrimary',\n          disabled && 'opacity-50 cursor-not-allowed',\n          !disabled && 'cursor-pointer'\n        )}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n      >\n        <span className={clsx(\n          'truncate',\n          selectedValues.length === 0 && 'text-schemesOnSurfaceVariant'\n        )}>\n          {getDisplayText()}\n        </span>\n        <CaretDown\n          size={20}\n          className={clsx(\n            'text-schemesOnSurfaceVariant transition-transform duration-200 shrink-0',\n            isOpen && 'rotate-180'\n          )}\n        />\n      </button>\n\n      {/* Dropdown */}\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className=\"absolute top-full left-0 right-0 z-50 mt-1 bg-schemesSurface border border-schemesOutlineVariant rounded-xl shadow-lg overflow-hidden\"\n          role=\"listbox\"\n          aria-multiselectable={multiple}\n        >\n          {/* Search */}\n          {searchable && (\n            <div className=\"p-2 border-b border-schemesOutlineVariant\">\n              <div className=\"relative\">\n                <MagnifyingGlass\n                  size={18}\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                />\n                <input\n                  type=\"text\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  placeholder={searchPlaceholder}\n                  className=\"w-full pl-10 pr-4 py-2 Blueprint-body-medium bg-schemesSurfaceContainerHigh border border-schemesOutline rounded-lg text-schemesOnSurface placeholder:text-schemesOnSurfaceVariant focus:outline-none focus:ring-2 focus:ring-schemesPrimary focus:border-schemesPrimary\"\n                  autoFocus\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Options */}\n          <ul className=\"max-h-60 overflow-y-auto p-2\">\n            {flatOptions.length === 0 ? (\n              <li className=\"px-4 py-3 Blueprint-body-medium text-schemesOnSurfaceVariant text-center\">\n                No results found\n              </li>\n            ) : (\n              flatOptions.map((option, index) => renderOption(option, index))\n            )}\n          </ul>\n\n          {/* Footer actions */}\n          {multiple && selectedValues.length > 0 && (\n            <div className=\"p-2 border-t border-schemesOutlineVariant\">\n              <Button\n                label=\"Clear selection\"\n                variant=\"text\"\n                size=\"sm\"\n                className=\"w-full\"\n                onClick={() => {\n                  onChange?.([]);\n                  setIsOpen(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Helper/Error text */}\n      {helperText && (\n        <p\n          className={clsx(\n            'ml-4 Blueprint-body-small',\n            hasError ? 'text-schemesError' : 'text-schemesOnSurfaceVariant'\n          )}\n        >\n          {helperText}\n        </p>\n      )}\n    </div>\n  );\n}","import React, { useEffect, useId, useMemo, useRef, useState, useCallback } from \"react\";\nimport clsx from \"clsx\";\n\nexport default function ImageDropField({\n  label = \"Upload an Image\",\n  value = null,\n  onChange,\n  accept = \"image/*\",\n  required = false,\n  helpText = \"Landscape image (3:2 ratio, min 1200x800px, max 10MB). Best with no text overlays.\",\n  minW = 450,\n  minH = 300,\n  aspect = 3 / 2,\n  aspectTolerance = 0.3,\n  disabled = false,\n  error = \"\",\n}) {\n  const id = useId();\n  const inputRef = useRef(null);\n  const dragCounterRef = useRef(0);\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [internalError, setInternalError] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const finalError = error || internalError;\n  const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\n  const currentPreview = useMemo(() => {\n    if (preview) return preview;\n    if (typeof value === \"string\") return value;\n    return \"\";\n  }, [preview, value]);\n\n  // Cleanup preview URL on unmount or when preview changes\n  useEffect(() => {\n    return () => {\n      if (preview && preview.startsWith('blob:')) {\n        URL.revokeObjectURL(preview);\n      }\n    };\n  }, [preview]);\n\n  const validateFile = useCallback((f) => {\n    if (!f) return { valid: false, error: \"No file selected\" };\n\n    // File type validation\n    if (!f.type.startsWith('image/')) {\n      return { valid: false, error: \"Please select an image file\" };\n    }\n\n    // File size validation\n    if (f.size > MAX_FILE_SIZE) {\n      const sizeMB = (f.size / (1024 * 1024)).toFixed(1);\n      return {\n        valid: false,\n        error: `File too large (${sizeMB}MB). Maximum size is 10MB. Try compressing with TinyPNG.`\n      };\n    }\n\n    return { valid: true };\n  }, []);\n\n  const validateAndSet = useCallback((f) => {\n    if (!f) return;\n\n    setInternalError(\"\");\n    setIsProcessing(true);\n\n    const validation = validateFile(f);\n    if (!validation.valid) {\n      setInternalError(validation.error);\n      setIsProcessing(false);\n      return;\n    }\n\n    const url = URL.createObjectURL(f);\n    const img = new Image();\n\n    img.onload = () => {\n      // Optional: dimension validation\n      if (minW && img.width < minW) {\n        setInternalError(`Image width (${img.width}px) is below minimum (${minW}px)`);\n        URL.revokeObjectURL(url);\n        setIsProcessing(false);\n        return;\n      }\n\n      if (minH && img.height < minH) {\n        setInternalError(`Image height (${img.height}px) is below minimum (${minH}px)`);\n        URL.revokeObjectURL(url);\n        setIsProcessing(false);\n        return;\n      }\n\n      // Optional: aspect ratio validation\n      if (aspect && aspectTolerance) {\n        const fileAspect = img.width / img.height;\n        const aspectDiff = Math.abs(fileAspect - aspect);\n        if (aspectDiff > aspectTolerance) {\n          setInternalError(`Image aspect ratio (${fileAspect.toFixed(2)}) should be close to ${aspect.toFixed(2)} (${aspectTolerance})`);\n          URL.revokeObjectURL(url);\n          setIsProcessing(false);\n          return;\n        }\n      }\n\n      // Clean up old preview\n      if (preview && preview.startsWith('blob:')) {\n        URL.revokeObjectURL(preview);\n      }\n\n      setFile(f);\n      setPreview(url);\n      setIsProcessing(false);\n      onChange?.(f);\n    };\n\n    img.onerror = () => {\n      setInternalError(\"Invalid or corrupted image file\");\n      URL.revokeObjectURL(url);\n      setIsProcessing(false);\n    };\n\n    img.src = url;\n  }, [validateFile, minW, minH, aspect, aspectTolerance, preview, onChange]);\n\n  const clearFile = useCallback(() => {\n    if (preview && preview.startsWith('blob:')) {\n      URL.revokeObjectURL(preview);\n    }\n    setFile(null);\n    setPreview(\"\");\n    setInternalError(\"\");\n    onChange?.(null);\n    if (inputRef.current) {\n      inputRef.current.value = \"\";\n    }\n  }, [preview, onChange]);\n\n  const pick = useCallback(() => {\n    if (!disabled) {\n      inputRef.current?.click();\n    }\n  }, [disabled]);\n\n  // Fixed drag event handlers\n  const handleDragEnter = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled) return;\n\n    dragCounterRef.current++;\n\n    if (e.dataTransfer?.types?.includes('Files')) {\n      setIsDragOver(true);\n    }\n  }, [disabled]);\n\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled) return;\n\n    dragCounterRef.current--;\n\n    // Only hide drag state when we've left all nested elements\n    if (dragCounterRef.current <= 0) {\n      dragCounterRef.current = 0;\n      setIsDragOver(false);\n    }\n  }, [disabled]);\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled) return;\n\n    // Set the drop effect\n    e.dataTransfer.dropEffect = 'copy';\n  }, [disabled]);\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Reset drag state\n    dragCounterRef.current = 0;\n    setIsDragOver(false);\n\n    if (disabled) return;\n\n    const files = Array.from(e.dataTransfer.files);\n    const imageFile = files.find(file => file.type.startsWith('image/'));\n\n    if (imageFile) {\n      validateAndSet(imageFile);\n    } else if (files.length > 0) {\n      setInternalError(\"Please drop an image file\");\n    }\n  }, [disabled, validateAndSet]);\n\n  const handleFileInputChange = useCallback((e) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile) {\n      validateAndSet(selectedFile);\n    }\n  }, [validateAndSet]);\n\n  const handleKeyDown = useCallback((e) => {\n    if ((e.key === \"Enter\" || e.key === \" \") && !disabled) {\n      e.preventDefault();\n      pick();\n    }\n  }, [disabled, pick]);\n\n  const dropZoneClasses = clsx(\n    \"relative w-full rounded-xl border transition-all duration-200 ease-in-out\",\n    \"bg-schemesSurfaceContainerLow min-h-[260px] md:min-h-[300px]\",\n    \"flex items-center justify-center overflow-hidden\",\n    \"focus-within:outline-none focus-within:ring-2 focus-within:ring-schemesPrimary focus-within:ring-offset-2\",\n    {\n      // Normal state\n      \"border-schemesOutline cursor-pointer hover:bg-schemesSurfaceContainerHigh hover:border-schemesOutline\": !disabled && !isDragOver && !finalError,\n\n      // Drag over state\n      \"border-schemesPrimary bg-schemesPrimary/5 border-2 scale-[1.01] shadow-lg\": !disabled && isDragOver,\n\n      // Error state\n      \"border-schemesError bg-schemesError/5\": finalError,\n\n      // Disabled state\n      \"opacity-50 cursor-not-allowed bg-schemesOutlineVariant\": disabled,\n\n      // Processing state\n      \"pointer-events-none\": isProcessing,\n    }\n  );\n\n  return (\n    <div className=\"w-full\">\n      <div\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        aria-describedby={`${id}-hint`}\n        aria-label={`${label}${required ? ' (required)' : ''} drop zone`}\n        onClick={pick}\n        onKeyDown={handleKeyDown}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n        className={dropZoneClasses}\n      >\n        {/* Label overlay for empty state */}\n        {!currentPreview && !isProcessing && (\n          <span className=\"absolute top-3 left-3 px-3 py-1 rounded-md Blueprint-label-large bg-schemesPrimaryFixed text-schemesOnSurfaceVariant shadow-sm z-10\">\n            {label}{required ? \" *\" : \"\"}\n          </span>\n        )}\n\n        {/* Processing state */}\n        {isProcessing && (\n          <div className=\"px-6 text-center\">\n            <div className=\"mx-auto w-8 h-8 mb-4\">\n              <div className=\"w-full h-full border-3 border-schemesPrimary border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n            <div className=\"Blueprint-body-medium text-schemesOnSurface\">\n              Processing image...\n            </div>\n          </div>\n        )}\n\n        {/* Empty state */}\n        {!currentPreview && !isProcessing && (\n          <div className=\"px-6 text-center pointer-events-none\">\n            <div className=\"mx-auto w-12 h-12 mb-4 flex items-center justify-center rounded-full bg-schemesPrimaryContainer/20\">\n              <svg\n                className=\"w-6 h-6 text-schemesPrimary\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                />\n              </svg>\n            </div>\n\n            <div className=\"Blueprint-title-small-emphasized text-schemesOnSurface mb-2\">\n              {isDragOver ? 'Drop your image here' : 'Featured Image / Article Image'}\n            </div>\n            <div className=\"Blueprint-body-small text-schemesOnSurfaceVariant\">\n              {isDragOver ? 'Release to upload' : 'Click to select or drag & drop'}\n            </div>\n          </div>\n        )}\n\n        {/* Preview state */}\n        {currentPreview && !isProcessing && (\n          <>\n            <img\n              src={currentPreview}\n              alt=\"Preview\"\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n            <div className=\"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors duration-200\" />\n            <button\n              type=\"button\"\n              onClick={(e) => {\n                e.stopPropagation();\n                clearFile();\n              }}\n              disabled={disabled}\n              className=\"absolute top-3 right-3 bg-schemesError text-schemesOnError rounded-lg py-2 px-3 shadow-md hover:bg-schemesError/90 transition-colors focus:outline-none focus:ring-2 focus:ring-schemesError focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n              aria-label=\"Remove image\"\n            >\n              \n            </button>\n            {file && (\n              <div className=\"absolute bottom-3 left-3 bg-black/70 text-white px-3 py-1 rounded-md Blueprint-body-small\">\n                {file.name} ({(file.size / (1024 * 1024)).toFixed(1)}MB)\n              </div>\n            )}\n          </>\n        )}\n\n        <input\n          ref={inputRef}\n          id={id}\n          type=\"file\"\n          accept={accept}\n          required={required && !file && !value}\n          onChange={handleFileInputChange}\n          disabled={disabled}\n          className=\"sr-only\"\n        />\n      </div>\n\n      {/* Help text */}\n      <div id={`${id}-hint`} className=\"mt-2 Blueprint-body-small text-schemesOnSurfaceVariant\">\n        {helpText}\n      </div>\n\n      {/* Error display */}\n      {finalError && (\n        <div className=\"mt-1 Blueprint-body-small text-schemesError\" role=\"alert\">\n          {finalError}\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useCallback, useState, useRef, useEffect } from \"react\";\nimport {\n  TextBolderIcon,\n  TextItalicIcon,\n  TextAUnderlineIcon,\n  AlignLeftIcon,\n  AlignCenterHorizontalIcon,\n  AlignRightIcon,\n  LinkIcon,\n  ListIcon,\n  ListNumbersIcon,\n  QuotesIcon,\n  CodeIcon,\n  ImageSquareIcon,\n  XIcon,\n} from \"@phosphor-icons/react\";\nimport clsx from \"clsx\";\nimport { useEditor, EditorContent, NodeViewWrapper, ReactNodeViewRenderer } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport Underline from \"@tiptap/extension-underline\";\nimport Link from \"@tiptap/extension-link\";\nimport Image from \"@tiptap/extension-image\";\nimport TextAlign from \"@tiptap/extension-text-align\";\n\n// Improved ResizableImage component with proper drag handling\nconst ResizableImage = (props) => {\n  const { node, updateAttributes, deleteNode, selected } = props;\n  const { src, alt, width } = node.attrs;\n  const [isResizing, setIsResizing] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [startWidth, setStartWidth] = useState(0);\n  const imageRef = useRef(null);\n\n  const handleMouseDown = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const rect = imageRef.current?.getBoundingClientRect();\n    if (!rect) return;\n\n    setIsResizing(true);\n    setStartX(e.clientX);\n    setStartWidth(width || rect.width);\n\n    // Prevent text selection during resize\n    document.body.style.userSelect = 'none';\n    document.body.style.cursor = 'se-resize';\n  }, [width]);\n\n  const handleMouseMove = useCallback((e) => {\n    if (!isResizing) return;\n\n    e.preventDefault();\n    const deltaX = e.clientX - startX;\n    const newWidth = Math.max(60, Math.min(800, startWidth + deltaX));\n\n    updateAttributes({ width: newWidth });\n  }, [isResizing, startX, startWidth, updateAttributes]);\n\n  const handleMouseUp = useCallback(() => {\n    if (!isResizing) return;\n\n    setIsResizing(false);\n    document.body.style.userSelect = '';\n    document.body.style.cursor = '';\n  }, [isResizing]);\n\n  // Add global mouse event listeners during resize\n  useEffect(() => {\n    if (isResizing) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isResizing, handleMouseMove, handleMouseUp]);\n\n  return (\n    <NodeViewWrapper\n      className=\"relative inline-block group my-2\"\n      style={{ userSelect: isResizing ? 'none' : 'auto' }}\n    >\n      <img\n        ref={imageRef}\n        src={src}\n        alt={alt || \"Uploaded image\"}\n        style={{\n          width: width || \"auto\",\n          maxWidth: \"100%\",\n          height: \"auto\",\n          display: \"block\"\n        }}\n        className={clsx(\n          \"rounded-md transition-all duration-150\",\n          selected ? \"ring-2 ring-schemesPrimary shadow-lg\" : \"\",\n          isResizing ? \"transition-none\" : \"\"\n        )}\n        draggable={false}\n      />\n\n      {selected && (\n        <>\n          {/* Delete button */}\n          <button\n            type=\"button\"\n            className=\"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-schemesError text-schemesOnError shadow-md hover:bg-schemesError/90 transition-colors focus:outline-none focus:ring-2 focus:ring-schemesError focus:ring-offset-1\"\n            onClick={(e) => {\n              e.stopPropagation();\n              deleteNode?.();\n            }}\n            aria-label=\"Delete image\"\n          >\n            <XIcon size={14} className=\"mx-auto\" />\n          </button>\n\n          {/* Resize handle */}\n          <div\n            className={clsx(\n              \"absolute -bottom-2 -right-2 w-4 h-4 bg-schemesPrimaryContainer border-2 border-schemesPrimary rounded-sm shadow cursor-se-resize\",\n              \"hover:bg-schemesPrimary hover:scale-110 transition-all duration-150\",\n              isResizing ? \"bg-schemesPrimary scale-110\" : \"\"\n            )}\n            onMouseDown={handleMouseDown}\n            aria-label=\"Resize image\"\n            title=\"Drag to resize image\"\n          />\n\n          {/* Size indicator */}\n          {(width || imageRef.current) && (\n            <div className=\"absolute -bottom-8 left-0 bg-black/75 text-white px-2 py-1 rounded text-xs font-medium\">\n              {Math.round(width || imageRef.current?.getBoundingClientRect()?.width || 0)}px\n            </div>\n          )}\n        </>\n      )}\n    </NodeViewWrapper>\n  );\n};\n\nexport const RichTextField = ({\n  label = \"Content\",\n  value,\n  onChange,\n  onUpload,\n  required = false,\n  error = \"\",\n  disabled = false,\n}) => {\n  const [uploading, setUploading] = useState(false);\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        blockquote: true,\n        codeBlock: true,\n      }),\n      Underline,\n      Link.configure({\n        openOnClick: false,\n        HTMLAttributes: {\n          class: 'text-schemesPrimary underline hover:text-schemesPrimary/80'\n        }\n      }),\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      Image.extend({\n        addNodeView() {\n          return ReactNodeViewRenderer(ResizableImage);\n        },\n      }),\n    ],\n    content: value || \"\",\n    editable: !disabled,\n    onUpdate: ({ editor }) => {\n      onChange?.({ target: { value: editor.getHTML() } });\n    },\n  });\n\n  // Update content when value prop changes\n  useEffect(() => {\n    if (editor && value !== editor.getHTML()) {\n      editor.commands.setContent(value || \"\");\n    }\n  }, [editor, value]);\n\n  const exec = useCallback(\n    (command, attrs) => {\n      if (!editor || disabled) return;\n      editor.chain().focus()[command](attrs).run();\n    },\n    [editor, disabled]\n  );\n\n  const addLink = useCallback(() => {\n    if (!editor || disabled) return;\n\n    const previousUrl = editor.getAttributes('link').href;\n    let url = window.prompt(\"Enter URL (https://)\", previousUrl || \"\");\n\n    if (url === null) return;\n\n    if (url === \"\") {\n      editor.chain().focus().extendMarkRange('link').unsetLink().run();\n      return;\n    }\n\n    try {\n      if (!/^https?:\\/\\//i.test(url)) {\n        url = \"https://\" + url;\n      }\n      const urlObj = new URL(url);\n      if (!/^https?:$/.test(urlObj.protocol)) {\n        throw new Error(\"Invalid protocol\");\n      }\n      exec(\"setLink\", { href: urlObj.href });\n    } catch {\n      alert(\"Invalid URL. Please enter a valid web address.\");\n    }\n  }, [editor, disabled, exec]);\n\n  const insertImage = useCallback(async () => {\n    if (!editor || disabled) return;\n\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.multiple = false;\n\n    input.onchange = async (e) => {\n      const file = e.target.files?.[0];\n      if (!file) return;\n\n      // Validate file size (5MB limit for inline images)\n      const maxSize = 5 * 1024 * 1024;\n      if (file.size > maxSize) {\n        alert(`Image is too large (${(file.size / (1024 * 1024)).toFixed(1)}MB). Please use images smaller than 5MB.`);\n        return;\n      }\n\n      // Validate file type\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\n      if (!allowedTypes.includes(file.type)) {\n        alert('Please upload a JPEG, PNG, GIF, or WebP image.');\n        return;\n      }\n\n      setUploading(true);\n\n      try {\n        // Always store as data URL initially - will be converted to real URLs during submission\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const dataUrl = e.target.result;\n          editor.chain().focus().setImage({\n            src: dataUrl,\n            alt: file.name,\n            title: `Temporary image: ${file.name} (${(file.size / 1024).toFixed(1)}KB)`\n          }).run();\n          setUploading(false);\n        };\n        reader.onerror = () => {\n          setUploading(false);\n          alert(\"Failed to read image file. Please try again.\");\n        };\n        reader.readAsDataURL(file);\n      } catch (error) {\n        console.error(\"Image processing failed:\", error);\n        alert(\"Could not process image. Please try again.\");\n        setUploading(false);\n      }\n    };\n\n    input.click();\n  }, [editor, disabled]);\n\n  // Helper function to check if a format is active\n  const isActive = useCallback((format, attrs) => {\n    if (!editor) return false;\n    return editor.isActive(format, attrs);\n  }, [editor]);\n\n  const Btn = ({ title, onClick, children, disabled: btnDisabled, format, attrs }) => {\n    const active = format ? isActive(format, attrs) : false;\n\n    return (\n      <button\n        type=\"button\"\n        onMouseDown={(e) => e.preventDefault()}\n        onClick={onClick}\n        disabled={disabled || btnDisabled}\n        title={title}\n        className={clsx(\n          \"px-2 py-1.5 rounded-md border Blueprint-label-medium transition-all duration-150\",\n          \"focus:outline-none focus:ring-2 focus:ring-schemesPrimaryContainer\",\n          \"disabled:opacity-50 disabled:cursor-not-allowed\",\n          active\n            ? \"border-schemesPrimary bg-schemesPrimary text-schemesOnPrimary shadow-sm\"\n            : \"border-schemesOutlineVariant text-schemesOnSurfaceVariant hover:text-schemesOnSurface hover:bg-surfaceContainerHigh hover:border-schemesOutline\"\n        )}\n      >\n        {children}\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className={clsx(\n        \"relative w-full rounded-lg border bg-schemesSurfaceContainerLow transition-colors\",\n        error ? \"border-schemesError\" : \"border-schemesOutline\",\n        disabled ? \"opacity-60 cursor-not-allowed\" : \"\"\n      )}>\n        {/* Label */}\n        <span className=\"absolute left-4 -top-3 px-2 Blueprint-label-medium bg-schemesPrimaryFixed text-schemesOnSurfaceVariant rounded-sm shadow-sm\">\n          {label}\n          {required ? <span className=\"text-schemesError ml-1\">*</span> : \"\"}\n        </span>\n\n        {/* Toolbar */}\n        <div className=\"flex flex-wrap items-center gap-1 px-3 pt-6 pb-2 border-b border-schemesOutlineVariant\">\n          <Btn\n            title=\"Bold (Ctrl+B)\"\n            onClick={() => exec(\"toggleBold\")}\n            format=\"bold\"\n          >\n            <TextBolderIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Italic (Ctrl+I)\"\n            onClick={() => exec(\"toggleItalic\")}\n            format=\"italic\"\n          >\n            <TextItalicIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Underline (Ctrl+U)\"\n            onClick={() => exec(\"toggleUnderline\")}\n            format=\"underline\"\n          >\n            <TextAUnderlineIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Align left\"\n            onClick={() => exec(\"setTextAlign\", \"left\")}\n            format={{ textAlign: \"left\" }}\n          >\n            <AlignLeftIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Align center\"\n            onClick={() => exec(\"setTextAlign\", \"center\")}\n            format={{ textAlign: \"center\" }}\n          >\n            <AlignCenterHorizontalIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Align right\"\n            onClick={() => exec(\"setTextAlign\", \"right\")}\n            format={{ textAlign: \"right\" }}\n          >\n            <AlignRightIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Bulleted list\"\n            onClick={() => exec(\"toggleBulletList\")}\n            format=\"bulletList\"\n          >\n            <ListIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Numbered list\"\n            onClick={() => exec(\"toggleOrderedList\")}\n            format=\"orderedList\"\n          >\n            <ListNumbersIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Quote\"\n            onClick={() => exec(\"toggleBlockquote\")}\n            format=\"blockquote\"\n          >\n            <QuotesIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Code block\"\n            onClick={() => exec(\"toggleCodeBlock\")}\n            format=\"codeBlock\"\n          >\n            <CodeIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Insert/Edit link\"\n            onClick={addLink}\n            format=\"link\"\n          >\n            <LinkIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Insert image\"\n            onClick={insertImage}\n            disabled={uploading}\n          >\n            {uploading ? (\n              <div className=\"flex items-center gap-1\">\n                <div className=\"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin\" />\n                <span className=\"text-xs\">Uploading</span>\n              </div>\n            ) : (\n              <ImageSquareIcon size={18} />\n            )}\n          </Btn>\n        </div>\n\n        {/* Editor */}\n        <div\n          className={clsx(\n            \"cursor-text transition-colors\",\n            disabled ? \"cursor-not-allowed\" : \"\"\n          )}\n          onClick={() => !disabled && editor?.chain().focus().run()}\n        >\n          <EditorContent\n            editor={editor}\n            className={clsx(\n              \"tiptap min-h-[300px] px-4 py-3 outline-none Blueprint-body-medium text-schemesOnSurface\",\n              \"[&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-[280px]\",\n              \"[&_blockquote]:border-l-4 [&_blockquote]:border-schemesOutline [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-schemesOnSurfaceVariant\",\n              \"[&_pre]:bg-surfaceContainerHigh [&_pre]:p-4 [&_pre]:rounded [&_pre]:font-mono [&_pre]:text-sm [&_pre]:overflow-x-auto\",\n              \"[&_ul]:list-disc [&_ul]:list-inside [&_ul]:space-y-1\",\n              \"[&_ol]:list-decimal [&_ol]:list-inside [&_ol]:space-y-1\"\n            )}\n          />\n        </div>\n\n        {/* Placeholder */}\n        {editor && editor.isEmpty && (\n          <div className=\"absolute top-[76px] left-4 text-schemesOnSurfaceVariant Blueprint-body-medium pointer-events-none\">\n            Start writing your story...\n          </div>\n        )}\n      </div>\n\n      {error && (\n        <p className=\"mt-1 ml-1 Blueprint-body-small text-schemesError\" role=\"alert\">\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};","import React, { useId } from \"react\";\nimport clsx from \"clsx\";\n\nexport default function SelectField({ label = \"Select\", value = \"\", onChange, options = [], required = false }) {\n  const id = useId();\n  return (\n    <div className=\"relative w-full rounded-lg border border-schemesOutline bg-transparent focus-within:border-schemesPrimaryContainer\">\n      <label htmlFor={id} className=\"absolute left-4 -translate-y-1/2 px-1 Blueprint-label-medium bg-schemesPrimaryFixed rounded-sm\">\n        {label}{required ? \" *\" : \"\"}\n      </label>\n      <select\n        id={id}\n        value={value}\n        onChange={onChange}\n        required={required}\n        className={clsx(\"w-full py-3 pr-4 pl-3 bg-schemesSurfaceContainerLow rounded-lg outline-none Blueprint-body-medium text-schemesOnSurface\")}\n      >\n        <option value=\"\">Choose one</option>\n        {options.map(([id, name]) => <option key={id} value={id}>{name}</option>)}\n      </select>\n    </div>\n  );\n}\n","import React, { useMemo, useRef, useState } from \"react\";\nimport { TextField } from \"./TextField\";\nimport { RichTextField } from \"./RichTextField\";\nimport SelectField from \"./SelectField\";\nimport ImageDropField from \"./ImageDropField\";\nimport { Button } from \"./Button\";\nimport { DropdownSelect } from \"./DropdownSelect\";\n\nexport default function SubmitArticleForm({ restUrl, wpNonce, taxonomies = {} }) {\n  const [acf, setAcf] = useState({ title: \"\", subtitle: \"\", article_content: \"\" });\n  const [img, setImg] = useState(null);\n  const [topics, setTopics] = useState([]);\n  const [theme, setTheme] = useState(\"\");\n  const [audience, setAudience] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const [submitted, setSubmitted] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [uploadProgress, setUploadProgress] = useState(null);\n\n  const titleRef = useRef(null);\n  const contentRef = useRef(null);\n  const themeRef = useRef(null);\n\n  // Convert to DropdownSelect format: { value, label }\n  const topicOptions = useMemo(() =>\n    (taxonomies?.topic_tag || []).map(t => ({ value: t.id, label: t.name })),\n    [taxonomies]\n  );\n  const themeOptions = useMemo(() =>\n    (taxonomies?.theme || []).map(t => [t.id, t.name]),\n    [taxonomies]\n  );\n  const audienceOptions = useMemo(() =>\n    (taxonomies?.audience_tag || []).map(t => [t.id, t.name]),\n    [taxonomies]\n  );\n\n  const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n  const MAX_INLINE_IMAGE_SIZE = 5 * 1024 * 1024; // 5MB for inline images\n\n  const update = (k, v) => {\n    setAcf((s) => ({ ...s, [k]: v }));\n    setErrors((e) => ({ ...e, [k]: \"\" }));\n  };\n\n  const validateImageFile = (file) => {\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\n\n    if (!file) return { valid: true };\n\n    if (file.size > MAX_FILE_SIZE) {\n      return {\n        valid: false,\n        error: `Image is too large (${(file.size / (1024 * 1024)).toFixed(1)}MB). Maximum size is 10MB. Please compress your image or use a tool like TinyPNG.`\n      };\n    }\n\n    if (!allowedTypes.includes(file.type)) {\n      return {\n        valid: false,\n        error: 'Please upload a JPEG, PNG, GIF, or WebP image.'\n      };\n    }\n\n    return { valid: true };\n  };\n\n  const resizeImage = (file, maxWidth = 1920, maxHeight = 1280, quality = 0.9) => {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n\n      img.onload = () => {\n        try {\n          let { width, height } = img;\n\n          if (width > maxWidth || height > maxHeight) {\n            const aspectRatio = width / height;\n\n            if (width > height) {\n              width = Math.min(width, maxWidth);\n              height = width / aspectRatio;\n            } else {\n              height = Math.min(height, maxHeight);\n              width = height * aspectRatio;\n            }\n          }\n\n          canvas.width = width;\n          canvas.height = height;\n\n          ctx.imageSmoothingEnabled = true;\n          ctx.imageSmoothingQuality = 'high';\n\n          ctx.drawImage(img, 0, 0, width, height);\n\n          canvas.toBlob(\n            (blob) => {\n              if (!blob) {\n                reject(new Error('Failed to resize image'));\n                return;\n              }\n\n              const resizedFile = new File([blob], file.name, {\n                type: file.type,\n                lastModified: Date.now(),\n              });\n\n              resolve(resizedFile);\n            },\n            file.type,\n            quality\n          );\n        } catch (error) {\n          reject(new Error('Failed to process image: ' + error.message));\n        }\n      };\n\n      img.onerror = () => {\n        reject(new Error('Failed to load image for resizing'));\n      };\n\n      const objectUrl = URL.createObjectURL(file);\n      img.src = objectUrl;\n\n      setTimeout(() => URL.revokeObjectURL(objectUrl), 1000);\n    });\n  };\n\n  const processInlineImages = async (html) => {\n    const div = document.createElement(\"div\");\n    div.innerHTML = html;\n    const imgs = Array.from(div.querySelectorAll(\"img[src^='data:']\"));\n\n    let processedCount = 0;\n    const totalImages = imgs.length;\n\n    if (totalImages > 0) {\n      setUploadProgress({ current: 0, total: totalImages, status: 'Processing inline images...' });\n    }\n\n    for (const img of imgs) {\n      try {\n        const res = await fetch(img.src);\n        const blob = await res.blob();\n\n        if (blob.size > MAX_INLINE_IMAGE_SIZE) {\n          throw new Error(`Inline image is too large (${(blob.size / (1024 * 1024)).toFixed(1)}MB). Please use images smaller than 5MB.`);\n        }\n\n        const file = new File([blob], \"inline-image.png\", { type: blob.type });\n\n        const processedFile = blob.size > 1024 * 1024 ? await resizeImage(file, 1200, 800, 0.8) : file;\n\n        const url = await uploadInlineImage(processedFile);\n        img.src = url;\n\n        processedCount++;\n        setUploadProgress({ current: processedCount, total: totalImages, status: `Processed ${processedCount}/${totalImages} images` });\n      } catch (err) {\n        console.error(\"Inline image upload failed\", err);\n        throw new Error(`Failed to process inline image: ${err.message}`);\n      }\n    }\n\n    if (totalImages > 0) {\n      setUploadProgress(null);\n    }\n\n    return div.innerHTML;\n  };\n\n  const uploadInlineImage = async (file) => {\n    const fd = new FormData();\n    fd.append(\"file\", file, file.name);\n\n    const res = await fetch(\"/wp-json/wp/v2/media\", {\n      method: \"POST\",\n      headers: { \"X-WP-Nonce\": wpNonce },\n      body: fd,\n      credentials: \"include\",\n    });\n\n    const data = await res.json();\n\n    if (!res.ok) {\n      throw new Error(data?.message || `Upload failed (${res.status})`);\n    }\n\n    if (!data?.source_url) {\n      throw new Error(\"Upload succeeded but no URL returned\");\n    }\n\n    return data.source_url;\n  };\n\n  const stripHtml = (html) => {\n    const el = document.createElement(\"div\");\n    el.innerHTML = html || \"\";\n    return (el.textContent || el.innerText || \"\").replace(/\\u200B/g, \"\").trim();\n  };\n\n  const focusField = (ref) => {\n    const node = ref?.current?.querySelector('input, textarea, select, [contenteditable=\"true\"]');\n    if (node) {\n      node.focus({ preventScroll: true });\n      setTimeout(() => {\n        node.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      }, 100);\n    }\n  };\n\n  const validate = () => {\n    const nextErrors = {};\n\n    if (!acf.title.trim()) {\n      nextErrors.title = \"Please enter a title\";\n    }\n\n    if (!stripHtml(acf.article_content)) {\n      nextErrors.article_content = \"Please enter the article content\";\n    }\n\n    if (!theme) {\n      nextErrors.theme = \"Please choose a theme\";\n    }\n\n    if (img) {\n      const imageValidation = validateImageFile(img);\n      if (!imageValidation.valid) {\n        nextErrors.image = imageValidation.error;\n      }\n    }\n\n    setErrors(nextErrors);\n\n    if (Object.keys(nextErrors).length) {\n      const order = [\"title\", \"article_content\", \"theme\", \"image\"];\n      const first = order.find((k) => nextErrors[k]);\n\n      if (first === \"title\") focusField(titleRef);\n      else if (first === \"article_content\") focusField(contentRef);\n      else if (first === \"theme\") focusField(themeRef);\n\n      return false;\n    }\n\n    return true;\n  };\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setMsg(null);\n    setUploadProgress(null);\n\n    if (!validate()) return;\n\n    setBusy(true);\n\n    try {\n      setUploadProgress({ current: 0, total: 100, status: 'Preparing submission...' });\n\n      let processedContent = acf.article_content;\n      if (acf.article_content.includes('data:image/')) {\n        processedContent = await processInlineImages(acf.article_content);\n      }\n\n      setUploadProgress({ current: 50, total: 100, status: 'Processing main image...' });\n\n      let finalImage = img;\n      if (img && img.size > 2 * 1024 * 1024) {\n        try {\n          finalImage = await resizeImage(img);\n        } catch (resizeError) {\n          console.warn('Image resize failed, using original:', resizeError);\n          finalImage = img;\n        }\n      }\n\n      setUploadProgress({ current: 75, total: 100, status: 'Submitting article...' });\n\n      const fd = new FormData();\n      fd.append(\"website\", \"\");\n\n      Object.entries(acf).forEach(([k, v]) =>\n        fd.append(`acf[${k}]`, k === \"article_content\" ? processedContent : v)\n      );\n\n      topics.forEach((id) => fd.append(\"topic_tags[]\", String(id)));\n      if (theme) fd.append(\"theme\", String(theme));\n      if (audience) fd.append(\"audience_tag\", String(audience));\n\n      if (finalImage) fd.append(\"acf_files[article_image]\", finalImage);\n\n      const res = await fetch(restUrl, {\n        method: \"POST\",\n        headers: { \"X-WP-Nonce\": wpNonce },\n        body: fd,\n        credentials: \"include\",\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        const errorMessage = data?.message || `Submission failed (${res.status})`;\n        throw new Error(errorMessage);\n      }\n\n      if (!data?.ok) {\n        throw new Error(data?.message || \"Submission failed - please try again\");\n      }\n\n      setUploadProgress({ current: 100, total: 100, status: 'Success!' });\n      setTimeout(() => setSubmitted(true), 500);\n\n    } catch (err) {\n      console.error('Submission error:', err);\n      setMsg({\n        t: \"error\",\n        m: err.message || \"An unexpected error occurred. Please try again.\"\n      });\n      setUploadProgress(null);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  const handleImageChange = (file) => {\n    if (file) {\n      const validation = validateImageFile(file);\n      if (!validation.valid) {\n        setErrors((e) => ({ ...e, image: validation.error }));\n        return;\n      }\n    }\n    setImg(file);\n    setErrors((e) => ({ ...e, image: \"\" }));\n  };\n\n  if (submitted) {\n    return (\n      <div className=\"max-w-2xl mx-auto text-center space-y-4 py-8 md:py-16 min-h-[50vh]\">\n        <h1 className=\"Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large text-schemesOnSurface\">\n          Your article was successfully submitted\n        </h1>\n        <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant\">\n          Thank you for your submission! Your article is now pending review by our editorial team.\n        </p>\n        <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant\">\n          Go to <a href=\"/account-listings\" className=\"text-schemesPrimary underline hover:text-schemesPrimary/80 transition-colors\">Account Listings</a> to view your submissions.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-schemesSurface px-4 lg:px-0\">\n      <form onSubmit={submit} className=\"max-w-[1000px] grid grid-cols-1 gap-8 w-full py-8 md:py-16 mx-auto\" noValidate>\n        <div className=\"flex flex-col gap-3\">\n          <h1 className=\"Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large text-schemesOnSurface text-center italic\">\n            Submit your story\n          </h1>\n          <p className=\"Blueprint-body-small md:Blueprint-body-medium lg:Blueprint-body-large text-schemesOnSurfaceVariant text-center mb-4 max-w-xl mx-auto\">\n            We'd love to hear from you. Share your journey, reflections, or insights with the Melbourne Jewish community.\n            Please note: submissions are reviewed by our editorial team and not every story will be published.\n          </p>\n        </div>\n\n        {uploadProgress && (\n          <div className=\"bg-surfaceContainerHigh rounded-lg p-4 border border-schemesOutlineVariant\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"Blueprint-body-medium text-schemesOnSurface\">{uploadProgress.status}</span>\n              <span className=\"Blueprint-body-small text-schemesOnSurfaceVariant\">\n                {uploadProgress.current}/{uploadProgress.total}\n              </span>\n            </div>\n            <div className=\"w-full bg-schemesOutlineVariant rounded-full h-2\">\n              <div\n                className=\"bg-schemesPrimary h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${(uploadProgress.current / uploadProgress.total) * 100}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n        {msg && (\n          <div\n            role=\"alert\"\n            aria-live=\"assertive\"\n            className={`p-4 rounded-lg border ${msg.t === \"success\"\n              ? \"bg-stateSuccess/10 border-stateSuccess text-stateSuccess\"\n              : \"bg-stateError/10 border-stateError text-stateError\"\n              }`}\n          >\n            <div className=\"Blueprint-body-medium\">{msg.m}</div>\n          </div>\n        )}\n\n        <div ref={titleRef}>\n          <TextField\n            label=\"Story Title\"\n            required\n            value={acf.title}\n            onChange={(e) => update(\"title\", e.target.value)}\n            style=\"outlined\"\n            error={errors.title || \"\"}\n            disabled={busy}\n          />\n        </div>\n\n        <TextField\n          label=\"Subtitle / Short Introduction\"\n          value={acf.subtitle}\n          onChange={(e) => update(\"subtitle\", e.target.value)}\n          style=\"outlined\"\n          error=\"\"\n          disabled={busy}\n        />\n\n        <div ref={contentRef}>\n          <RichTextField\n            label=\"Your Story\"\n            required\n            value={acf.article_content}\n            onChange={(e) => update(\"article_content\", e.target.value)}\n            onUpload={uploadInlineImage}\n            error={errors.article_content || \"\"}\n            disabled={busy}\n          />\n          {errors.article_content && (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.article_content}</p>\n          )}\n        </div>\n\n        <div>\n          <ImageDropField\n            label=\"Upload an Image\"\n            value={null}\n            onChange={handleImageChange}\n            required={false}\n            helpText=\"Landscape image (3:2 ratio, min 1200x800px, max 10MB). Best with no text overlays. Large images will be automatically resized.\"\n            disabled={busy}\n          />\n          {errors.image && (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.image}</p>\n          )}\n          {img && (\n            <p className=\"Blueprint-body-small text-schemesOnSurfaceVariant mt-1\">\n              Selected: {img.name} ({(img.size / (1024 * 1024)).toFixed(1)}MB)\n            </p>\n          )}\n        </div>\n\n        <div ref={themeRef}>\n          <SelectField\n            label=\"Theme\"\n            required\n            value={theme}\n            onChange={(e) => {\n              setTheme(e.target.value);\n              setErrors((er) => ({ ...er, theme: \"\" }));\n            }}\n            options={themeOptions}\n            error={errors.theme || \"\"}\n            disabled={busy}\n          />\n          {errors.theme && (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.theme}</p>\n          )}\n        </div>\n\n        {/* Topics - Using DropdownSelect */}\n        <DropdownSelect\n          label=\"Topics\"\n          placeholder=\"Select topics...\"\n          multiple\n          searchable\n          searchPlaceholder=\"Search topics...\"\n          options={topicOptions}\n          value={topics}\n          onChange={setTopics}\n          disabled={busy}\n          supportingText=\"Select one or more topics that relate to your story\"\n        />\n\n        <SelectField\n          label=\"Audience\"\n          value={audience}\n          onChange={(e) => setAudience(e.target.value)}\n          options={audienceOptions}\n          error=\"\"\n          disabled={busy}\n        />\n\n        <Button\n          type=\"submit\"\n          label={busy ? \"Submitting...\" : \"Submit Story\"}\n          variant=\"filled\"\n          size=\"base\"\n          disabled={busy || Object.keys(errors).some(key => errors[key])}\n        />\n      </form>\n    </div>\n  );\n}","import React, { useId, useState } from 'react';\nimport clsx from 'clsx';\nimport { Eye, EyeClosed } from '@phosphor-icons/react';\n\nexport function TextField({\n  label = 'Label',\n  value = '',\n  onChange,\n  placeholder = '',\n  supportingText = '',\n  leadingIcon = null,\n  trailingIcon = null,\n  error = '',\n  disabled = false,\n  required = false,\n  style = 'outlined',\n  type = 'text',\n  multiline = false,\n  name,\n  id,\n}) {\n  const inputId = id || useId();\n  const msgId = `${inputId}-msg`;\n  const hasError = typeof error === 'string' && error.length > 0;\n  const helperText = hasError ? error : supportingText;\n\n  const [showPassword, setShowPassword] = useState(false);\n  const isPassword = type === 'password';\n  const inputType = isPassword ? (showPassword ? 'text' : 'password') : type;\n\n  const containerBase =\n    'relative w-full rounded-xl text-schemesOnSurface Blueprint-body-medium';\n\n  const variantMap = {\n    outlined:\n      'border border-schemesOutline bg-schemesSurfaceContainerLow hover:border-schemesOnSurfaceVariant ' +\n      'focus-within:border-schemesPrimaryContainer',\n    filled:\n      'bg-schemesSurfaceVariant hover:bg-schemesSurface focus-within:bg-schemesSurface',\n  };\n\n  const errorClasses = hasError\n    ? 'border-schemesError focus-within:border-schemesError'\n    : '';\n\n  const disabledClasses = disabled\n    ? 'opacity-50 pointer-events-none cursor-not-allowed'\n    : '';\n\n  const labelBase =\n    'absolute left-4 -translate-y-1/2 px-1 transition-all duration-150 leading-tight ' +\n    'Blueprint-label-medium pointer-events-none bg-schemesPrimaryFixed peer-focus:bg-schemesSurfaceContainerLow rounded-sm';\n\n  const inputBase =\n    'peer w-full py-3 pr-4 pl-3 bg-transparent outline-none ' +\n    'text-schemesOnSurface placeholder:opacity-0 disabled:bg-transparent';\n\n  const commonProps = {\n    id: inputId,\n    name,\n    value,\n    onChange,\n    placeholder: placeholder || label,\n    required,\n    disabled,\n    'aria-invalid': hasError ? 'true' : undefined,\n    'aria-describedby': helperText ? msgId : undefined,\n    className: clsx(\n      inputBase,\n      multiline && 'resize-none',\n      (isPassword || trailingIcon) && 'pr-12'\n    ),\n  };\n\n  const renderTrailingIcon = () => {\n    if (isPassword) {\n      return (\n        <button\n          type=\"button\"\n          onClick={() => setShowPassword((prev) => !prev)}\n          className=\"absolute right-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant hover:text-schemesOnSurface\"\n          tabIndex={-1}\n          aria-label={showPassword ? 'Hide password' : 'Show password'}\n        >\n          {showPassword ? <EyeClosed size={20} /> : <Eye size={20} />}\n        </button>\n      );\n    }\n\n    if (trailingIcon) {\n      return (\n        <button\n          type=\"button\"\n          className=\"absolute right-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant hover:text-schemesOnSurface\"\n          tabIndex={-1}\n        >\n          {trailingIcon}\n        </button>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <div\n        className={clsx(\n          containerBase,\n          variantMap[style],\n          errorClasses,\n          disabledClasses\n        )}\n      >\n        {leadingIcon && (\n          <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant pointer-events-none\">\n            {leadingIcon}\n          </span>\n        )}\n\n        {multiline ? (\n          <textarea {...commonProps} />\n        ) : (\n          <input type={inputType} {...commonProps} />\n        )}\n\n        <label htmlFor={inputId} className={labelBase}>\n          {label}\n        </label>\n\n        {renderTrailingIcon()}\n      </div>\n\n      {helperText ? (\n        <p\n          id={msgId}\n          className={clsx(\n            'ml-4 Blueprint-body-small',\n            hasError ? 'text-schemesError' : 'text-schemesOnSurfaceVariant'\n          )}\n        >\n          {helperText}\n        </p>\n      ) : null}\n    </div>\n  );\n}"],"names":["React","clsx","jsx","_jsx","jsxs","_jsxs","Button","className","label","size","variant","shape","icon","disabled","onClick","type","sizeStyles","xs","sm","base","lg","xl","rounded","square","pill","variantStyles","filled","tonal","outline","elevated","text","disabledStyles","baseCursor","children","useState","useRef","useEffect","useId","useMemo","CaretDown","CaretRight","MagnifyingGlass","Check","flattenOptions","options","depth","parentExpanded","result","option","push","hasChildren","Array","isArray","length","concat","filterOptionsRecursive","searchLower","reduce","acc","labelMatches","toLowerCase","includes","filteredChildren","_matches","getDescendantValues","values","child","value","findOptionByValue","found","DropdownSelect","onChange","multiple","searchable","searchPlaceholder","placeholder","error","supportingText","collapsible","isOpen","setIsOpen","search","setSearch","expandedNodes","setExpandedNodes","Set","dropdownRef","triggerRef","id","selectedValues","isNested","some","opt","filteredOptions","trim","flatOptions","allParentValues","collectParents","opts","add","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleEscape","key","toggleExpanded","optionValue","stopPropagation","prev","next","has","delete","handleSelect","newValue","filter","v","getDisplayText","findLabels","labels","selectedLabels","hasError","helperText","isOptionVisible","index","i","prevOption","renderOption","isSelected","isExpanded","indent","style","paddingLeft","role","weight","image","src","alt","ref","autoFocus","map","useCallback","Fragment","_Fragment","ImageDropField","accept","required","helpText","minW","minH","aspect","aspectTolerance","inputRef","dragCounterRef","file","setFile","preview","setPreview","isDragOver","setIsDragOver","internalError","setInternalError","isProcessing","setIsProcessing","finalError","MAX_FILE_SIZE","currentPreview","startsWith","URL","revokeObjectURL","validateFile","f","valid","sizeMB","toFixed","validateAndSet","validation","url","createObjectURL","img","Image","onload","width","height","fileAspect","aspectDiff","Math","abs","onerror","clearFile","pick","click","handleDragEnter","preventDefault","dataTransfer","types","handleDragLeave","handleDragOver","dropEffect","handleDrop","files","from","imageFile","find","handleFileInputChange","selectedFile","handleKeyDown","dropZoneClasses","tabIndex","onKeyDown","onDragEnter","onDragLeave","onDragOver","onDrop","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","draggable","name","TextBolderIcon","TextItalicIcon","TextAUnderlineIcon","AlignLeftIcon","AlignCenterHorizontalIcon","AlignRightIcon","LinkIcon","ListIcon","ListNumbersIcon","QuotesIcon","CodeIcon","ImageSquareIcon","XIcon","useEditor","EditorContent","NodeViewWrapper","ReactNodeViewRenderer","StarterKit","Underline","Link","TextAlign","ResizableImage","props","node","updateAttributes","deleteNode","selected","attrs","isResizing","setIsResizing","startX","setStartX","startWidth","setStartWidth","imageRef","handleMouseDown","rect","getBoundingClientRect","clientX","body","userSelect","cursor","handleMouseMove","deltaX","newWidth","max","min","handleMouseUp","maxWidth","display","onMouseDown","title","round","RichTextField","onUpload","uploading","setUploading","editor","extensions","configure","blockquote","codeBlock","openOnClick","HTMLAttributes","class","extend","addNodeView","content","editable","onUpdate","getHTML","commands","setContent","exec","command","chain","focus","run","addLink","previousUrl","getAttributes","href","window","prompt","extendMarkRange","unsetLink","test","urlObj","protocol","Error","alert","insertImage","input","createElement","onchange","maxSize","allowedTypes","reader","FileReader","dataUrl","setImage","readAsDataURL","console","isActive","format","Btn","btnDisabled","active","textAlign","isEmpty","SelectField","htmlFor","TextField","SubmitArticleForm","restUrl","wpNonce","taxonomies","acf","setAcf","subtitle","article_content","setImg","topics","setTopics","theme","setTheme","audience","setAudience","busy","setBusy","msg","setMsg","submitted","setSubmitted","errors","setErrors","uploadProgress","setUploadProgress","titleRef","contentRef","themeRef","topicOptions","topic_tag","t","themeOptions","audienceOptions","audience_tag","MAX_INLINE_IMAGE_SIZE","update","k","s","validateImageFile","resizeImage","maxHeight","quality","Promise","resolve","reject","canvas","ctx","getContext","aspectRatio","imageSmoothingEnabled","imageSmoothingQuality","drawImage","toBlob","blob","resizedFile","File","lastModified","Date","now","message","objectUrl","setTimeout","processInlineImages","html","div","innerHTML","imgs","querySelectorAll","processedCount","totalImages","total","status","res","fetch","processedFile","uploadInlineImage","err","fd","FormData","append","method","headers","credentials","data","json","ok","source_url","stripHtml","el","textContent","innerText","replace","focusField","querySelector","preventScroll","scrollIntoView","behavior","block","validate","nextErrors","imageValidation","Object","keys","order","first","submit","processedContent","finalImage","resizeError","warn","entries","forEach","String","errorMessage","m","handleImageChange","onSubmit","noValidate","er","Eye","EyeClosed","leadingIcon","trailingIcon","multiline","inputId","msgId","showPassword","setShowPassword","isPassword","inputType","containerBase","variantMap","outlined","errorClasses","disabledClasses","labelBase","inputBase","commonProps","undefined","renderTrailingIcon"],"sourceRoot":""}