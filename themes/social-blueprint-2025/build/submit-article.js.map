{"version":3,"file":"submit-article.js?ver=9f3f3efb3e37c2e899b7","mappings":"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","sources":["webpack://brads-boilerplate-theme/./src/scripts/Button.js","webpack://brads-boilerplate-theme/./src/scripts/ImageDropField.js","webpack://brads-boilerplate-theme/./src/scripts/RichTextField.js","webpack://brads-boilerplate-theme/./src/scripts/SelectField.js","webpack://brads-boilerplate-theme/./src/scripts/SubmitArticlePage.js","webpack://brads-boilerplate-theme/./src/scripts/TextField.js"],"sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\n\nexport function Button({\n  className = '',\n  label,\n  size = 'base',\n  variant = 'filled',\n  shape = 'square',\n  icon,\n  disabled = false,\n  onClick = () => { },\n  type = 'button',\n}) {\n  const sizeStyles = {\n    xs: 'px-3 py-1.5 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    sm: 'px-4 py-2 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    base: 'px-4 py-2.5 Blueprint-title-small md:Blueprint-title-medium lg:Blueprint-title-large',\n    lg: 'px-4 py-4 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n    xl: 'px-8 py-6 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n  }[size];\n\n  const rounded = {\n    square: { xs: 'rounded-xl', sm: 'rounded-xl', base: 'rounded-[16px]', lg: 'rounded-[16px]', xl: 'rounded-[28px]' },\n    pill: { xs: 'rounded-[100px]', sm: 'rounded-[100px]', base: 'rounded-[100px]', lg: 'rounded-[100px]', xl: 'rounded-[100px]' },\n  };\n\n  const variantStyles = {\n    filled: 'bg-[var(--schemesPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesPrimary40)]',\n    tonal: 'bg-[var(--schemesPrimaryFixed)] text-[var(--schemesOnPrimaryFixedVariant)] hover:bg-[var(--schemesPrimaryFixedDim)]',\n    outline: 'border border-[var(--schemesOnPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesOnPrimary40)]',\n    elevated: 'bg-[var(--schemesSurfaceContainerHigh)] text-[var(--schemesPrimary)] shadow-3x3 hover:bg-[var(--stateLayersSurfaceContainerHighOpacity08)]',\n    text: 'bg-transparent text-[var(--schemesPrimary)] hover:bg-[var(--palettesPrimary60)]',\n  }[variant];\n\n  // cursor + disabled handling\n  const disabledStyles = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\n  const baseCursor = disabled ? '' : 'cursor-pointer';\n\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      aria-disabled={disabled}\n      className={clsx(\n        'inline-flex items-center justify-center gap-2 transition-colors duration-150',\n        baseCursor,            // pointer on hover for enabled buttons\n        sizeStyles,\n        rounded[shape][size],\n        variantStyles,\n        disabledStyles,        // overrides cursor when disabled\n        className\n      )}\n    >\n      {icon && <span className=\"shrink-0\">{icon}</span>}\n      <span className=\"Blueprint-label-large\">{label}</span>\n    </button>\n  );\n}\n","import React, { useEffect, useId, useMemo, useRef, useState, useCallback } from \"react\";\nimport clsx from \"clsx\";\n\nexport default function ImageDropField({\n  label = \"Upload an Image\",\n  value = null,\n  onChange,\n  accept = \"image/*\",\n  required = false,\n  helpText = \"Landscape image (3:2 ratio, min 1200x800px, max 10MB). Best with no text overlays.\",\n  minW = 450,\n  minH = 300,\n  aspect = 3 / 2,\n  aspectTolerance = 0.3,\n  disabled = false,\n  error = \"\",\n}) {\n  const id = useId();\n  const inputRef = useRef(null);\n  const dragCounterRef = useRef(0);\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [internalError, setInternalError] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const finalError = error || internalError;\n  const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n\n  const currentPreview = useMemo(() => {\n    if (preview) return preview;\n    if (typeof value === \"string\") return value;\n    return \"\";\n  }, [preview, value]);\n\n  // Cleanup preview URL on unmount or when preview changes\n  useEffect(() => {\n    return () => {\n      if (preview && preview.startsWith('blob:')) {\n        URL.revokeObjectURL(preview);\n      }\n    };\n  }, [preview]);\n\n  const validateFile = useCallback((f) => {\n    if (!f) return { valid: false, error: \"No file selected\" };\n\n    // File type validation\n    if (!f.type.startsWith('image/')) {\n      return { valid: false, error: \"Please select an image file\" };\n    }\n\n    // File size validation\n    if (f.size > MAX_FILE_SIZE) {\n      const sizeMB = (f.size / (1024 * 1024)).toFixed(1);\n      return {\n        valid: false,\n        error: `File too large (${sizeMB}MB). Maximum size is 10MB. Try compressing with TinyPNG.`\n      };\n    }\n\n    return { valid: true };\n  }, []);\n\n  const validateAndSet = useCallback((f) => {\n    if (!f) return;\n\n    setInternalError(\"\");\n    setIsProcessing(true);\n\n    const validation = validateFile(f);\n    if (!validation.valid) {\n      setInternalError(validation.error);\n      setIsProcessing(false);\n      return;\n    }\n\n    const url = URL.createObjectURL(f);\n    const img = new Image();\n\n    img.onload = () => {\n      // Optional: dimension validation\n      if (minW && img.width < minW) {\n        setInternalError(`Image width (${img.width}px) is below minimum (${minW}px)`);\n        URL.revokeObjectURL(url);\n        setIsProcessing(false);\n        return;\n      }\n\n      if (minH && img.height < minH) {\n        setInternalError(`Image height (${img.height}px) is below minimum (${minH}px)`);\n        URL.revokeObjectURL(url);\n        setIsProcessing(false);\n        return;\n      }\n\n      // Optional: aspect ratio validation\n      if (aspect && aspectTolerance) {\n        const fileAspect = img.width / img.height;\n        const aspectDiff = Math.abs(fileAspect - aspect);\n        if (aspectDiff > aspectTolerance) {\n          setInternalError(`Image aspect ratio (${fileAspect.toFixed(2)}) should be close to ${aspect.toFixed(2)} (Â±${aspectTolerance})`);\n          URL.revokeObjectURL(url);\n          setIsProcessing(false);\n          return;\n        }\n      }\n\n      // Clean up old preview\n      if (preview && preview.startsWith('blob:')) {\n        URL.revokeObjectURL(preview);\n      }\n\n      setFile(f);\n      setPreview(url);\n      setIsProcessing(false);\n      onChange?.(f);\n    };\n\n    img.onerror = () => {\n      setInternalError(\"Invalid or corrupted image file\");\n      URL.revokeObjectURL(url);\n      setIsProcessing(false);\n    };\n\n    img.src = url;\n  }, [validateFile, minW, minH, aspect, aspectTolerance, preview, onChange]);\n\n  const clearFile = useCallback(() => {\n    if (preview && preview.startsWith('blob:')) {\n      URL.revokeObjectURL(preview);\n    }\n    setFile(null);\n    setPreview(\"\");\n    setInternalError(\"\");\n    onChange?.(null);\n    if (inputRef.current) {\n      inputRef.current.value = \"\";\n    }\n  }, [preview, onChange]);\n\n  const pick = useCallback(() => {\n    if (!disabled) {\n      inputRef.current?.click();\n    }\n  }, [disabled]);\n\n  // Fixed drag event handlers\n  const handleDragEnter = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled) return;\n\n    dragCounterRef.current++;\n\n    if (e.dataTransfer?.types?.includes('Files')) {\n      setIsDragOver(true);\n    }\n  }, [disabled]);\n\n  const handleDragLeave = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled) return;\n\n    dragCounterRef.current--;\n\n    // Only hide drag state when we've left all nested elements\n    if (dragCounterRef.current <= 0) {\n      dragCounterRef.current = 0;\n      setIsDragOver(false);\n    }\n  }, [disabled]);\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disabled) return;\n\n    // Set the drop effect\n    e.dataTransfer.dropEffect = 'copy';\n  }, [disabled]);\n\n  const handleDrop = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // Reset drag state\n    dragCounterRef.current = 0;\n    setIsDragOver(false);\n\n    if (disabled) return;\n\n    const files = Array.from(e.dataTransfer.files);\n    const imageFile = files.find(file => file.type.startsWith('image/'));\n\n    if (imageFile) {\n      validateAndSet(imageFile);\n    } else if (files.length > 0) {\n      setInternalError(\"Please drop an image file\");\n    }\n  }, [disabled, validateAndSet]);\n\n  const handleFileInputChange = useCallback((e) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile) {\n      validateAndSet(selectedFile);\n    }\n  }, [validateAndSet]);\n\n  const handleKeyDown = useCallback((e) => {\n    if ((e.key === \"Enter\" || e.key === \" \") && !disabled) {\n      e.preventDefault();\n      pick();\n    }\n  }, [disabled, pick]);\n\n  const dropZoneClasses = clsx(\n    \"relative w-full rounded-xl border transition-all duration-200 ease-in-out\",\n    \"bg-schemesSurfaceContainerLow min-h-[260px] md:min-h-[300px]\",\n    \"flex items-center justify-center overflow-hidden\",\n    \"focus-within:outline-none focus-within:ring-2 focus-within:ring-schemesPrimary focus-within:ring-offset-2\",\n    {\n      // Normal state\n      \"border-schemesOutline cursor-pointer hover:bg-schemesSurfaceContainerHigh hover:border-schemesOutline\": !disabled && !isDragOver && !finalError,\n\n      // Drag over state\n      \"border-schemesPrimary bg-schemesPrimary/5 border-2 scale-[1.01] shadow-lg\": !disabled && isDragOver,\n\n      // Error state\n      \"border-schemesError bg-schemesError/5\": finalError,\n\n      // Disabled state\n      \"opacity-50 cursor-not-allowed bg-schemesOutlineVariant\": disabled,\n\n      // Processing state\n      \"pointer-events-none\": isProcessing,\n    }\n  );\n\n  return (\n    <div className=\"w-full\">\n      <div\n        role=\"button\"\n        tabIndex={disabled ? -1 : 0}\n        aria-describedby={`${id}-hint`}\n        aria-label={`${label}${required ? ' (required)' : ''} drop zone`}\n        onClick={pick}\n        onKeyDown={handleKeyDown}\n        onDragEnter={handleDragEnter}\n        onDragLeave={handleDragLeave}\n        onDragOver={handleDragOver}\n        onDrop={handleDrop}\n        className={dropZoneClasses}\n      >\n        {/* Label overlay for empty state */}\n        {!currentPreview && !isProcessing && (\n          <span className=\"absolute top-3 left-3 px-3 py-1 rounded-md Blueprint-label-large bg-schemesPrimaryFixed text-schemesOnSurfaceVariant shadow-sm z-10\">\n            {label}{required ? \" *\" : \"\"}\n          </span>\n        )}\n\n        {/* Processing state */}\n        {isProcessing && (\n          <div className=\"px-6 text-center\">\n            <div className=\"mx-auto w-8 h-8 mb-4\">\n              <div className=\"w-full h-full border-3 border-schemesPrimary border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n            <div className=\"Blueprint-body-medium text-schemesOnSurface\">\n              Processing image...\n            </div>\n          </div>\n        )}\n\n        {/* Empty state */}\n        {!currentPreview && !isProcessing && (\n          <div className=\"px-6 text-center pointer-events-none\">\n            <div className=\"mx-auto w-12 h-12 mb-4 flex items-center justify-center rounded-full bg-schemesPrimaryContainer/20\">\n              <svg\n                className=\"w-6 h-6 text-schemesPrimary\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\n                />\n              </svg>\n            </div>\n\n            <div className=\"Blueprint-title-small-emphasized text-schemesOnSurface mb-2\">\n              {isDragOver ? 'Drop your image here' : 'Featured Image / Article Image'}\n            </div>\n            <div className=\"Blueprint-body-small text-schemesOnSurfaceVariant\">\n              {isDragOver ? 'Release to upload' : 'Click to select or drag & drop'}\n            </div>\n          </div>\n        )}\n\n        {/* Preview state */}\n        {currentPreview && !isProcessing && (\n          <>\n            <img\n              src={currentPreview}\n              alt=\"Preview\"\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n            <div className=\"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors duration-200\" />\n            <button\n              type=\"button\"\n              onClick={(e) => {\n                e.stopPropagation();\n                clearFile();\n              }}\n              disabled={disabled}\n              className=\"absolute top-3 right-3 bg-schemesError text-schemesOnError rounded-lg py-2 px-3 shadow-md hover:bg-schemesError/90 transition-colors focus:outline-none focus:ring-2 focus:ring-schemesError focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n              aria-label=\"Remove image\"\n            >\n              â\n            </button>\n            {file && (\n              <div className=\"absolute bottom-3 left-3 bg-black/70 text-white px-3 py-1 rounded-md Blueprint-body-small\">\n                {file.name} ({(file.size / (1024 * 1024)).toFixed(1)}MB)\n              </div>\n            )}\n          </>\n        )}\n\n        <input\n          ref={inputRef}\n          id={id}\n          type=\"file\"\n          accept={accept}\n          required={required && !file && !value}\n          onChange={handleFileInputChange}\n          disabled={disabled}\n          className=\"sr-only\"\n        />\n      </div>\n\n      {/* Help text */}\n      <div id={`${id}-hint`} className=\"mt-2 Blueprint-body-small text-schemesOnSurfaceVariant\">\n        {helpText}\n      </div>\n\n      {/* Error display */}\n      {finalError && (\n        <div className=\"mt-1 Blueprint-body-small text-schemesError\" role=\"alert\">\n          {finalError}\n        </div>\n      )}\n    </div>\n  );\n}","import React, { useCallback, useState, useRef, useEffect } from \"react\";\nimport {\n  TextBolderIcon,\n  TextItalicIcon,\n  TextAUnderlineIcon,\n  AlignLeftIcon,\n  AlignCenterHorizontalIcon,\n  AlignRightIcon,\n  LinkIcon,\n  ListIcon,\n  ListNumbersIcon,\n  QuotesIcon,\n  CodeIcon,\n  ImageSquareIcon,\n  XIcon,\n} from \"@phosphor-icons/react\";\nimport clsx from \"clsx\";\nimport { useEditor, EditorContent, NodeViewWrapper, ReactNodeViewRenderer } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport Underline from \"@tiptap/extension-underline\";\nimport Link from \"@tiptap/extension-link\";\nimport Image from \"@tiptap/extension-image\";\nimport TextAlign from \"@tiptap/extension-text-align\";\n\n// Improved ResizableImage component with proper drag handling\nconst ResizableImage = (props) => {\n  const { node, updateAttributes, deleteNode, selected } = props;\n  const { src, alt, width } = node.attrs;\n  const [isResizing, setIsResizing] = useState(false);\n  const [startX, setStartX] = useState(0);\n  const [startWidth, setStartWidth] = useState(0);\n  const imageRef = useRef(null);\n\n  const handleMouseDown = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const rect = imageRef.current?.getBoundingClientRect();\n    if (!rect) return;\n\n    setIsResizing(true);\n    setStartX(e.clientX);\n    setStartWidth(width || rect.width);\n\n    // Prevent text selection during resize\n    document.body.style.userSelect = 'none';\n    document.body.style.cursor = 'se-resize';\n  }, [width]);\n\n  const handleMouseMove = useCallback((e) => {\n    if (!isResizing) return;\n\n    e.preventDefault();\n    const deltaX = e.clientX - startX;\n    const newWidth = Math.max(60, Math.min(800, startWidth + deltaX));\n\n    updateAttributes({ width: newWidth });\n  }, [isResizing, startX, startWidth, updateAttributes]);\n\n  const handleMouseUp = useCallback(() => {\n    if (!isResizing) return;\n\n    setIsResizing(false);\n    document.body.style.userSelect = '';\n    document.body.style.cursor = '';\n  }, [isResizing]);\n\n  // Add global mouse event listeners during resize\n  useEffect(() => {\n    if (isResizing) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isResizing, handleMouseMove, handleMouseUp]);\n\n  return (\n    <NodeViewWrapper\n      className=\"relative inline-block group my-2\"\n      style={{ userSelect: isResizing ? 'none' : 'auto' }}\n    >\n      <img\n        ref={imageRef}\n        src={src}\n        alt={alt || \"Uploaded image\"}\n        style={{\n          width: width || \"auto\",\n          maxWidth: \"100%\",\n          height: \"auto\",\n          display: \"block\"\n        }}\n        className={clsx(\n          \"rounded-md transition-all duration-150\",\n          selected ? \"ring-2 ring-schemesPrimary shadow-lg\" : \"\",\n          isResizing ? \"transition-none\" : \"\"\n        )}\n        draggable={false}\n      />\n\n      {selected && (\n        <>\n          {/* Delete button */}\n          <button\n            type=\"button\"\n            className=\"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-schemesError text-schemesOnError shadow-md hover:bg-schemesError/90 transition-colors focus:outline-none focus:ring-2 focus:ring-schemesError focus:ring-offset-1\"\n            onClick={(e) => {\n              e.stopPropagation();\n              deleteNode?.();\n            }}\n            aria-label=\"Delete image\"\n          >\n            <XIcon size={14} className=\"mx-auto\" />\n          </button>\n\n          {/* Resize handle */}\n          <div\n            className={clsx(\n              \"absolute -bottom-2 -right-2 w-4 h-4 bg-schemesPrimaryContainer border-2 border-schemesPrimary rounded-sm shadow cursor-se-resize\",\n              \"hover:bg-schemesPrimary hover:scale-110 transition-all duration-150\",\n              isResizing ? \"bg-schemesPrimary scale-110\" : \"\"\n            )}\n            onMouseDown={handleMouseDown}\n            aria-label=\"Resize image\"\n            title=\"Drag to resize image\"\n          />\n\n          {/* Size indicator */}\n          {(width || imageRef.current) && (\n            <div className=\"absolute -bottom-8 left-0 bg-black/75 text-white px-2 py-1 rounded text-xs font-medium\">\n              {Math.round(width || imageRef.current?.getBoundingClientRect()?.width || 0)}px\n            </div>\n          )}\n        </>\n      )}\n    </NodeViewWrapper>\n  );\n};\n\nexport const RichTextField = ({\n  label = \"Content\",\n  value,\n  onChange,\n  onUpload,\n  required = false,\n  error = \"\",\n  disabled = false,\n}) => {\n  const [uploading, setUploading] = useState(false);\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        blockquote: true,\n        codeBlock: true,\n      }),\n      Underline,\n      Link.configure({\n        openOnClick: false,\n        HTMLAttributes: {\n          class: 'text-schemesPrimary underline hover:text-schemesPrimary/80'\n        }\n      }),\n      TextAlign.configure({\n        types: ['heading', 'paragraph'],\n      }),\n      Image.extend({\n        addNodeView() {\n          return ReactNodeViewRenderer(ResizableImage);\n        },\n      }),\n    ],\n    content: value || \"\",\n    editable: !disabled,\n    onUpdate: ({ editor }) => {\n      onChange?.({ target: { value: editor.getHTML() } });\n    },\n  });\n\n  // Update content when value prop changes\n  useEffect(() => {\n    if (editor && value !== editor.getHTML()) {\n      editor.commands.setContent(value || \"\");\n    }\n  }, [editor, value]);\n\n  const exec = useCallback(\n    (command, attrs) => {\n      if (!editor || disabled) return;\n      editor.chain().focus()[command](attrs).run();\n    },\n    [editor, disabled]\n  );\n\n  const addLink = useCallback(() => {\n    if (!editor || disabled) return;\n\n    const previousUrl = editor.getAttributes('link').href;\n    let url = window.prompt(\"Enter URL (https://â¦)\", previousUrl || \"\");\n\n    if (url === null) return;\n\n    if (url === \"\") {\n      editor.chain().focus().extendMarkRange('link').unsetLink().run();\n      return;\n    }\n\n    try {\n      if (!/^https?:\\/\\//i.test(url)) {\n        url = \"https://\" + url;\n      }\n      const urlObj = new URL(url);\n      if (!/^https?:$/.test(urlObj.protocol)) {\n        throw new Error(\"Invalid protocol\");\n      }\n      exec(\"setLink\", { href: urlObj.href });\n    } catch {\n      alert(\"Invalid URL. Please enter a valid web address.\");\n    }\n  }, [editor, disabled, exec]);\n\n  const insertImage = useCallback(async () => {\n    if (!editor || disabled) return;\n\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = \"image/*\";\n    input.multiple = false;\n\n    input.onchange = async (e) => {\n      const file = e.target.files?.[0];\n      if (!file) return;\n\n      // Validate file size (5MB limit for inline images)\n      const maxSize = 5 * 1024 * 1024;\n      if (file.size > maxSize) {\n        alert(`Image is too large (${(file.size / (1024 * 1024)).toFixed(1)}MB). Please use images smaller than 5MB.`);\n        return;\n      }\n\n      // Validate file type\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\n      if (!allowedTypes.includes(file.type)) {\n        alert('Please upload a JPEG, PNG, GIF, or WebP image.');\n        return;\n      }\n\n      setUploading(true);\n\n      try {\n        // Always store as data URL initially - will be converted to real URLs during submission\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          const dataUrl = e.target.result;\n          editor.chain().focus().setImage({\n            src: dataUrl,\n            alt: file.name,\n            title: `Temporary image: ${file.name} (${(file.size / 1024).toFixed(1)}KB)`\n          }).run();\n          setUploading(false);\n        };\n        reader.onerror = () => {\n          setUploading(false);\n          alert(\"Failed to read image file. Please try again.\");\n        };\n        reader.readAsDataURL(file);\n      } catch (error) {\n        console.error(\"Image processing failed:\", error);\n        alert(\"Could not process image. Please try again.\");\n        setUploading(false);\n      }\n    };\n\n    input.click();\n  }, [editor, disabled]);\n\n  // Helper function to check if a format is active\n  const isActive = useCallback((format, attrs) => {\n    if (!editor) return false;\n    return editor.isActive(format, attrs);\n  }, [editor]);\n\n  const Btn = ({ title, onClick, children, disabled: btnDisabled, format, attrs }) => {\n    const active = format ? isActive(format, attrs) : false;\n\n    return (\n      <button\n        type=\"button\"\n        onMouseDown={(e) => e.preventDefault()}\n        onClick={onClick}\n        disabled={disabled || btnDisabled}\n        title={title}\n        className={clsx(\n          \"px-2 py-1.5 rounded-md border Blueprint-label-medium transition-all duration-150\",\n          \"focus:outline-none focus:ring-2 focus:ring-schemesPrimaryContainer\",\n          \"disabled:opacity-50 disabled:cursor-not-allowed\",\n          active\n            ? \"border-schemesPrimary bg-schemesPrimary text-schemesOnPrimary shadow-sm\"\n            : \"border-schemesOutlineVariant text-schemesOnSurfaceVariant hover:text-schemesOnSurface hover:bg-surfaceContainerHigh hover:border-schemesOutline\"\n        )}\n      >\n        {children}\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div className={clsx(\n        \"relative w-full rounded-lg border bg-schemesSurfaceContainerLow transition-colors\",\n        error ? \"border-schemesError\" : \"border-schemesOutline\",\n        disabled ? \"opacity-60 cursor-not-allowed\" : \"\"\n      )}>\n        {/* Label */}\n        <span className=\"absolute left-4 -top-3 px-2 Blueprint-label-medium bg-schemesPrimaryFixed text-schemesOnSurfaceVariant rounded-sm shadow-sm\">\n          {label}\n          {required ? <span className=\"text-schemesError ml-1\">*</span> : \"\"}\n        </span>\n\n        {/* Toolbar */}\n        <div className=\"flex flex-wrap items-center gap-1 px-3 pt-6 pb-2 border-b border-schemesOutlineVariant\">\n          <Btn\n            title=\"Bold (Ctrl+B)\"\n            onClick={() => exec(\"toggleBold\")}\n            format=\"bold\"\n          >\n            <TextBolderIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Italic (Ctrl+I)\"\n            onClick={() => exec(\"toggleItalic\")}\n            format=\"italic\"\n          >\n            <TextItalicIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Underline (Ctrl+U)\"\n            onClick={() => exec(\"toggleUnderline\")}\n            format=\"underline\"\n          >\n            <TextAUnderlineIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Align left\"\n            onClick={() => exec(\"setTextAlign\", \"left\")}\n            format={{ textAlign: \"left\" }}\n          >\n            <AlignLeftIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Align center\"\n            onClick={() => exec(\"setTextAlign\", \"center\")}\n            format={{ textAlign: \"center\" }}\n          >\n            <AlignCenterHorizontalIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Align right\"\n            onClick={() => exec(\"setTextAlign\", \"right\")}\n            format={{ textAlign: \"right\" }}\n          >\n            <AlignRightIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Bulleted list\"\n            onClick={() => exec(\"toggleBulletList\")}\n            format=\"bulletList\"\n          >\n            <ListIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Numbered list\"\n            onClick={() => exec(\"toggleOrderedList\")}\n            format=\"orderedList\"\n          >\n            <ListNumbersIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Quote\"\n            onClick={() => exec(\"toggleBlockquote\")}\n            format=\"blockquote\"\n          >\n            <QuotesIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Code block\"\n            onClick={() => exec(\"toggleCodeBlock\")}\n            format=\"codeBlock\"\n          >\n            <CodeIcon size={18} />\n          </Btn>\n          <Btn\n            title=\"Insert/Edit link\"\n            onClick={addLink}\n            format=\"link\"\n          >\n            <LinkIcon size={18} />\n          </Btn>\n\n          <div className=\"w-px h-6 bg-schemesOutlineVariant mx-1\" />\n\n          <Btn\n            title=\"Insert image\"\n            onClick={insertImage}\n            disabled={uploading}\n          >\n            {uploading ? (\n              <div className=\"flex items-center gap-1\">\n                <div className=\"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin\" />\n                <span className=\"text-xs\">Uploading</span>\n              </div>\n            ) : (\n              <ImageSquareIcon size={18} />\n            )}\n          </Btn>\n        </div>\n\n        {/* Editor */}\n        <div\n          className={clsx(\n            \"cursor-text transition-colors\",\n            disabled ? \"cursor-not-allowed\" : \"\"\n          )}\n          onClick={() => !disabled && editor?.chain().focus().run()}\n        >\n          <EditorContent\n            editor={editor}\n            className={clsx(\n              \"tiptap min-h-[300px] px-4 py-3 outline-none Blueprint-body-medium text-schemesOnSurface\",\n              \"[&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-[280px]\",\n              \"[&_blockquote]:border-l-4 [&_blockquote]:border-schemesOutline [&_blockquote]:pl-4 [&_blockquote]:italic [&_blockquote]:text-schemesOnSurfaceVariant\",\n              \"[&_pre]:bg-surfaceContainerHigh [&_pre]:p-4 [&_pre]:rounded [&_pre]:font-mono [&_pre]:text-sm [&_pre]:overflow-x-auto\",\n              \"[&_ul]:list-disc [&_ul]:list-inside [&_ul]:space-y-1\",\n              \"[&_ol]:list-decimal [&_ol]:list-inside [&_ol]:space-y-1\"\n            )}\n          />\n        </div>\n\n        {/* Placeholder */}\n        {editor && editor.isEmpty && (\n          <div className=\"absolute top-[76px] left-4 text-schemesOnSurfaceVariant Blueprint-body-medium pointer-events-none\">\n            Start writing your story...\n          </div>\n        )}\n      </div>\n\n      {error && (\n        <p className=\"mt-1 ml-1 Blueprint-body-small text-schemesError\" role=\"alert\">\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};","import React, { useId } from \"react\";\nimport clsx from \"clsx\";\n\nexport default function SelectField({ label = \"Select\", value = \"\", onChange, options = [], required = false }) {\n  const id = useId();\n  return (\n    <div className=\"relative w-full rounded-lg border border-schemesOutline bg-transparent focus-within:border-schemesPrimaryContainer\">\n      <label htmlFor={id} className=\"absolute left-4 -translate-y-1/2 px-1 Blueprint-label-medium bg-schemesPrimaryFixed rounded-sm\">\n        {label}{required ? \" *\" : \"\"}\n      </label>\n      <select\n        id={id}\n        value={value}\n        onChange={onChange}\n        required={required}\n        className={clsx(\"w-full py-3 pr-4 pl-3 bg-schemesSurfaceContainerLow rounded-lg outline-none Blueprint-body-medium text-schemesOnSurface\")}\n      >\n        <option value=\"\">Choose one</option>\n        {options.map(([id, name]) => <option key={id} value={id}>{name}</option>)}\n      </select>\n    </div>\n  );\n}\n","import React, { useMemo, useRef, useState } from \"react\";\nimport { TextField } from \"./TextField\";\nimport { RichTextField } from \"./RichTextField\";\nimport SelectField from \"./SelectField\";\nimport ImageDropField from \"./ImageDropField\";\nimport { Button } from \"./Button\";\n\nexport default function SubmitArticleForm({ restUrl, wpNonce, taxonomies = {} }) {\n  const [acf, setAcf] = useState({ title: \"\", subtitle: \"\", article_content: \"\" });\n  const [img, setImg] = useState(null);\n  const [topics, setTopics] = useState([]);\n  const [theme, setTheme] = useState(\"\");\n  const [audience, setAudience] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const [submitted, setSubmitted] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [uploadProgress, setUploadProgress] = useState(null);\n\n  const titleRef = useRef(null);\n  const contentRef = useRef(null);\n  const themeRef = useRef(null);\n\n  const topicOptions = useMemo(() => Object.entries(taxonomies?.topic_tag || {}), [taxonomies]);\n  const themeOptions = useMemo(() => Object.entries(taxonomies?.theme || {}), [taxonomies]);\n  const audienceOptions = useMemo(() => Object.entries(taxonomies?.audience_tag || {}), [taxonomies]);\n\n  const MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\n  const MAX_INLINE_IMAGE_SIZE = 5 * 1024 * 1024; // 5MB for inline images\n\n  const update = (k, v) => {\n    setAcf((s) => ({ ...s, [k]: v }));\n    setErrors((e) => ({ ...e, [k]: \"\" }));\n  };\n\n  const validateImageFile = (file) => {\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\n\n    if (!file) return { valid: true };\n\n    if (file.size > MAX_FILE_SIZE) {\n      return {\n        valid: false,\n        error: `Image is too large (${(file.size / (1024 * 1024)).toFixed(1)}MB). Maximum size is 10MB. Please compress your image or use a tool like TinyPNG.`\n      };\n    }\n\n    if (!allowedTypes.includes(file.type)) {\n      return {\n        valid: false,\n        error: 'Please upload a JPEG, PNG, GIF, or WebP image.'\n      };\n    }\n\n    return { valid: true };\n  };\n\n  const resizeImage = (file, maxWidth = 1920, maxHeight = 1280, quality = 0.9) => {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n\n      img.onload = () => {\n        try {\n          let { width, height } = img;\n\n          // Calculate new dimensions while maintaining aspect ratio\n          if (width > maxWidth || height > maxHeight) {\n            const aspectRatio = width / height;\n\n            if (width > height) {\n              width = Math.min(width, maxWidth);\n              height = width / aspectRatio;\n            } else {\n              height = Math.min(height, maxHeight);\n              width = height * aspectRatio;\n            }\n          }\n\n          // Set canvas size\n          canvas.width = width;\n          canvas.height = height;\n\n          // Enable image smoothing for better quality\n          ctx.imageSmoothingEnabled = true;\n          ctx.imageSmoothingQuality = 'high';\n\n          // Draw and compress\n          ctx.drawImage(img, 0, 0, width, height);\n\n          canvas.toBlob(\n            (blob) => {\n              if (!blob) {\n                reject(new Error('Failed to resize image'));\n                return;\n              }\n\n              // Create a new file with the original name but resized content\n              const resizedFile = new File([blob], file.name, {\n                type: file.type,\n                lastModified: Date.now(),\n              });\n\n              resolve(resizedFile);\n            },\n            file.type,\n            quality\n          );\n        } catch (error) {\n          reject(new Error('Failed to process image: ' + error.message));\n        }\n      };\n\n      img.onerror = () => {\n        reject(new Error('Failed to load image for resizing'));\n      };\n\n      // Create object URL and set as image source\n      const objectUrl = URL.createObjectURL(file);\n      img.src = objectUrl;\n\n      // Clean up object URL after a delay to ensure image loads\n      setTimeout(() => URL.revokeObjectURL(objectUrl), 1000);\n    });\n  };\n\n  const processInlineImages = async (html) => {\n    const div = document.createElement(\"div\");\n    div.innerHTML = html;\n    const imgs = Array.from(div.querySelectorAll(\"img[src^='data:']\"));\n\n    let processedCount = 0;\n    const totalImages = imgs.length;\n\n    if (totalImages > 0) {\n      setUploadProgress({ current: 0, total: totalImages, status: 'Processing inline images...' });\n    }\n\n    for (const img of imgs) {\n      try {\n        const res = await fetch(img.src);\n        const blob = await res.blob();\n\n        // Check inline image size\n        if (blob.size > MAX_INLINE_IMAGE_SIZE) {\n          throw new Error(`Inline image is too large (${(blob.size / (1024 * 1024)).toFixed(1)}MB). Please use images smaller than 5MB.`);\n        }\n\n        const file = new File([blob], \"inline-image.png\", { type: blob.type });\n\n        // Resize inline image if it's too large\n        const processedFile = blob.size > 1024 * 1024 ? await resizeImage(file, 1200, 800, 0.8) : file;\n\n        const url = await uploadInlineImage(processedFile);\n        img.src = url;\n\n        processedCount++;\n        setUploadProgress({ current: processedCount, total: totalImages, status: `Processed ${processedCount}/${totalImages} images` });\n      } catch (err) {\n        console.error(\"Inline image upload failed\", err);\n        throw new Error(`Failed to process inline image: ${err.message}`);\n      }\n    }\n\n    if (totalImages > 0) {\n      setUploadProgress(null);\n    }\n\n    return div.innerHTML;\n  };\n\n  const uploadInlineImage = async (file) => {\n    const fd = new FormData();\n    fd.append(\"file\", file, file.name);\n\n    const res = await fetch(\"/wp-json/wp/v2/media\", {\n      method: \"POST\",\n      headers: { \"X-WP-Nonce\": wpNonce },\n      body: fd,\n      credentials: \"include\",\n    });\n\n    const data = await res.json();\n\n    if (!res.ok) {\n      throw new Error(data?.message || `Upload failed (${res.status})`);\n    }\n\n    if (!data?.source_url) {\n      throw new Error(\"Upload succeeded but no URL returned\");\n    }\n\n    return data.source_url;\n  };\n\n  const stripHtml = (html) => {\n    const el = document.createElement(\"div\");\n    el.innerHTML = html || \"\";\n    return (el.textContent || el.innerText || \"\").replace(/\\u200B/g, \"\").trim();\n  };\n\n  const focusField = (ref) => {\n    const node = ref?.current?.querySelector('input, textarea, select, [contenteditable=\"true\"]');\n    if (node) {\n      node.focus({ preventScroll: true });\n      setTimeout(() => {\n        node.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      }, 100);\n    }\n  };\n\n  const validate = () => {\n    const nextErrors = {};\n\n    if (!acf.title.trim()) {\n      nextErrors.title = \"Please enter a title\";\n    }\n\n    if (!stripHtml(acf.article_content)) {\n      nextErrors.article_content = \"Please enter the article content\";\n    }\n\n    if (!theme) {\n      nextErrors.theme = \"Please choose a theme\";\n    }\n\n    // Validate image if present\n    if (img) {\n      const imageValidation = validateImageFile(img);\n      if (!imageValidation.valid) {\n        nextErrors.image = imageValidation.error;\n      }\n    }\n\n    setErrors(nextErrors);\n\n    if (Object.keys(nextErrors).length) {\n      const order = [\"title\", \"article_content\", \"theme\", \"image\"];\n      const first = order.find((k) => nextErrors[k]);\n\n      if (first === \"title\") focusField(titleRef);\n      else if (first === \"article_content\") focusField(contentRef);\n      else if (first === \"theme\") focusField(themeRef);\n\n      return false;\n    }\n\n    return true;\n  };\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setMsg(null);\n    setUploadProgress(null);\n\n    if (!validate()) return;\n\n    setBusy(true);\n\n    try {\n      setUploadProgress({ current: 0, total: 100, status: 'Preparing submission...' });\n\n      // Process inline images first\n      let processedContent = acf.article_content;\n      if (acf.article_content.includes('data:image/')) {\n        processedContent = await processInlineImages(acf.article_content);\n      }\n\n      setUploadProgress({ current: 50, total: 100, status: 'Processing main image...' });\n\n      // Process main image if needed\n      let finalImage = img;\n      if (img && img.size > 2 * 1024 * 1024) { // Resize if larger than 2MB\n        try {\n          finalImage = await resizeImage(img);\n        } catch (resizeError) {\n          console.warn('Image resize failed, using original:', resizeError);\n          finalImage = img; // Fall back to original if resize fails\n        }\n      }\n\n      setUploadProgress({ current: 75, total: 100, status: 'Submitting article...' });\n\n      const fd = new FormData();\n      fd.append(\"website\", \"\"); // Honeypot\n\n      // Add ACF data\n      Object.entries(acf).forEach(([k, v]) =>\n        fd.append(`acf[${k}]`, k === \"article_content\" ? processedContent : v)\n      );\n\n      // Add taxonomies\n      topics.forEach((id) => fd.append(\"topic_tags[]\", String(id)));\n      if (theme) fd.append(\"theme\", String(theme));\n      if (audience) fd.append(\"audience_tag\", String(audience));\n\n      // Add image\n      if (finalImage) fd.append(\"acf_files[article_image]\", finalImage);\n\n      const res = await fetch(restUrl, {\n        method: \"POST\",\n        headers: { \"X-WP-Nonce\": wpNonce },\n        body: fd,\n        credentials: \"include\",\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        const errorMessage = data?.message || `Submission failed (${res.status})`;\n        throw new Error(errorMessage);\n      }\n\n      if (!data?.ok) {\n        throw new Error(data?.message || \"Submission failed - please try again\");\n      }\n\n      setUploadProgress({ current: 100, total: 100, status: 'Success!' });\n      setTimeout(() => setSubmitted(true), 500);\n\n    } catch (err) {\n      console.error('Submission error:', err);\n      setMsg({\n        t: \"error\",\n        m: err.message || \"An unexpected error occurred. Please try again.\"\n      });\n      setUploadProgress(null);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  const handleImageChange = (file) => {\n    if (file) {\n      const validation = validateImageFile(file);\n      if (!validation.valid) {\n        setErrors((e) => ({ ...e, image: validation.error }));\n        return;\n      }\n    }\n    setImg(file);\n    setErrors((e) => ({ ...e, image: \"\" }));\n  };\n\n  if (submitted) {\n    return (\n      <div className=\"max-w-2xl mx-auto text-center space-y-4 py-8 md:py-16 min-h-[50vh]\">\n        <h1 className=\"Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large text-schemesOnSurface\">\n          Your article was successfully submitted\n        </h1>\n        <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant\">\n          Thank you for your submission! Your article is now pending review by our editorial team.\n        </p>\n        <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant\">\n          Go to <a href=\"/account-listings\" className=\"text-schemesPrimary underline hover:text-schemesPrimary/80 transition-colors\">Account Listings</a> to view your submissions.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-schemesSurface px-4 lg:px-0\">\n      <form onSubmit={submit} className=\"max-w-[1000px] grid grid-cols-1 gap-8 w-full py-8 md:py-16 mx-auto\" noValidate>\n        <div className=\"flex flex-col gap-3\">\n          <h1 className=\"Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large text-schemesOnSurface text-center italic\">\n            Submit your story\n          </h1>\n          <p className=\"Blueprint-body-small md:Blueprint-body-medium lg:Blueprint-body-large text-schemesOnSurfaceVariant text-center mb-4 max-w-xl mx-auto\">\n            We'd love to hear from you. Share your journey, reflections, or insights with the Melbourne Jewish community.\n            Please note: submissions are reviewed by our editorial team and not every story will be published.\n          </p>\n        </div>\n\n        {/* Progress indicator */}\n        {uploadProgress && (\n          <div className=\"bg-surfaceContainerHigh rounded-lg p-4 border border-schemesOutlineVariant\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"Blueprint-body-medium text-schemesOnSurface\">{uploadProgress.status}</span>\n              <span className=\"Blueprint-body-small text-schemesOnSurfaceVariant\">\n                {uploadProgress.current}/{uploadProgress.total}\n              </span>\n            </div>\n            <div className=\"w-full bg-schemesOutlineVariant rounded-full h-2\">\n              <div\n                className=\"bg-schemesPrimary h-2 rounded-full transition-all duration-300\"\n                style={{ width: `${(uploadProgress.current / uploadProgress.total) * 100}%` }}\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Error/Success Messages */}\n        {msg && (\n          <div\n            role=\"alert\"\n            aria-live=\"assertive\"\n            className={`p-4 rounded-lg border ${msg.t === \"success\"\n                ? \"bg-stateSuccess/10 border-stateSuccess text-stateSuccess\"\n                : \"bg-stateError/10 border-stateError text-stateError\"\n              }`}\n          >\n            <div className=\"Blueprint-body-medium\">{msg.m}</div>\n          </div>\n        )}\n\n        {/* Title */}\n        <div ref={titleRef}>\n          <TextField\n            label=\"Story Title\"\n            required\n            value={acf.title}\n            onChange={(e) => update(\"title\", e.target.value)}\n            style=\"outlined\"\n            error={errors.title || \"\"}\n            disabled={busy}\n          />\n        </div>\n\n        {/* Subtitle (optional) */}\n        <TextField\n          label=\"Subtitle / Short Introduction\"\n          value={acf.subtitle}\n          onChange={(e) => update(\"subtitle\", e.target.value)}\n          style=\"outlined\"\n          error=\"\"\n          disabled={busy}\n        />\n\n        {/* Content */}\n        <div ref={contentRef}>\n          <RichTextField\n            label=\"Your Story\"\n            required\n            value={acf.article_content}\n            onChange={(e) => update(\"article_content\", e.target.value)}\n            onUpload={uploadInlineImage}\n            error={errors.article_content || \"\"}\n            disabled={busy}\n          />\n          {errors.article_content && (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.article_content}</p>\n          )}\n        </div>\n\n        {/* Featured image (optional) */}\n        <div>\n          <ImageDropField\n            label=\"Upload an Image\"\n            value={null}\n            onChange={handleImageChange}\n            required={false}\n            helpText=\"Landscape image (3:2 ratio, min 1200x800px, max 10MB). Best with no text overlays. Large images will be automatically resized.\"\n            disabled={busy}\n          />\n          {errors.image && (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.image}</p>\n          )}\n          {img && (\n            <p className=\"Blueprint-body-small text-schemesOnSurfaceVariant mt-1\">\n              Selected: {img.name} ({(img.size / (1024 * 1024)).toFixed(1)}MB)\n            </p>\n          )}\n        </div>\n\n        {/* Theme */}\n        <div ref={themeRef}>\n          <SelectField\n            label=\"Theme\"\n            required\n            value={theme}\n            onChange={(e) => {\n              setTheme(e.target.value);\n              setErrors((er) => ({ ...er, theme: \"\" }));\n            }}\n            options={themeOptions}\n            error={errors.theme || \"\"}\n            disabled={busy}\n          />\n          {errors.theme && (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.theme}</p>\n          )}\n        </div>\n\n        {/* Topics */}\n        <div className=\"flex flex-col gap-2\">\n          <label className=\"Blueprint-label-large text-schemesOnSurface\">Topics</label>\n          <div className=\"flex flex-wrap gap-2\">\n            {topicOptions.map(([id, name]) => {\n              const checked = topics.includes(Number(id));\n              return (\n                <label\n                  key={id}\n                  className={`flex items-center gap-2 bg-surfaceContainerHigh border border-schemesOutlineVariant rounded-lg px-3 py-2 cursor-pointer select-none transition-colors ${busy ? 'opacity-50 cursor-not-allowed' : 'hover:bg-surfaceContainerHighest'\n                    }`}\n                >\n                  <input\n                    type=\"checkbox\"\n                    checked={checked}\n                    disabled={busy}\n                    onChange={() => {\n                      if (busy) return;\n                      setTopics((prev) =>\n                        checked\n                          ? prev.filter((x) => x !== Number(id))\n                          : [...prev, Number(id)]\n                      );\n                    }}\n                  />\n                  <span className=\"Blueprint-body-medium text-schemesOnSurface\">{name}</span>\n                </label>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Audience (optional) */}\n        <SelectField\n          label=\"Audience\"\n          value={audience}\n          onChange={(e) => setAudience(e.target.value)}\n          options={audienceOptions}\n          error=\"\"\n          disabled={busy}\n        />\n\n        <Button\n          type=\"submit\"\n          label={busy ? \"Submitting...\" : \"Submit Story\"}\n          variant=\"filled\"\n          size=\"base\"\n          disabled={busy || Object.keys(errors).some(key => errors[key])}\n        />\n      </form>\n    </div>\n  );\n}","import React, { useId } from 'react';\nimport clsx from 'clsx';\n\nexport function TextField({\n  label = 'Label',\n  value = '',\n  onChange,\n  placeholder = '',\n  supportingText = '',\n  leadingIcon = null,\n  trailingIcon = null,\n  error = '',\n  disabled = false,\n  required = false,\n  style = 'outlined',\n  type = 'text',\n  multiline = false,\n  name,\n  id,\n}) {\n  const inputId = id || useId();\n  const msgId = `${inputId}-msg`;\n  const hasError = typeof error === 'string' && error.length > 0;\n  const helperText = hasError ? error : supportingText;\n\n  const containerBase =\n    'relative w-full rounded-xl text-schemesOnSurface Blueprint-body-medium';\n\n  const variantMap = {\n    outlined:\n      'border border-schemesOutline bg-schemesSurfaceContainerLow hover:border-schemesOnSurfaceVariant ' +\n      'focus-within:border-schemesPrimaryContainer',\n    filled:\n      'bg-schemesSurfaceVariant hover:bg-schemesSurface focus-within:bg-schemesSurface',\n  };\n\n  const errorClasses = hasError\n    ? 'border-schemesError focus-within:border-schemesError'\n    : '';\n\n  const disabledClasses = disabled\n    ? 'opacity-50 pointer-events-none cursor-not-allowed'\n    : '';\n\n  const labelBase =\n    'absolute left-4 -translate-y-1/2 px-1 transition-all duration-150 leading-tight ' +\n    'Blueprint-label-medium pointer-events-none bg-schemesPrimaryFixed peer-focus:bg-schemesSurfaceContainerLow rounded-sm';\n\n  const inputBase =\n    'peer w-full py-3 pr-4 pl-3 bg-transparent outline-none ' +\n    'text-schemesOnSurface placeholder:opacity-0 disabled:bg-transparent';\n\n  const commonProps = {\n    id: inputId,\n    name,\n    value,\n    onChange,\n    placeholder: placeholder || label,\n    required,\n    disabled,\n    'aria-invalid': hasError ? 'true' : undefined,\n    'aria-describedby': helperText ? msgId : undefined,\n    className: multiline\n      ? clsx(inputBase, 'resize-none h-32')\n      : inputBase,\n  };\n\n  return (\n    <>\n      <div\n        className={clsx(\n          containerBase,\n          variantMap[style],\n          errorClasses,\n          disabledClasses\n        )}\n      >\n        {leadingIcon && (\n          <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant pointer-events-none\">\n            {leadingIcon}\n          </span>\n        )}\n\n        {multiline ? (\n          <textarea {...commonProps} />\n        ) : (\n          <input type={type} {...commonProps} />\n        )}\n\n        <label htmlFor={inputId} className={labelBase}>\n          {label}\n        </label>\n\n        {trailingIcon && (\n          <button\n            type=\"button\"\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant hover:text-schemesOnSurface\"\n            tabIndex={-1}\n          >\n            {trailingIcon}\n          </button>\n        )}\n      </div>\n\n      {helperText ? (\n        <p\n          id={msgId}\n          className={clsx(\n            'mt-1 ml-4 Blueprint-body-small',\n            hasError ? 'text-schemesError' : 'text-schemesOnSurfaceVariant'\n          )}\n        >\n          {helperText}\n        </p>\n      ) : null}\n    </>\n  );\n}\n"],"names":["React","clsx","jsx","_jsx","jsxs","_jsxs","Button","className","label","size","variant","shape","icon","disabled","onClick","type","sizeStyles","xs","sm","base","lg","xl","rounded","square","pill","variantStyles","filled","tonal","outline","elevated","text","disabledStyles","baseCursor","children","useEffect","useId","useMemo","useRef","useState","useCallback","Fragment","_Fragment","ImageDropField","value","onChange","accept","required","helpText","minW","minH","aspect","aspectTolerance","error","id","inputRef","dragCounterRef","file","setFile","preview","setPreview","isDragOver","setIsDragOver","internalError","setInternalError","isProcessing","setIsProcessing","finalError","MAX_FILE_SIZE","currentPreview","startsWith","URL","revokeObjectURL","validateFile","f","valid","sizeMB","toFixed","validateAndSet","validation","url","createObjectURL","img","Image","onload","width","height","fileAspect","aspectDiff","Math","abs","onerror","src","clearFile","current","pick","click","handleDragEnter","e","preventDefault","stopPropagation","dataTransfer","types","includes","handleDragLeave","handleDragOver","dropEffect","handleDrop","files","Array","from","imageFile","find","length","handleFileInputChange","selectedFile","target","handleKeyDown","key","dropZoneClasses","role","tabIndex","onKeyDown","onDragEnter","onDragLeave","onDragOver","onDrop","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","alt","draggable","name","ref","TextBolderIcon","TextItalicIcon","TextAUnderlineIcon","AlignLeftIcon","AlignCenterHorizontalIcon","AlignRightIcon","LinkIcon","ListIcon","ListNumbersIcon","QuotesIcon","CodeIcon","ImageSquareIcon","XIcon","useEditor","EditorContent","NodeViewWrapper","ReactNodeViewRenderer","StarterKit","Underline","Link","TextAlign","ResizableImage","props","node","updateAttributes","deleteNode","selected","attrs","isResizing","setIsResizing","startX","setStartX","startWidth","setStartWidth","imageRef","handleMouseDown","rect","getBoundingClientRect","clientX","document","body","style","userSelect","cursor","handleMouseMove","deltaX","newWidth","max","min","handleMouseUp","addEventListener","removeEventListener","maxWidth","display","onMouseDown","title","round","RichTextField","onUpload","uploading","setUploading","editor","extensions","configure","blockquote","codeBlock","openOnClick","HTMLAttributes","class","extend","addNodeView","content","editable","onUpdate","getHTML","commands","setContent","exec","command","chain","focus","run","addLink","previousUrl","getAttributes","href","window","prompt","extendMarkRange","unsetLink","test","urlObj","protocol","Error","alert","insertImage","input","createElement","multiple","onchange","maxSize","allowedTypes","reader","FileReader","dataUrl","result","setImage","readAsDataURL","console","isActive","format","Btn","btnDisabled","active","textAlign","isEmpty","SelectField","options","htmlFor","map","TextField","SubmitArticleForm","restUrl","wpNonce","taxonomies","acf","setAcf","subtitle","article_content","setImg","topics","setTopics","theme","setTheme","audience","setAudience","busy","setBusy","msg","setMsg","submitted","setSubmitted","errors","setErrors","uploadProgress","setUploadProgress","titleRef","contentRef","themeRef","topicOptions","Object","entries","topic_tag","themeOptions","audienceOptions","audience_tag","MAX_INLINE_IMAGE_SIZE","update","k","v","s","validateImageFile","resizeImage","maxHeight","quality","Promise","resolve","reject","canvas","ctx","getContext","aspectRatio","imageSmoothingEnabled","imageSmoothingQuality","drawImage","toBlob","blob","resizedFile","File","lastModified","Date","now","message","objectUrl","setTimeout","processInlineImages","html","div","innerHTML","imgs","querySelectorAll","processedCount","totalImages","total","status","res","fetch","processedFile","uploadInlineImage","err","fd","FormData","append","method","headers","credentials","data","json","ok","source_url","stripHtml","el","textContent","innerText","replace","trim","focusField","querySelector","preventScroll","scrollIntoView","behavior","block","validate","nextErrors","imageValidation","image","keys","order","first","submit","processedContent","finalImage","resizeError","warn","forEach","String","errorMessage","t","m","handleImageChange","onSubmit","noValidate","er","checked","Number","prev","filter","x","some","placeholder","supportingText","leadingIcon","trailingIcon","multiline","inputId","msgId","hasError","helperText","containerBase","variantMap","outlined","errorClasses","disabledClasses","labelBase","inputBase","commonProps","undefined"],"sourceRoot":""}