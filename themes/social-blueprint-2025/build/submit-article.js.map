{"version":3,"file":"submit-article.js?ver=090de09cef0589049850","mappings":"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","sources":["webpack://brads-boilerplate-theme/./src/scripts/Button.js","webpack://brads-boilerplate-theme/./src/scripts/ImageDropField.js","webpack://brads-boilerplate-theme/./src/scripts/RichTextField.js","webpack://brads-boilerplate-theme/./src/scripts/SelectField.js","webpack://brads-boilerplate-theme/./src/scripts/SubmitArticlePage.js","webpack://brads-boilerplate-theme/./src/scripts/TextField.js"],"sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\n\nexport function Button({\n  className = '',\n  label = 'Label',\n  size = 'base',\n  variant = 'filled',\n  shape = 'square',\n  icon,\n  disabled = false,\n  onClick = () => { },\n  type = 'button',\n}) {\n  const sizeStyles = {\n    xs: 'px-3 py-1.5 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    sm: 'px-4 py-2 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    base: 'px-4 py-2.5 Blueprint-title-small md:Blueprint-title-medium lg:Blueprint-title-large',\n    lg: 'px-4 py-4 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n    xl: 'px-8 py-6 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n  }[size];\n\n  const rounded = {\n    square: { xs: 'rounded-xl', sm: 'rounded-xl', base: 'rounded-[16px]', lg: 'rounded-[16px]', xl: 'rounded-[28px]' },\n    pill: { xs: 'rounded-[100px]', sm: 'rounded-[100px]', base: 'rounded-[100px]', lg: 'rounded-[100px]', xl: 'rounded-[100px]' },\n  };\n\n  const variantStyles = {\n    filled: 'bg-[var(--schemesPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesPrimary40)]',\n    tonal: 'bg-[var(--schemesPrimaryFixed)] text-[var(--schemesOnPrimaryFixedVariant)] hover:bg-[var(--schemesPrimaryFixedDim)]',\n    outline: 'border border-[var(--schemesOnPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesOnPrimary40)]',\n    elevated: 'bg-[var(--schemesSurfaceContainerHigh)] text-[var(--schemesPrimary)] shadow-3x3 hover:bg-[var(--stateLayersSurfaceContainerHighOpacity08)]',\n    text: 'bg-transparent text-[var(--schemesPrimary)] hover:bg-[var(--palettesPrimary60)]',\n  }[variant];\n\n  // cursor + disabled handling\n  const disabledStyles = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\n  const baseCursor = disabled ? '' : 'cursor-pointer';\n\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      aria-disabled={disabled}\n      className={clsx(\n        'inline-flex items-center justify-center gap-2 transition-colors duration-150',\n        baseCursor,            // pointer on hover for enabled buttons\n        sizeStyles,\n        rounded[shape][size],\n        variantStyles,\n        disabledStyles,        // overrides cursor when disabled\n        className\n      )}\n    >\n      {icon && <span className=\"shrink-0\">{icon}</span>}\n      <span className=\"Blueprint-label-large\">{label}</span>\n    </button>\n  );\n}\n","import React, { useEffect, useId, useMemo, useRef, useState } from \"react\";\nimport clsx from \"clsx\";\n\nexport default function ImageDropField({\n  label = \"Upload an Image\",\n  value = null,\n  onChange,\n  accept = \"image/*\",\n  required = false,\n  helpText = \"Landscape image (3:2 ratio, min 1200x800px). Best with no text overlays. Use tinypng to reduce size\",\n  minW = 1200,\n  minH = 800,\n  aspect = 3 / 2,\n  aspectTolerance = 0.08,\n}) {\n  const id = useId();\n  const inputRef = useRef(null);\n  const [file, setFile] = useState(null);\n  const [preview, setPreview] = useState(\"\");\n  const [drag, setDrag] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const currentPreview = useMemo(() => {\n    if (preview) return preview;\n    if (typeof value === \"string\") return value;\n    return \"\";\n  }, [preview, value]);\n\n  useEffect(() => () => preview && URL.revokeObjectURL(preview), [preview]);\n\n  const validateAndSet = (f) => {\n    if (!f) return;\n    setError(\"\");\n    const url = URL.createObjectURL(f);\n    const img = new Image();\n    img.onload = () => {\n      setFile(f);\n      setPreview(url);\n      onChange?.(f);\n    };\n    img.onerror = () => {\n      setError(\"Invalid image\");\n      URL.revokeObjectURL(url);\n    };\n    img.src = url;\n  };\n\n  const clearFile = () => {\n    if (preview) URL.revokeObjectURL(preview);\n    setFile(null);\n    setPreview(\"\");\n    onChange?.(null);\n    if (inputRef.current) inputRef.current.value = \"\";\n  };\n\n  const pick = () => inputRef.current?.click();\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    setDrag(false);\n    const f = e.dataTransfer.files?.[0];\n    if (f) validateAndSet(f);\n  };\n\n  return (\n    <div className=\"w-full\">\n      <div\n        role=\"button\"\n        tabIndex={0}\n        aria-describedby={`${id}-hint`}\n        onClick={pick}\n        onKeyDown={(e) => (e.key === \"Enter\" || e.key === \" \") && pick()}\n        onDragOver={(e) => { e.preventDefault(); setDrag(true); }}\n        onDragLeave={() => setDrag(false)}\n        onDrop={onDrop}\n        className={clsx(\n          \"relative w-full rounded-xl border transition-colors\",\n          drag ? \"border-schemesPrimaryContainer\" : \"border-schemesOutline\",\n          error ? \"border-schemesError\" : \"\",\n          \"bg-schemesSurfaceContainerLow min-h-[260px] md:min-h-[300px] flex items-center justify-center overflow-hidden\"\n        )}\n      >\n        {!currentPreview && (<span className=\"absolute top-3 left-3 px-3 py-1 rounded-md Blueprint-label-large bg-schemesPrimaryFixed text-schemesOnSurfaceVariant shadow-sm\">\n          {label}{required ? \" *\" : \"\"}\n        </span>\n        )}\n\n        {!currentPreview && (\n          <div className=\"px-6 text-center pointer-events-none\">\n            <div className=\"Blueprint-title-small-emphasized text-schemesOnSurface\">\n              Featured Image / Article Image\n            </div>\n            <div className=\"Blueprint-body-small text-schemesOnSurfaceVariant mt-1\">\n              Click to select or drag & drop\n            </div>\n          </div>\n        )}\n\n        {currentPreview && (\n          <>\n            <img\n              src={currentPreview}\n              alt=\"\"\n              className=\"w-full h-full object-cover\"\n              draggable={false}\n            />\n            <button\n              type=\"button\"\n              onClick={(e) => { e.stopPropagation(); clearFile(); }}\n              className=\"absolute top-3 right-3 bg-schemesError text-schemesOnError rounded-lg py-2 px-3 shadow-md hover:bg-schemesErrorContainer hover:text-schemesOnErrorContainer transition\"\n              aria-label=\"Remove image\"\n            >\n              ✕\n            </button>\n          </>\n        )}\n\n        <input\n          ref={inputRef}\n          id={id}\n          type=\"file\"\n          accept={accept}\n          required={required && !file && !value}\n          onChange={(e) => validateAndSet(e.target.files?.[0] || null)}\n          className=\"hidden\"\n        />\n      </div>\n\n      <div id={`${id}-hint`} className=\"mt-2 Blueprint-body-small text-schemesOnSurfaceVariant\">\n        {helpText}\n      </div>\n      {error && <div className=\"mt-1 Blueprint-body-small text-schemesError\">{error}</div>}\n    </div>\n  );\n}\n","import React, { useCallback, useState, useRef } from \"react\";\nimport { EditorContent, useEditor, ReactNodeViewRenderer, NodeViewWrapper } from \"@tiptap/react\";\nimport StarterKit from \"@tiptap/starter-kit\";\nimport Link from \"@tiptap/extension-link\";\nimport Image from \"@tiptap/extension-image\";\nimport TextAlign from \"@tiptap/extension-text-align\";\n\nimport {\n  TextBolderIcon,\n  TextItalicIcon,\n  TextAUnderlineIcon,\n  AlignLeftIcon,\n  AlignCenterHorizontalIcon,\n  AlignRightIcon,\n  LinkIcon,\n  ListIcon,\n  ListNumbersIcon,\n  QuotesIcon,\n  CodeIcon,\n  ArrowCounterClockwiseIcon,\n  ArrowClockwiseIcon,\n  ImageSquareIcon,\n  XIcon,\n} from \"@phosphor-icons/react\";\n\n/* --- Custom React Image Node --- */\nconst ResizableImage = (props) => {\n  const { node, updateAttributes, deleteNode, selected } = props;\n  const { src, alt, width, uploading } = node.attrs;\n  const dragRef = useRef(null);\n\n  const startResize = (e) => {\n    e.preventDefault();\n    const startX = e.clientX;\n    const startW = parseInt(width) || e.target.previousSibling.offsetWidth;\n\n    const onMove = (moveEvt) => {\n      const dx = moveEvt.clientX - startX;\n      const newW = Math.max(60, startW + dx);\n      updateAttributes({ width: newW });\n    };\n\n    const onUp = () => {\n      document.removeEventListener(\"pointermove\", onMove);\n      document.removeEventListener(\"pointerup\", onUp);\n    };\n\n    document.addEventListener(\"pointermove\", onMove);\n    document.addEventListener(\"pointerup\", onUp);\n  };\n\n  return (\n    <NodeViewWrapper className=\"relative inline-block group\">\n      <img\n        src={src}\n        alt={alt}\n        style={{ width: width || \"auto\", maxWidth: \"100%\", height: \"auto\" }}\n        className={`rounded-md ${selected ? \"ring-2 ring-schemesPrimary\" : \"\"}`}\n      />\n      {uploading && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-black/40 text-white text-sm rounded-md\">\n          Uploading…\n        </div>\n      )}\n      {selected && (\n        <>\n          {/* Delete */}\n          <button\n            type=\"button\"\n            className=\"absolute -top-3 -right-3 rounded-full bg-schemesError text-schemesOnError p-1 shadow-md\"\n            onClick={() => deleteNode?.()}\n          >\n            <XIcon size={14} />\n          </button>\n          {/* Resize handle */}\n          <div\n            ref={dragRef}\n            role=\"slider\"\n            aria-label=\"Resize image\"\n            className=\"absolute -bottom-2 -right-2 w-4 h-4 bg-schemesPrimaryContainer rounded-sm cursor-se-resize shadow\"\n            onPointerDown={startResize}\n          />\n        </>\n      )}\n    </NodeViewWrapper>\n  );\n};\n\n/* --- Main Editor --- */\nexport const RichTextField = ({\n  label = \"Content\",\n  value,\n  onChange,\n  required = false,\n}) => {\n  const [uploadError, setUploadError] = useState(\"\");\n\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({ blockquote: true, codeBlock: true }),\n      Link.configure({ openOnClick: false }),\n      TextAlign.configure({ types: [\"heading\", \"paragraph\"] }),\n      Image.extend({\n        addNodeView() {\n          return ReactNodeViewRenderer(ResizableImage);\n        },\n        addAttributes() {\n          return {\n            ...this.parent?.(),\n            width: { default: null },\n            uploading: { default: false },\n          };\n        },\n      }),\n    ],\n    content: value || \"\",\n    onUpdate: ({ editor }) => {\n      onChange?.({ target: { value: editor.getHTML() } });\n    },\n  });\n\n  /* Insert image as DataURL (upload later) */\n  const insertImage = useCallback(async () => {\n    try {\n      const file = await new Promise((resolve) => {\n        const input = document.createElement(\"input\");\n        input.type = \"file\";\n        input.accept = \"image/*\";\n        input.onchange = () => resolve(input.files[0]);\n        input.click();\n      });\n      if (!file) return;\n\n      const reader = new FileReader();\n      reader.onload = () => {\n        editor\n          .chain()\n          .focus()\n          .setImage({ src: reader.result, uploading: false })\n          .run();\n      };\n      reader.readAsDataURL(file);\n      setUploadError(\"\");\n    } catch (err) {\n      setUploadError(err?.message || \"Image selection failed.\");\n    }\n  }, [editor]);\n\n  /* Extract images for real upload on submit */\n  const extractImages = useCallback(() => {\n    if (!editor) return [];\n    const json = editor.getJSON();\n    const images = [];\n\n    const traverse = (node) => {\n      if (node.type === \"image\" && node.attrs.src?.startsWith(\"data:\")) {\n        images.push(node.attrs.src);\n      }\n      if (node.content) node.content.forEach(traverse);\n    };\n\n    traverse(json);\n    return images;\n  }, [editor]);\n\n  if (!editor) return null;\n\n  const Btn = ({ onClick, active, children, title }) => (\n    <button\n      type=\"button\"\n      onMouseDown={(e) => e.preventDefault()}\n      onClick={onClick}\n      title={title}\n      className={`px-2 py-1 rounded-md border transition ${active\n        ? \"bg-schemesPrimary text-white\"\n        : \"border-schemesOutlineVariant text-schemesOnSurfaceVariant hover:text-schemesOnSurface\"\n        }`}\n    >\n      {children}\n    </button>\n  );\n\n  return (\n    <div className=\"w-full\">\n      <span className=\"px-1 Blueprint-label-medium bg-schemesPrimaryFixed rounded-sm text-schemesOnSurface\">\n        {label}\n        {required ? \" *\" : \"\"}\n      </span>\n      <div className=\"relative w-full rounded-lg border border-schemesOutline bg-schemesSurfaceContainerLow\">\n        <div className=\"flex flex-wrap items-center gap-2 px-3 py-2 border-b border-schemesOutlineVariant\">\n          <Btn onClick={() => editor.chain().focus().toggleBold().run()} active={editor.isActive(\"bold\")} title=\"Bold\">\n            <TextBolderIcon size={18} />\n          </Btn>\n          <Btn onClick={() => editor.chain().focus().toggleItalic().run()} active={editor.isActive(\"italic\")} title=\"Italic\">\n            <TextItalicIcon size={18} />\n          </Btn>\n          <Btn\n            onClick={() => editor.chain().focus().toggleUnderline().run()}\n            active={editor.isActive(\"underline\")}\n            title=\"Underline\"\n          >\n            <TextAUnderlineIcon size={18} />\n          </Btn>\n\n          <Btn onClick={() => editor.chain().focus().setTextAlign(\"left\").run()} title=\"Align left\">\n            <AlignLeftIcon size={18} />\n          </Btn>\n          <Btn onClick={() => editor.chain().focus().setTextAlign(\"center\").run()} title=\"Align center\">\n            <AlignCenterHorizontalIcon size={18} />\n          </Btn>\n          <Btn onClick={() => editor.chain().focus().setTextAlign(\"right\").run()} title=\"Align right\">\n            <AlignRightIcon size={18} />\n          </Btn>\n\n          <Btn onClick={() => editor.chain().focus().toggleBulletList().run()} active={editor.isActive(\"bulletList\")} title=\"Bullet list\">\n            <ListIcon size={18} />\n          </Btn>\n          <Btn onClick={() => editor.chain().focus().toggleOrderedList().run()} active={editor.isActive(\"orderedList\")} title=\"Numbered list\">\n            <ListNumbersIcon size={18} />\n          </Btn>\n\n          <Btn onClick={() => editor.chain().focus().toggleBlockquote().run()} active={editor.isActive(\"blockquote\")} title=\"Quote\">\n            <QuotesIcon size={18} />\n          </Btn>\n          <Btn onClick={() => editor.chain().focus().toggleCodeBlock().run()} active={editor.isActive(\"codeBlock\")} title=\"Code\">\n            <CodeIcon size={18} />\n          </Btn>\n\n          <Btn\n            onClick={() => {\n              const url = window.prompt(\"Enter URL\");\n              if (url) editor.chain().focus().setLink({ href: url }).run();\n            }}\n            active={editor.isActive(\"link\")}\n            title=\"Insert link\"\n          >\n            <LinkIcon size={18} />\n          </Btn>\n\n          <Btn onClick={insertImage} title=\"Insert image\">\n            <ImageSquareIcon size={18} />\n          </Btn>\n\n          <Btn onClick={() => editor.chain().focus().undo().run()} title=\"Undo\">\n            <ArrowCounterClockwiseIcon size={18} />\n          </Btn>\n          <Btn onClick={() => editor.chain().focus().redo().run()} title=\"Redo\">\n            <ArrowClockwiseIcon size={18} />\n          </Btn>\n        </div>\n\n        {/* Editor */}\n        <div className=\"cursor-text\" onClick={() => editor.chain().focus().run()}>\n          <EditorContent\n            editor={editor}\n            className=\"tiptap min-h-[300px] px-3 py-3 Blueprint-body-medium text-schemesOnSurface\"\n          />\n        </div>\n      </div>\n\n      {uploadError && (\n        <p className=\"mt-1 ml-1 Blueprint-body-small text-schemesError\">\n          {uploadError}\n        </p>\n      )}\n\n      {/* Example: expose extractImages */}\n      {/* In parent form you can call editorRef.current.extractImages() */}\n    </div>\n  );\n};\n","import React, { useId } from \"react\";\nimport clsx from \"clsx\";\n\nexport default function SelectField({ label = \"Select\", value = \"\", onChange, options = [], required = false }) {\n  const id = useId();\n  return (\n    <div className=\"relative w-full rounded-lg border border-schemesOutline bg-transparent focus-within:border-schemesPrimaryContainer\">\n      <label htmlFor={id} className=\"absolute left-4 -translate-y-1/2 px-1 Blueprint-label-medium bg-schemesPrimaryFixed rounded-sm\">\n        {label}{required ? \" *\" : \"\"}\n      </label>\n      <select\n        id={id}\n        value={value}\n        onChange={onChange}\n        required={required}\n        className={clsx(\"w-full py-3 pr-4 pl-3 bg-schemesSurfaceContainerLow rounded-lg outline-none Blueprint-body-medium text-schemesOnSurface\")}\n      >\n        <option value=\"\">Choose one</option>\n        {options.map(([id, name]) => <option key={id} value={id}>{name}</option>)}\n      </select>\n    </div>\n  );\n}\n","import React, { useMemo, useRef, useState } from \"react\";\nimport { TextField } from \"./TextField\";\nimport { RichTextField } from \"./RichTextField\";\nimport SelectField from \"./SelectField\";\nimport ImageDropField from \"./ImageDropField\";\nimport { Button } from \"./Button\";\n\nexport default function SubmitArticleForm({ restUrl, wpNonce, taxonomies = {} }) {\n  const [acf, setAcf] = useState({ title: \"\", subtitle: \"\", article_content: \"\" });\n  const [img, setImg] = useState(null);\n  const [topics, setTopics] = useState([]);\n  const [theme, setTheme] = useState(\"\");\n  const [audience, setAudience] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(null);\n  const [submitted, setSubmitted] = useState(false);\n  const [errors, setErrors] = useState({}); // { title: '...', article_content: '...', theme: '...' }\n\n  const titleRef = useRef(null);\n  const contentRef = useRef(null);\n  const themeRef = useRef(null);\n\n  const topicOptions = useMemo(() => Object.entries(taxonomies?.topic_tag || {}), [taxonomies]);\n  const themeOptions = useMemo(() => Object.entries(taxonomies?.theme || {}), [taxonomies]);\n  const audienceOptions = useMemo(() => Object.entries(taxonomies?.audience_tag || {}), [taxonomies]);\n\n  const update = (k, v) => {\n    setAcf((s) => ({ ...s, [k]: v }));\n    setErrors((e) => ({ ...e, [k]: \"\" })); // clear error as user types\n  };\n\n  const processInlineImages = async (html) => {\n    const div = document.createElement(\"div\");\n    div.innerHTML = html;\n    const imgs = Array.from(div.querySelectorAll(\"img[src^='data:']\"));\n\n    for (const img of imgs) {\n      try {\n        const res = await fetch(img.src);\n        const blob = await res.blob();\n        const file = new File([blob], \"inline-image.png\", { type: blob.type });\n        const url = await uploadInlineImage(file);\n        img.src = url;\n      } catch (err) {\n        console.error(\"Inline image upload failed\", err);\n      }\n    }\n    return div.innerHTML;\n  };\n\n  const uploadInlineImage = async (file) => {\n    const fd = new FormData();\n    fd.append(\"file\", file, file.name);\n    const res = await fetch(\"/wp-json/wp/v2/media\", {\n      method: \"POST\",\n      headers: { \"X-WP-Nonce\": wpNonce },\n      body: fd,\n      credentials: \"include\",\n    });\n    const data = await res.json();\n    if (!res.ok || !data?.source_url) throw new Error(data?.message || \"Upload failed\");\n    return data.source_url;\n  };\n\n  const stripHtml = (html) => {\n    const el = document.createElement(\"div\");\n    el.innerHTML = html || \"\";\n    return (el.textContent || el.innerText || \"\").replace(/\\u200B/g, \"\");\n  };\n\n  const focusField = (ref) => {\n    const node = ref?.current?.querySelector('input, textarea, select, [contenteditable=\"true\"]');\n    if (node) {\n      node.focus({ preventScroll: true });\n      node.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  };\n\n  const validate = () => {\n    const next = {};\n    if (!acf.title.trim()) next.title = \"Please enter a title\";\n    if (!stripHtml(acf.article_content).trim()) next.article_content = \"Please enter the article content\";\n    if (!theme) next.theme = \"Please choose a theme\";\n    setErrors(next);\n    if (Object.keys(next).length) {\n      const order = [\"title\", \"article_content\", \"theme\"];\n      const first = order.find((k) => next[k]);\n      if (first === \"title\") focusField(titleRef);\n      else if (first === \"article_content\") focusField(contentRef);\n      else if (first === \"theme\") focusField(themeRef);\n      return false;\n    }\n    return true;\n  };\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setMsg(null);\n    if (!validate()) return;\n\n    setBusy(true);\n    try {\n      const processedContent = await processInlineImages(acf.article_content);\n      const fd = new FormData();\n      fd.append(\"website\", \"\");\n      Object.entries(acf).forEach(([k, v]) =>\n        fd.append(`acf[${k}]`, k === \"article_content\" ? processedContent : v)\n      );\n      topics.forEach((id) => fd.append(\"topic_tags[]\", String(id)));\n      if (theme) fd.append(\"theme\", String(theme));\n      if (audience) fd.append(\"audience_tag\", String(audience));\n      if (img) fd.append(\"acf_files[article_image]\", img);\n\n      const res = await fetch(restUrl, {\n        method: \"POST\",\n        headers: { \"X-WP-Nonce\": wpNonce },\n        body: fd,\n        credentials: \"include\",\n      });\n      const data = await res.json();\n      if (!res.ok || !data?.ok) throw new Error(data?.message || \"Submission failed\");\n      setSubmitted(true);\n    } catch (err) {\n      setMsg({ t: \"error\", m: err.message });\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  if (submitted) {\n    return (\n      <div className=\"max-w-2xl mx-auto text-center space-y-4 py-8 md:py-16 min-h-[50vwh]\">\n        <h1 className=\"Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large text-schemesOnSurface\">\n          Your article was successfully submitted\n        </h1>\n        <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant\">\n          Go to <a href=\"/account-listings\" className=\"text-schemesPrimary underline\">Account Listings</a> to view.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-schemesSurface px-4 lg:px-0\">\n      <form onSubmit={submit} className=\"max-w-[1000px] grid grid-cols-1 gap-8 w-full py-8 md:py-16 mx-auto\" noValidate>\n        <div className=\"flex flex-col gap-3\">\n          <h1 className=\"Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large text-schemesOnSurface text-center italic\">Submit your story</h1>\n          <p className=\"Blueprint-body-small md:Blueprint-body-medium lg:Blueprint-body-large text-schemesOnSurfaceVariant text-center mb-4 max-w-xl mx-auto\">\n            We’d love to hear from you. Share your journey, reflections, or insights with the Melbourne Jewish community. Please note: submissions are reviewed by our editorial team and not every story will be published.\n          </p>\n        </div>\n\n        {msg && (\n          <div role=\"status\" aria-live=\"polite\" className={msg.t === \"success\" ? \"Blueprint-body-medium text-stateSuccess\" : \"Blueprint-body-medium text-stateError\"}>\n            {msg.m}\n          </div>\n        )}\n\n        {/* Title */}\n        <div ref={titleRef}>\n          <TextField\n            label=\"Story Title\"\n            required\n            value={acf.title}\n            onChange={(e) => update(\"title\", e.target.value)}\n            style=\"outlined\"\n            error={errors.title || \"\"}\n          />\n        </div>\n\n        {/* Subtitle (optional) */}\n        <TextField\n          label=\"Subtitle / Short Introduction\"\n          value={acf.subtitle}\n          onChange={(e) => update(\"subtitle\", e.target.value)}\n          style=\"outlined\"\n          error={\"\"}\n        />\n\n        {/* Content */}\n        <div ref={contentRef}>\n          <RichTextField\n            label=\"Your Story\"\n            required\n            value={acf.article_content}\n            onChange={(e) => update(\"article_content\", e.target.value)}\n            onUpload={uploadInlineImage}\n            error={errors.article_content || \"\"} // supported in our RTE; if not, message below is still helpful\n          />\n          {errors.article_content ? (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.article_content}</p>\n          ) : null}\n        </div>\n\n        {/* Featured image (optional) */}\n        <ImageDropField\n          label=\"Upload an Image\"\n          value={null}\n          onChange={(f) => setImg(f)}\n          required={false}\n          helpText=\"Landscape image (3:2 ratio, min 1200x800px). Best with no text overlays. Use tinypng to reduce size\"\n        />\n\n        {/* Theme */}\n        <div ref={themeRef}>\n          <SelectField\n            label=\"Theme\"\n            required\n            value={theme}\n            onChange={(e) => { setTheme(e.target.value); setErrors((er) => ({ ...er, theme: \"\" })); }}\n            options={themeOptions}\n            error={errors.theme || \"\"}\n          />\n          {errors.theme ? (\n            <p className=\"Blueprint-body-small text-schemesError mt-1\">{errors.theme}</p>\n          ) : null}\n        </div>\n\n        {/* Topics */}\n        <div className=\"flex flex-col gap-2\">\n          <label className=\"Blueprint-label-large text-schemesOnSurface\">Topics</label>\n          <div className=\"flex flex-wrap gap-2\">\n            {topicOptions.map(([id, name]) => {\n              const checked = topics.includes(Number(id));\n              return (\n                <label key={id} className=\"flex items-center gap-2 bg-surfaceContainerHigh border border-schemesOutlineVariant rounded-lg px-3 py-2 cursor-pointer select-none\">\n                  <input\n                    type=\"checkbox\"\n                    checked={checked}\n                    onChange={() =>\n                      setTopics((prev) => checked ? prev.filter((x) => x !== Number(id)) : [...prev, Number(id)])\n                    }\n                  />\n                  <span className=\"Blueprint-body-medium text-schemesOnSurface\">{name}</span>\n                </label>\n              );\n            })}\n          </div>\n        </div>\n\n        {/* Audience (optional) */}\n        <SelectField\n          label=\"Audience\"\n          value={audience}\n          onChange={(e) => setAudience(e.target.value)}\n          options={audienceOptions}\n          error={\"\"}\n        />\n\n        <Button type=\"submit\" label={busy ? \"Submitting...\" : \"Submit Story\"} variant=\"filled\" size=\"base\" disabled={busy} />\n      </form>\n    </div>\n  );\n}\n","import React, { useId } from 'react';\nimport clsx from 'clsx';\n\nexport function TextField({\n  label = 'Label',\n  value = '',\n  onChange,\n  placeholder = '',\n  supportingText = '',\n  leadingIcon = null,\n  trailingIcon = null,\n  error = '',\n  disabled = false,\n  required = false,\n  style = 'outlined',\n  type = 'text',\n  multiline = false,\n  name,\n  id,\n}) {\n  const inputId = id || useId();\n  const msgId = `${inputId}-msg`;\n  const hasError = typeof error === 'string' && error.length > 0;\n  const helperText = hasError ? error : supportingText;\n\n  const containerBase =\n    'relative w-full rounded-xl text-schemesOnSurface Blueprint-body-medium';\n\n  const variantMap = {\n    outlined:\n      'border border-schemesOutline bg-schemesSurfaceContainerLow hover:border-schemesOnSurfaceVariant ' +\n      'focus-within:border-schemesPrimaryContainer',\n    filled:\n      'bg-schemesSurfaceVariant hover:bg-schemesSurface focus-within:bg-schemesSurface',\n  };\n\n  const errorClasses = hasError\n    ? 'border-schemesError focus-within:border-schemesError'\n    : '';\n\n  const disabledClasses = disabled\n    ? 'opacity-50 pointer-events-none cursor-not-allowed'\n    : '';\n\n  const labelBase =\n    'absolute left-4 -translate-y-1/2 px-1 transition-all duration-150 leading-tight ' +\n    'Blueprint-label-medium pointer-events-none bg-schemesPrimaryFixed peer-focus:bg-schemesSurfaceContainerLow rounded-sm';\n\n  const inputBase =\n    'peer w-full py-3 pr-4 pl-3 bg-transparent outline-none ' +\n    'text-schemesOnSurface placeholder:opacity-0 disabled:bg-transparent';\n\n  const commonProps = {\n    id: inputId,\n    name,\n    value,\n    onChange,\n    placeholder: placeholder || label,\n    required,\n    disabled,\n    'aria-invalid': hasError ? 'true' : undefined,\n    'aria-describedby': helperText ? msgId : undefined,\n    className: multiline\n      ? clsx(inputBase, 'resize-none h-32')\n      : inputBase,\n  };\n\n  return (\n    <>\n      <div\n        className={clsx(\n          containerBase,\n          variantMap[style],\n          errorClasses,\n          disabledClasses\n        )}\n      >\n        {leadingIcon && (\n          <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant pointer-events-none\">\n            {leadingIcon}\n          </span>\n        )}\n\n        {multiline ? (\n          <textarea {...commonProps} />\n        ) : (\n          <input type={type} {...commonProps} />\n        )}\n\n        <label htmlFor={inputId} className={labelBase}>\n          {label}\n        </label>\n\n        {trailingIcon && (\n          <button\n            type=\"button\"\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant hover:text-schemesOnSurface\"\n            tabIndex={-1}\n          >\n            {trailingIcon}\n          </button>\n        )}\n      </div>\n\n      {helperText ? (\n        <p\n          id={msgId}\n          className={clsx(\n            'mt-1 ml-4 Blueprint-body-small',\n            hasError ? 'text-schemesError' : 'text-schemesOnSurfaceVariant'\n          )}\n        >\n          {helperText}\n        </p>\n      ) : null}\n    </>\n  );\n}\n"],"names":["React","clsx","jsx","_jsx","jsxs","_jsxs","Button","className","label","size","variant","shape","icon","disabled","onClick","type","sizeStyles","xs","sm","base","lg","xl","rounded","square","pill","variantStyles","filled","tonal","outline","elevated","text","disabledStyles","baseCursor","children","useEffect","useId","useMemo","useRef","useState","Fragment","_Fragment","ImageDropField","value","onChange","accept","required","helpText","minW","minH","aspect","aspectTolerance","id","inputRef","file","setFile","preview","setPreview","drag","setDrag","error","setError","currentPreview","URL","revokeObjectURL","validateAndSet","f","url","createObjectURL","img","Image","onload","onerror","src","clearFile","current","pick","click","onDrop","e","preventDefault","dataTransfer","files","role","tabIndex","onKeyDown","key","onDragOver","onDragLeave","alt","draggable","stopPropagation","ref","target","useCallback","EditorContent","useEditor","ReactNodeViewRenderer","NodeViewWrapper","StarterKit","Link","TextAlign","TextBolderIcon","TextItalicIcon","TextAUnderlineIcon","AlignLeftIcon","AlignCenterHorizontalIcon","AlignRightIcon","LinkIcon","ListIcon","ListNumbersIcon","QuotesIcon","CodeIcon","ArrowCounterClockwiseIcon","ArrowClockwiseIcon","ImageSquareIcon","XIcon","ResizableImage","props","node","updateAttributes","deleteNode","selected","width","uploading","attrs","dragRef","startResize","startX","clientX","startW","parseInt","previousSibling","offsetWidth","onMove","moveEvt","dx","newW","Math","max","onUp","document","removeEventListener","addEventListener","style","maxWidth","height","onPointerDown","RichTextField","uploadError","setUploadError","editor","extensions","configure","blockquote","codeBlock","openOnClick","types","extend","addNodeView","addAttributes","parent","default","content","onUpdate","getHTML","insertImage","Promise","resolve","input","createElement","onchange","reader","FileReader","chain","focus","setImage","result","run","readAsDataURL","err","message","extractImages","json","getJSON","images","traverse","startsWith","push","forEach","Btn","active","title","onMouseDown","toggleBold","isActive","toggleItalic","toggleUnderline","setTextAlign","toggleBulletList","toggleOrderedList","toggleBlockquote","toggleCodeBlock","window","prompt","setLink","href","undo","redo","SelectField","options","htmlFor","map","name","TextField","SubmitArticleForm","restUrl","wpNonce","taxonomies","acf","setAcf","subtitle","article_content","setImg","topics","setTopics","theme","setTheme","audience","setAudience","busy","setBusy","msg","setMsg","submitted","setSubmitted","errors","setErrors","titleRef","contentRef","themeRef","topicOptions","Object","entries","topic_tag","themeOptions","audienceOptions","audience_tag","update","k","v","s","processInlineImages","html","div","innerHTML","imgs","Array","from","querySelectorAll","res","fetch","blob","File","uploadInlineImage","console","fd","FormData","append","method","headers","body","credentials","data","ok","source_url","Error","stripHtml","el","textContent","innerText","replace","focusField","querySelector","preventScroll","scrollIntoView","behavior","block","validate","next","trim","keys","length","order","first","find","submit","processedContent","String","t","m","onSubmit","noValidate","onUpload","er","checked","includes","Number","prev","filter","x","placeholder","supportingText","leadingIcon","trailingIcon","multiline","inputId","msgId","hasError","helperText","containerBase","variantMap","outlined","errorClasses","disabledClasses","labelBase","inputBase","commonProps","undefined"],"sourceRoot":""}