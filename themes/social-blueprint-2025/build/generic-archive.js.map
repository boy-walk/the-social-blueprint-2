{"version":3,"file":"generic-archive.js?ver=77fff9a924a0c845d7c1","mappings":"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","sources":["webpack://brads-boilerplate-theme/./node_modules/@phosphor-icons/react/dist/csr/CaretDown.es.js","webpack://brads-boilerplate-theme/./node_modules/@phosphor-icons/react/dist/csr/Check.es.js","webpack://brads-boilerplate-theme/./node_modules/@phosphor-icons/react/dist/defs/CaretDown.es.js","webpack://brads-boilerplate-theme/./node_modules/@phosphor-icons/react/dist/defs/Check.es.js","webpack://brads-boilerplate-theme/./src/scripts/Breadcrumbs.js","webpack://brads-boilerplate-theme/./src/scripts/Button.js","webpack://brads-boilerplate-theme/./src/scripts/Card.js","webpack://brads-boilerplate-theme/./src/scripts/ContentCard.js","webpack://brads-boilerplate-theme/./src/scripts/DropdownSelect.js","webpack://brads-boilerplate-theme/./src/scripts/GenericArchivePage.js","webpack://brads-boilerplate-theme/./src/scripts/getBadge.js"],"sourcesContent":["import * as o from \"react\";\nimport a from \"../lib/IconBase.es.js\";\nimport n from \"../defs/CaretDown.es.js\";\nconst e = o.forwardRef((r, t) => /* @__PURE__ */ o.createElement(a, { ref: t, ...r, weights: n }));\ne.displayName = \"CaretDownIcon\";\nconst s = e;\nexport {\n  s as CaretDown,\n  e as CaretDownIcon\n};\n","import * as e from \"react\";\nimport t from \"../lib/IconBase.es.js\";\nimport a from \"../defs/Check.es.js\";\nconst o = e.forwardRef((c, r) => /* @__PURE__ */ e.createElement(t, { ref: r, ...c, weights: a }));\no.displayName = \"CheckIcon\";\nconst n = o;\nexport {\n  n as Check,\n  o as CheckIcon\n};\n","import * as e from \"react\";\nconst t = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M208,96l-80,80L48,96Z\", opacity: \"0.2\" }), /* @__PURE__ */ e.createElement(\"path\", { d: \"M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z\" }))\n  ]\n]);\nexport {\n  t as default\n};\n","import * as e from \"react\";\nconst a = /* @__PURE__ */ new Map([\n  [\n    \"bold\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z\" }))\n  ],\n  [\n    \"duotone\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\n      \"path\",\n      {\n        d: \"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z\",\n        opacity: \"0.2\"\n      }\n    ), /* @__PURE__ */ e.createElement(\"path\", { d: \"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"fill\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"light\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z\" }))\n  ],\n  [\n    \"regular\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z\" }))\n  ],\n  [\n    \"thin\",\n    /* @__PURE__ */ e.createElement(e.Fragment, null, /* @__PURE__ */ e.createElement(\"path\", { d: \"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z\" }))\n  ]\n]);\nexport {\n  a as default\n};\n","// components/Breadcrumbs.jsx\nimport React from \"react\";\n\nexport function Breadcrumbs({ items = [], textColour = 'text-schemesOnSurfaceVariant' }) {\n  if (!items || !items.length) return null;\n\n  const filteredItems = items.map((it) => {\n    if (it.url.includes('events-calendar')) {\n      return { ...it, url: it.url.replace('events-calendar', 'events') };\n    }\n    return it;\n  })\n\n  return (\n    <nav aria-label=\"Breadcrumb\" className=\"mb-3 lg:mb-6\">\n      <ol className={`flex flex-wrap items-center gap-1 Blueprint-label-small lg:Blueprint-label-large ${textColour}`}>\n        {filteredItems.map((it, i) => (\n          <React.Fragment key={i}>\n            {i > 0 && <li className=\"px-1\">\n              {'>'}\n            </li>}\n            <li>\n              {it.url ? (\n                <a href={it.url} className=\"no-underline hover:underline \">{it.label}</a>\n              ) : (\n                <span>{it.label}</span>\n              )}\n            </li>\n          </React.Fragment>\n        ))}\n      </ol>\n    </nav>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\n\nexport function Button({\n  className = '',\n  label = 'Label',\n  size = 'base',\n  variant = 'filled',\n  shape = 'square',\n  icon,\n  disabled = false,\n  onClick = () => { },\n  type = 'button',\n}) {\n  const sizeStyles = {\n    xs: 'px-3 py-1.5 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    sm: 'px-4 py-2 Blueprint-label-small md:Blueprint-label-medium lg:Blueprint-label-large',\n    base: 'px-4 py-2.5 Blueprint-title-small md:Blueprint-title-medium lg:Blueprint-title-large',\n    lg: 'px-4 py-4 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n    xl: 'px-8 py-6 Blueprint-headline-small md:Blueprint-headline-medium lg:Blueprint-headline-large',\n  }[size];\n\n  const rounded = {\n    square: { xs: 'rounded-xl', sm: 'rounded-xl', base: 'rounded-[16px]', lg: 'rounded-[16px]', xl: 'rounded-[28px]' },\n    pill: { xs: 'rounded-[100px]', sm: 'rounded-[100px]', base: 'rounded-[100px]', lg: 'rounded-[100px]', xl: 'rounded-[100px]' },\n  };\n\n  const variantStyles = {\n    filled: 'bg-[var(--schemesPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesPrimary40)]',\n    tonal: 'bg-[var(--schemesPrimaryFixed)] text-[var(--schemesOnPrimaryFixedVariant)] hover:bg-[var(--schemesPrimaryFixedDim)]',\n    outline: 'border border-[var(--schemesOnPrimary)] text-[var(--schemesOnPrimary)] hover:bg-[var(--palettesOnPrimary40)]',\n    elevated: 'bg-[var(--schemesSurfaceContainerHigh)] text-[var(--schemesPrimary)] shadow-3x3 hover:bg-[var(--stateLayersSurfaceContainerHighOpacity08)]',\n    text: 'bg-transparent text-[var(--schemesPrimary)] hover:bg-[var(--palettesPrimary60)]',\n  }[variant];\n\n  // cursor + disabled handling\n  const disabledStyles = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\n  const baseCursor = disabled ? '' : 'cursor-pointer';\n\n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n      aria-disabled={disabled}\n      className={clsx(\n        'inline-flex items-center justify-center gap-2 transition-colors duration-150',\n        baseCursor,            // pointer on hover for enabled buttons\n        sizeStyles,\n        rounded[shape][size],\n        variantStyles,\n        disabledStyles,        // overrides cursor when disabled\n        className\n      )}\n    >\n      {icon && <span className=\"shrink-0\">{icon}</span>}\n      <span className=\"Blueprint-label-large\">{label}</span>\n    </button>\n  );\n}\n","import React from 'react';\n\nexport const Card = ({ children, styles, href }) => {\n  const baseClass = `relative rounded-xl bg-white border border-[color:var(--schemesOutlineVariant,#C9C7BD)] shadow-none ${styles} before:absolute before:inset-0 before:rounded-lg before:mix-blend-multiply before:z-0 before:content-['']`;\n\n  const innerClass = \"relative z-10 w-full h-full\";\n\n  const content = (\n    <div className={baseClass}>\n      <div className={innerClass}>\n        {children}\n      </div>\n    </div>\n  );\n\n  return href ? <a href={href} className=\"h-full block\">{content}</a> : content;\n};\n","import React from \"react\";\nimport { Card } from \"./Card\";\n\nexport function ContentCard({\n  image,\n  title,\n  date,\n  subtitle,\n  badge,\n  href,\n  author,\n  fullHeight = false,\n  fullWidth = false,\n  shadow = false,\n}) {\n  const cardStyles = `\n    group\n    flex flex-col\n    ${shadow ? \"shadow-3x3\" : \"\"}\n    ${fullHeight ? \"h-full\" : \"\"}\n    ${fullWidth ? \"w-full\" : \"\"}\n    p-2\n    transition-all duration-300 ease-in-out\n    hover:shadow-lg\n    hover:-translate-y-1\n    transform-gpu\n    [transform-origin:center]\n  `.trim();\n\n  return (\n    <Card href={href} styles={cardStyles}>\n      <div className=\"flex h-full min-h-0 flex-col\">\n        <div\n          className=\"relative overflow-hidden rounded-lg bg-gray-100 aspect-[4/3] w-full\"\n        >\n          {image && (\n            <img\n              src={image}\n              alt={title}\n              className=\"\n                h-full w-full\n                object-cover\n                transition-transform duration-300 ease-in-out\n                group-hover:scale-105\n                [transform-origin:center]\n              \"\n              loading=\"lazy\"\n              decoding=\"async\"\n            />\n          )}\n          {badge && (\n            <span className=\"absolute left-1 top-1 z-10 rounded bg-schemesPrimary text-schemesOnPrimary px-1.5 py-1 Blueprint-label-small font-medium transition-colors duration-200 group-hover:bg-blue-100\">\n              {badge}\n            </span>\n          )}\n        </div>\n\n        {title && (\n          <div\n            className=\"\n              relative p-1 pt-2\n              h-auto md:h-[116px] lg:h-[128px]\n              md:overflow-hidden\n            \"\n          >\n            <div\n              className=\"\n                pointer-events-none absolute inset-x-0 bottom-0 h-8\n                opacity-0 md:opacity-100 transition-opacity duration-200\n                md:group-hover:opacity-0\n              \"\n            />\n            <div className=\"flex flex-col gap-1 transition-transform duration-200 ease-in-out\">\n              {date && (\n                <div className=\"Blueprint-body-small md:Blueprint-body-small lg:Blueprint-body-medium text-schemesOnSurfaceVariant transition-colors duration-200 group-hover:text-schemesOnSurface\">\n                  {date}\n                </div>\n              )}\n\n              <h3\n                className=\"\n                  Blueprint-body-medium-emphasized md:Blueprint-body-medium-emphasized lg:Blueprint-body-large-emphasized\n                  line-clamp-2\n                  transition-colors duration-200 group-hover:text-[var(--schemesPrimary)]\n                \"\n              >\n                {title}\n              </h3>\n\n              {subtitle && (\n                <p\n                  className=\"\n                    Blueprint-body-small md:Blueprint-body-medium lg:Blueprint-body-medium text-schemesOnSurfaceVariant\n                    line-clamp-3\n                    transition-colors duration-200 group-hover:text-schemesOnSurface\n                  \"\n                >\n                  {subtitle}\n                </p>\n              )}\n\n              {author && (\n                <p className=\"mt-1 Blueprint-body-small lg:Blueprint-body-medium text-schemesOnSurfaceVariant transition-colors duration-200 group-hover:text-schemesOnSurface\">\n                  {author}\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}","import React, { useState, useRef, useEffect, useId, useMemo } from 'react';\nimport clsx from 'clsx';\nimport { CaretDown, CaretRight, MagnifyingGlass, Check } from '@phosphor-icons/react';\nimport { Button } from './Button';\n\n/**\n * Flattens nested options into a flat array with depth info\n */\nfunction flattenOptions(options, depth = 0, parentExpanded = true) {\n  let result = [];\n  for (const option of options) {\n    result.push({\n      ...option,\n      depth,\n      hasChildren: Array.isArray(option.children) && option.children.length > 0,\n    });\n    if (option.children && option.children.length > 0) {\n      result = result.concat(flattenOptions(option.children, depth + 1, parentExpanded));\n    }\n  }\n  return result;\n}\n\n/**\n * Recursively filter options based on search query\n * Returns options that match OR have children that match\n */\nfunction filterOptionsRecursive(options, searchLower) {\n  if (!searchLower) return options;\n\n  return options.reduce((acc, option) => {\n    const labelMatches = option.label.toLowerCase().includes(searchLower);\n\n    // Check if any children match\n    let filteredChildren = [];\n    if (option.children && option.children.length > 0) {\n      filteredChildren = filterOptionsRecursive(option.children, searchLower);\n    }\n\n    // Include if label matches OR has matching children\n    if (labelMatches || filteredChildren.length > 0) {\n      acc.push({\n        ...option,\n        children: filteredChildren.length > 0 ? filteredChildren : option.children,\n        // Mark as matching if the label itself matches (for highlighting)\n        _matches: labelMatches,\n      });\n    }\n\n    return acc;\n  }, []);\n}\n\n/**\n * Get all descendant values of an option\n */\nfunction getDescendantValues(option) {\n  let values = [];\n  if (option.children) {\n    for (const child of option.children) {\n      values.push(child.value);\n      values = values.concat(getDescendantValues(child));\n    }\n  }\n  return values;\n}\n\n/**\n * Find an option by value in nested structure\n */\nfunction findOptionByValue(options, value) {\n  for (const option of options) {\n    if (option.value === value) return option;\n    if (option.children) {\n      const found = findOptionByValue(option.children, value);\n      if (found) return found;\n    }\n  }\n  return null;\n}\n\nexport function DropdownSelect({\n  label = 'Select',\n  options = [],\n  value = [],\n  onChange,\n  multiple = false,\n  searchable = true,\n  searchPlaceholder = 'Search...',\n  placeholder = 'Select an option',\n  disabled = false,\n  error = '',\n  supportingText = '',\n  collapsible = false, // Whether parent items can be collapsed\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [search, setSearch] = useState('');\n  const [expandedNodes, setExpandedNodes] = useState(new Set());\n  const dropdownRef = useRef(null);\n  const triggerRef = useRef(null);\n  const id = useId();\n\n  // Normalize value to array for consistent handling\n  const selectedValues = multiple ? (Array.isArray(value) ? value : []) : (value ? [value] : []);\n\n  // Check if options are nested\n  const isNested = useMemo(() => {\n    return options.some(opt => opt.children && opt.children.length > 0);\n  }, [options]);\n\n  // Filter options based on search\n  const filteredOptions = useMemo(() => {\n    const searchLower = search.toLowerCase().trim();\n    if (!searchLower) return options;\n    return filterOptionsRecursive(options, searchLower);\n  }, [options, search]);\n\n  // Flatten for rendering\n  const flatOptions = useMemo(() => {\n    return flattenOptions(filteredOptions);\n  }, [filteredOptions]);\n\n  // Auto-expand all when searching\n  useEffect(() => {\n    if (search && isNested) {\n      const allParentValues = new Set();\n      const collectParents = (opts) => {\n        for (const opt of opts) {\n          if (opt.children && opt.children.length > 0) {\n            allParentValues.add(opt.value);\n            collectParents(opt.children);\n          }\n        }\n      };\n      collectParents(filteredOptions);\n      setExpandedNodes(allParentValues);\n    }\n  }, [search, filteredOptions, isNested]);\n\n  // Initialize expanded state to show all by default\n  useEffect(() => {\n    if (isNested && !collapsible) {\n      const allParentValues = new Set();\n      const collectParents = (opts) => {\n        for (const opt of opts) {\n          if (opt.children && opt.children.length > 0) {\n            allParentValues.add(opt.value);\n            collectParents(opt.children);\n          }\n        }\n      };\n      collectParents(options);\n      setExpandedNodes(allParentValues);\n    }\n  }, [options, isNested, collapsible]);\n\n  // Close on outside click\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target) &&\n        !triggerRef.current.contains(e.target)\n      ) {\n        setIsOpen(false);\n        setSearch('');\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  // Close on escape\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        setIsOpen(false);\n        setSearch('');\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n    }\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen]);\n\n  const toggleExpanded = (optionValue, e) => {\n    e.stopPropagation();\n    setExpandedNodes(prev => {\n      const next = new Set(prev);\n      if (next.has(optionValue)) {\n        next.delete(optionValue);\n      } else {\n        next.add(optionValue);\n      }\n      return next;\n    });\n  };\n\n  const handleSelect = (optionValue) => {\n    if (multiple) {\n      const newValue = selectedValues.includes(optionValue)\n        ? selectedValues.filter(v => v !== optionValue)\n        : [...selectedValues, optionValue];\n      onChange?.(newValue);\n    } else {\n      onChange?.(optionValue);\n      setIsOpen(false);\n      setSearch('');\n    }\n  };\n\n  const getDisplayText = () => {\n    if (selectedValues.length === 0) return placeholder;\n\n    // Find labels from nested structure\n    const findLabels = (opts, values) => {\n      let labels = [];\n      for (const opt of opts) {\n        if (values.includes(opt.value)) {\n          labels.push(opt.label);\n        }\n        if (opt.children) {\n          labels = labels.concat(findLabels(opt.children, values));\n        }\n      }\n      return labels;\n    };\n\n    const selectedLabels = findLabels(options, selectedValues);\n\n    if (selectedLabels.length === 1) return selectedLabels[0];\n    return `${selectedLabels.length} selected`;\n  };\n\n  const hasError = typeof error === 'string' && error.length > 0;\n  const helperText = hasError ? error : supportingText;\n\n  // Check if an option or any of its ancestors is hidden due to collapsed parent\n  const isOptionVisible = (option, index) => {\n    if (!collapsible || option.depth === 0) return true;\n\n    // Find parent option\n    for (let i = index - 1; i >= 0; i--) {\n      const prevOption = flatOptions[i];\n      if (prevOption.depth < option.depth) {\n        // This is a potential parent\n        if (prevOption.hasChildren && !expandedNodes.has(prevOption.value)) {\n          return false;\n        }\n        if (prevOption.depth === 0) break;\n      }\n    }\n    return true;\n  };\n\n  // Render a single option\n  const renderOption = (option, index) => {\n    // Skip if parent is collapsed\n    if (collapsible && !isOptionVisible(option, index)) {\n      return null;\n    }\n\n    const isSelected = selectedValues.includes(option.value);\n    const isExpanded = expandedNodes.has(option.value);\n    const indent = option.depth * 24;\n\n    return (\n      <li key={option.value}>\n        <button\n          type=\"button\"\n          onClick={() => handleSelect(option.value)}\n          className={clsx(\n            'w-full flex items-center gap-3 px-3 py-2.5 rounded-lg',\n            'Blueprint-body-medium text-left',\n            'transition-colors duration-150',\n            isSelected\n              ? 'bg-schemesPrimaryContainer text-schemesOnPrimaryContainer'\n              : 'text-schemesOnSurface hover:bg-schemesSurfaceContainerHigh'\n          )}\n          style={{ paddingLeft: `${12 + indent}px` }}\n          role=\"option\"\n          aria-selected={isSelected}\n        >\n          {/* Expand/collapse button for parents */}\n          {collapsible && option.hasChildren ? (\n            <button\n              type=\"button\"\n              onClick={(e) => toggleExpanded(option.value, e)}\n              className=\"p-0.5 -ml-1 rounded hover:bg-schemesOutlineVariant/30\"\n              aria-label={isExpanded ? 'Collapse' : 'Expand'}\n            >\n              {isExpanded ? (\n                <CaretDown size={16} className=\"text-schemesOnSurfaceVariant\" />\n              ) : (\n                <CaretRight size={16} className=\"text-schemesOnSurfaceVariant\" />\n              )}\n            </button>\n          ) : (\n            option.depth > 0 && collapsible && (\n              <span className=\"w-5\" /> // Spacer for alignment\n            )\n          )}\n\n          {/* Checkbox/Radio indicator */}\n          <span\n            className={clsx(\n              'flex items-center justify-center w-5 h-5 shrink-0',\n              'border-2 transition-colors duration-150',\n              multiple ? 'rounded' : 'rounded-full',\n              isSelected\n                ? 'bg-schemesPrimary border-schemesPrimary'\n                : 'border-schemesOutline bg-transparent'\n            )}\n          >\n            {isSelected && (\n              multiple ? (\n                <Check size={14} weight=\"bold\" className=\"text-schemesOnPrimary\" />\n              ) : (\n                <span className=\"w-2 h-2 rounded-full bg-schemesOnPrimary\" />\n              )\n            )}\n          </span>\n\n          {/* Option content */}\n          <span className=\"flex-1 min-w-0 truncate\">\n            {option.label}\n          </span>\n\n          {/* Optional image */}\n          {option.image && (\n            <img\n              src={option.image}\n              alt=\"\"\n              className=\"w-6 h-6 rounded-full object-cover\"\n            />\n          )}\n        </button>\n      </li>\n    );\n  };\n\n  return (\n    <div className=\"relative flex flex-col gap-2\">\n      {/* Label */}\n      {label && (\n        <label className=\"Blueprint-label-medium text-schemesOnSurface\">\n          {label}\n        </label>\n      )}\n\n      {/* Trigger Button */}\n      <button\n        ref={triggerRef}\n        type=\"button\"\n        onClick={() => !disabled && setIsOpen(!isOpen)}\n        disabled={disabled}\n        className={clsx(\n          'w-full flex items-center justify-between gap-2',\n          'px-4 py-3 rounded-xl',\n          'Blueprint-body-medium text-left',\n          'border bg-schemesSurfaceContainerLow',\n          'transition-colors duration-150',\n          hasError\n            ? 'border-schemesError'\n            : 'border-schemesOutline hover:border-schemesOnSurfaceVariant focus:border-schemesPrimary',\n          disabled && 'opacity-50 cursor-not-allowed',\n          !disabled && 'cursor-pointer'\n        )}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n      >\n        <span className={clsx(\n          'truncate',\n          selectedValues.length === 0 && 'text-schemesOnSurfaceVariant'\n        )}>\n          {getDisplayText()}\n        </span>\n        <CaretDown\n          size={20}\n          className={clsx(\n            'text-schemesOnSurfaceVariant transition-transform duration-200 shrink-0',\n            isOpen && 'rotate-180'\n          )}\n        />\n      </button>\n\n      {/* Dropdown */}\n      {isOpen && (\n        <div\n          ref={dropdownRef}\n          className=\"absolute top-full left-0 right-0 z-50 mt-1 bg-schemesSurface border border-schemesOutlineVariant rounded-xl shadow-lg overflow-hidden\"\n          role=\"listbox\"\n          aria-multiselectable={multiple}\n        >\n          {/* Search */}\n          {searchable && (\n            <div className=\"p-2 border-b border-schemesOutlineVariant\">\n              <div className=\"relative\">\n                <MagnifyingGlass\n                  size={18}\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                />\n                <input\n                  type=\"text\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  placeholder={searchPlaceholder}\n                  className=\"w-full pl-10 pr-4 py-2 Blueprint-body-medium bg-schemesSurfaceContainerHigh border border-schemesOutline rounded-lg text-schemesOnSurface placeholder:text-schemesOnSurfaceVariant focus:outline-none focus:ring-2 focus:ring-schemesPrimary focus:border-schemesPrimary\"\n                  autoFocus\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Options */}\n          <ul className=\"max-h-60 overflow-y-auto p-2\">\n            {flatOptions.length === 0 ? (\n              <li className=\"px-4 py-3 Blueprint-body-medium text-schemesOnSurfaceVariant text-center\">\n                No results found\n              </li>\n            ) : (\n              flatOptions.map((option, index) => renderOption(option, index))\n            )}\n          </ul>\n\n          {/* Footer actions */}\n          {multiple && selectedValues.length > 0 && (\n            <div className=\"p-2 border-t border-schemesOutlineVariant\">\n              <Button\n                label=\"Clear selection\"\n                variant=\"text\"\n                size=\"sm\"\n                className=\"w-full\"\n                onClick={() => {\n                  onChange?.([]);\n                  setIsOpen(false);\n                }}\n              />\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Helper/Error text */}\n      {helperText && (\n        <p\n          className={clsx(\n            'ml-4 Blueprint-body-small',\n            hasError ? 'text-schemesError' : 'text-schemesOnSurfaceVariant'\n          )}\n        >\n          {helperText}\n        </p>\n      )}\n    </div>\n  );\n}","import React, { useEffect, useMemo, useState, useRef, useCallback } from \"react\";\nimport { ContentCard } from \"./ContentCard\";\nimport { Button } from \"./Button\";\nimport { getBadge } from \"./getBadge\";\nimport { MagnifyingGlass, FunnelSimple, X } from \"@phosphor-icons/react\";\nimport { Breadcrumbs } from \"./Breadcrumbs\";\nimport { DropdownSelect } from \"./DropdownSelect\";\n\n/**\n * GenericArchivePage (OPTIMIZED)\n * - Expects pre-fetched terms from PHP (filter.terms)\n * - Falls back to parallel API fetching if terms not provided\n */\nexport function GenericArchivePage(props) {\n  const {\n    postType,\n    taxonomy,\n    currentTerm,\n    filters = [],\n    endpoint,\n    baseQuery = {},\n    title,\n    subtitle,\n    breadcrumbs = [],\n  } = props;\n\n  const [page, setPage] = useState(1);\n  const [selectedTerms, setSelectedTerms] = useState({});\n  const [items, setItems] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n  const [total, setTotal] = useState(undefined);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [retryTick, setRetryTick] = useState(0);\n  const [termsOptions, setTermsOptions] = useState({});\n\n  const fetchedOnceRef = useRef(new Set());\n  const fetchSeq = useRef(0);\n\n  // \n  // Initialize with pre-fetched terms from PHP\n  // \n  useEffect(() => {\n    const preFetched = {};\n    for (const f of filters) {\n      if (f.terms && Array.isArray(f.terms) && f.terms.length > 0) {\n        // Already in correct format (flat or tree)\n        preFetched[f.taxonomy] = f.terms;\n        fetchedOnceRef.current.add(f.taxonomy);\n      }\n    }\n    if (Object.keys(preFetched).length) {\n      setTermsOptions(preFetched);\n    }\n  }, [filters]);\n\n  // \n  // Fallback: Parallel fetch for any filters without pre-fetched terms\n  // \n  useEffect(() => {\n    const filtersToFetch = filters.filter(\n      (f) => !f.terms && !fetchedOnceRef.current.has(f.taxonomy)\n    );\n    if (!filtersToFetch.length) return;\n\n    let cancelled = false;\n\n    // Mark as fetching immediately to prevent duplicate requests\n    filtersToFetch.forEach((f) => fetchedOnceRef.current.add(f.taxonomy));\n\n    const ptParam = Array.isArray(postType)\n      ? postType.join(\",\")\n      : postType || \"\";\n\n    // Fetch ALL taxonomies in parallel\n    Promise.all(\n      filtersToFetch.map(async (f) => {\n        const tax = f.taxonomy;\n        try {\n          const url = `/wp-json/tsb/v1/terms?taxonomy=${encodeURIComponent(tax)}&per_page=200${ptParam ? `&post_type=${encodeURIComponent(ptParam)}` : \"\"}`;\n          const res = await fetch(url, { headers: { Accept: \"application/json\" } });\n          if (!res.ok) throw new Error(`HTTP ${res.status}`);\n          const json = await res.json();\n\n          const rows = (Array.isArray(json) ? json : []).map((t) => ({\n            id: String(t.id),\n            name: t.name,\n            slug: t.slug,\n            parent: String(t.parent ?? 0),\n          }));\n\n          // Build tree if hierarchical\n          const isHier = rows.some((r) => r.parent !== \"0\");\n          if (isHier) {\n            const byId = {};\n            rows.forEach((r) => (byId[r.id] = { ...r, children: [] }));\n            const roots = [];\n            rows.forEach((r) =>\n              r.parent !== \"0\" && byId[r.parent]\n                ? byId[r.parent].children.push(byId[r.id])\n                : roots.push(byId[r.id])\n            );\n            const sortTree = (nodes) => {\n              nodes.sort((a, b) => a.name.localeCompare(b.name));\n              nodes.forEach((n) => sortTree(n.children));\n            };\n            sortTree(roots);\n            return { tax, terms: roots };\n          }\n          return { tax, terms: rows };\n        } catch {\n          return { tax, terms: [] };\n        }\n      })\n    ).then((results) => {\n      if (cancelled) return;\n      const next = {};\n      results.forEach(({ tax, terms }) => {\n        next[tax] = terms;\n      });\n      if (Object.keys(next).length) {\n        setTermsOptions((prev) => ({ ...prev, ...next }));\n      }\n    });\n\n    return () => {\n      cancelled = true;\n    };\n  }, [filters, postType]);\n\n  // \n  // Convert terms to DropdownSelect format\n  // \n  const getDropdownOptions = useCallback((taxonomyKey) => {\n    const options = termsOptions[taxonomyKey] || [];\n\n    const convertOptions = (items) =>\n      items.map((item) => ({\n        value: String(item.id),\n        label: item.name,\n        children:\n          item.children && item.children.length > 0\n            ? convertOptions(item.children)\n            : undefined,\n      }));\n\n    // Check if tree structure\n    if (options.length > 0 && Array.isArray(options[0]?.children)) {\n      return convertOptions(options);\n    }\n\n    return options.map((opt) => ({\n      value: String(opt.id),\n      label: opt.name,\n    }));\n  }, [termsOptions]);\n\n  // \n  // Fetch posts\n  // \n  useEffect(() => {\n    let cancelled = false;\n    const seq = ++fetchSeq.current;\n\n    (async () => {\n      setLoading(true);\n      setError(\"\");\n      try {\n        const payload = { ...baseQuery, page };\n\n        // Build tax query\n        const baseTax = Array.isArray(baseQuery.tax)\n          ? baseQuery.tax.slice()\n          : baseQuery.tax\n            ? [baseQuery.tax]\n            : [];\n\n        const uiTax = Object.entries(selectedTerms)\n          .filter(([, termIds]) => termIds?.length)\n          .map(([taxKey, termIds]) => ({\n            taxonomy: taxKey,\n            field: \"term_id\",\n            terms: termIds.map((id) => parseInt(id, 10)).filter(Number.isFinite),\n            operator: \"IN\",\n            include_children: true,\n          }));\n\n        const finalTax = [...baseTax, ...uiTax];\n        if (finalTax.length) {\n          payload.tax = finalTax;\n          if (baseQuery.tax_relation) payload.tax_relation = baseQuery.tax_relation;\n        }\n\n        const res = await fetch(endpoint, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(payload),\n        });\n\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\n        const json = await res.json();\n\n        if (!cancelled && seq === fetchSeq.current) {\n          setItems(json.items || []);\n          setTotalPages(json.total_pages || 1);\n          setTotal(typeof json.total === \"number\" ? json.total : undefined);\n        }\n      } catch (err) {\n        if (!cancelled && seq === fetchSeq.current) {\n          setError(err.message || \"Failed to load data\");\n        }\n      } finally {\n        if (!cancelled && seq === fetchSeq.current) setLoading(false);\n      }\n    })();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [baseQuery, endpoint, page, selectedTerms, retryTick]);\n\n  // \n  // Client-side search\n  // \n  const searchIndex = useMemo(() => {\n    const idx = new Map();\n    const collect = (val, bag) => {\n      if (!val) return;\n      if (Array.isArray(val)) val.forEach((v) => collect(v, bag));\n      else if (typeof val === \"object\") {\n        if (typeof val.name === \"string\") bag.push(val.name);\n        if (typeof val.slug === \"string\") bag.push(val.slug.replace(/-/g, \" \"));\n        Object.values(val).forEach((v) => collect(v, bag));\n      } else if (typeof val === \"string\") bag.push(val);\n    };\n    (items || []).forEach((item) => {\n      const bag = [];\n      collect(item.title, bag);\n      collect(item.subtitle, bag);\n      collect(item.excerpt, bag);\n      collect(item.categories, bag);\n      collect(item.tags, bag);\n      collect(item.terms, bag);\n      collect(item.taxonomies, bag);\n      idx.set(item.id, bag.join(\" \").toLowerCase());\n    });\n    return idx;\n  }, [items]);\n\n  const filteredItems = useMemo(() => {\n    const q = searchQuery.trim().toLowerCase();\n    if (!q) return items;\n    const words = q.split(/\\s+/).filter(Boolean);\n    return items.filter((it) => {\n      const hay = searchIndex.get(it.id) || \"\";\n      return words.every((w) => hay.includes(w));\n    });\n  }, [items, searchQuery, searchIndex]);\n\n  const searching = searchQuery.trim().length > 0;\n\n  const hasActiveFilters = useMemo(\n    () => Object.values(selectedTerms).some((arr) => (arr || []).length > 0),\n    [selectedTerms]\n  );\n\n  const clearAllFilters = useCallback(() => {\n    setSelectedTerms({});\n    setPage(1);\n  }, []);\n\n  // \n  // Mobile drawer\n  // \n  const [isFiltersOpen, setIsFiltersOpen] = useState(false);\n  const firstCloseBtnRef = useRef(null);\n\n  useEffect(() => {\n    if (!isFiltersOpen) return;\n    const prev = document.body.style.overflow;\n    document.body.style.overflow = \"hidden\";\n    const onKey = (e) => {\n      if (e.key === \"Escape\") setIsFiltersOpen(false);\n    };\n    window.addEventListener(\"keydown\", onKey);\n    setTimeout(() => firstCloseBtnRef.current?.focus(), 0);\n    return () => {\n      document.body.style.overflow = prev;\n      window.removeEventListener(\"keydown\", onKey);\n    };\n  }, [isFiltersOpen]);\n\n  const filterCount =\n    Object.values(selectedTerms).reduce((n, arr) => n + (arr?.length || 0), 0) +\n    (searching ? 1 : 0);\n\n  // Check which filters actually have options to show\n  const filtersWithOptions = useMemo(\n    () => filters.filter((f) => (termsOptions[f.taxonomy] || []).length > 0),\n    [filters, termsOptions]\n  );\n\n  const hasFiltersToShow = filtersWithOptions.length > 0;\n\n  // \n  // Filter change handler\n  // \n  const handleFilterChange = useCallback((taxonomyKey, value, multiple = true) => {\n    setSelectedTerms((prev) => ({\n      ...prev,\n      [taxonomyKey]: multiple ? value : value ? [value] : [],\n    }));\n    setPage(1);\n  }, []);\n\n  // \n  // Render filter\n  // \n  const renderFilter = useCallback(\n    (f, isMobile = false) => {\n      const options = getDropdownOptions(f.taxonomy);\n      if (!options.length) return null;\n\n      const isPeopleTag = f.taxonomy === \"people_tag\";\n      const isMultiple = !isPeopleTag;\n      const currentValue = isMultiple\n        ? selectedTerms[f.taxonomy] || []\n        : selectedTerms[f.taxonomy]?.[0] || \"\";\n\n      return (\n        <DropdownSelect\n          key={`${isMobile ? \"mobile-\" : \"\"}${f.taxonomy}`}\n          label={f.label || f.taxonomy}\n          placeholder={isPeopleTag ? \"Select person...\" : \"Select...\"}\n          multiple={isMultiple}\n          searchable\n          searchPlaceholder={`Search ${(f.label || f.taxonomy).toLowerCase()}...`}\n          options={options}\n          value={currentValue}\n          onChange={(value) => handleFilterChange(f.taxonomy, value, isMultiple)}\n        />\n      );\n    },\n    [getDropdownOptions, selectedTerms, handleFilterChange]\n  );\n\n  // \n  // Skeleton cards\n  // \n  const skeletonCards = useMemo(\n    () =>\n      Array.from({ length: 8 }).map((_, i) => (\n        <div\n          key={`sk-${i}`}\n          className=\"rounded-xl border border-schemesOutlineVariant overflow-hidden\"\n        >\n          <div className=\"w-full aspect-square bg-schemesSurfaceContainerHighest animate-pulse\" />\n          <div className=\"p-4 space-y-2\">\n            <div className=\"h-4 w-3/4 bg-schemesSurfaceContainerHigh animate-pulse rounded\" />\n            <div className=\"h-3 w-1/2 bg-schemesSurfaceContainerHigh animate-pulse rounded\" />\n            <div className=\"h-3 w-2/3 bg-schemesSurfaceContainerHigh animate-pulse rounded\" />\n          </div>\n        </div>\n      )),\n    []\n  );\n\n  return (\n    <div className=\"archive-container bg-schemesSurface\">\n      {/* Header */}\n      <div className=\"bg-schemesPrimaryFixed py-8\">\n        <div className=\"tsb-container\">\n          <Breadcrumbs items={breadcrumbs} textColour=\"text-schemesPrimary\" />\n          <h1 className=\"Blueprint-headline-large text-schemesOnSurface mb-1\">\n            {title}\n          </h1>\n          {subtitle && (\n            <p className=\"Blueprint-body-medium text-schemesOnPrimaryFixedVariant\">\n              {subtitle}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Mobile search + filter button */}\n      <div className=\"tsb-container lg:hidden pt-6\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"relative flex-1\">\n            <input\n              type=\"search\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search by keyword\"\n              className=\"Blueprint-body-medium w-full pl-4 pr-10 py-3 rounded-3xl bg-schemesSurfaceContainerHigh focus:outline-none focus:ring-2 focus:ring-schemesPrimary\"\n            />\n            <MagnifyingGlass\n              size={20}\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n              weight=\"bold\"\n              aria-hidden\n            />\n          </div>\n          <Button\n            onClick={() => setIsFiltersOpen(true)}\n            icon={<FunnelSimple />}\n            label={filterCount ? `Filters (${filterCount})` : \"Filters\"}\n            variant=\"outlined\"\n            size=\"base\"\n            aria-expanded={isFiltersOpen}\n            aria-controls=\"mobile-filters\"\n          />\n        </div>\n      </div>\n\n      {/* Main content */}\n      <div className=\"tsb-container flex flex-col lg:flex-row py-8 gap-8\">\n        {/* Desktop sidebar */}\n        <aside className=\"hidden lg:block lg:w-64 xl:w-72 shrink-0\">\n          <div className=\"mb-6\">\n            <label htmlFor=\"archive-search\" className=\"sr-only\">\n              Search by keyword\n            </label>\n            <div className=\"bg-schemesSurfaceContainer flex items-center gap-2 rounded-full px-4 py-3\">\n              <input\n                id=\"archive-search\"\n                type=\"search\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"Search by keyword\"\n                className=\"w-full outline-none Blueprint-body-medium text-schemesOnSurface placeholder:text-schemesOnSurfaceVariant bg-transparent\"\n              />\n              {!searchQuery && (\n                <MagnifyingGlass\n                  size={20}\n                  className=\"text-schemesOnSurfaceVariant\"\n                  weight=\"bold\"\n                />\n              )}\n            </div>\n          </div>\n\n          {hasFiltersToShow && (\n            <>\n              <h2 className=\"Blueprint-headline-small-emphasized mb-4 text-schemesOnSurfaceVariant\">\n                Filters\n              </h2>\n\n              {(hasActiveFilters || searching) && (\n                <div className=\"mb-4 flex flex-wrap gap-2\">\n                  {hasActiveFilters && (\n                    <Button\n                      size=\"sm\"\n                      variant=\"tonal\"\n                      onClick={clearAllFilters}\n                      label=\"Clear filters\"\n                    />\n                  )}\n                  {searching && (\n                    <Button\n                      size=\"sm\"\n                      variant=\"tonal\"\n                      onClick={() => setSearchQuery(\"\")}\n                      label=\"Clear search\"\n                    />\n                  )}\n                </div>\n              )}\n\n              <div className=\"space-y-4\">\n                {filtersWithOptions.map((f) => renderFilter(f, false))}\n              </div>\n            </>\n          )}\n        </aside>\n\n        {/* Results */}\n        <section className=\"flex-1 min-w-0\">\n          {error && !loading && (\n            <div className=\"mb-8 rounded-xl border border-schemesOutlineVariant bg-schemesSurface p-6\">\n              <div className=\"Blueprint-title-small-emphasized mb-2 text-schemesError\">\n                Something went wrong\n              </div>\n              <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant mb-4\">\n                {error}\n              </p>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"filled\"\n                  label=\"Try again\"\n                  onClick={() => setRetryTick((n) => n + 1)}\n                />\n                {hasActiveFilters && (\n                  <Button\n                    variant=\"tonal\"\n                    label=\"Clear filters\"\n                    onClick={clearAllFilters}\n                  />\n                )}\n              </div>\n            </div>\n          )}\n\n          {loading && (\n            <div\n              className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 mb-8\"\n              aria-hidden=\"true\"\n            >\n              {skeletonCards}\n            </div>\n          )}\n\n          {!loading && !error && filteredItems.length === 0 && (\n            <div className=\"rounded-2xl border border-schemesOutlineVariant bg-schemesSurfaceContainerLowest p-10 text-center mb-8\">\n              <div className=\"Blueprint-headline-small mb-2\">No results found</div>\n              <p className=\"Blueprint-body-medium text-schemesOnSurfaceVariant mb-6\">\n                {searching\n                  ? \"Try a different keyword or clear search.\"\n                  : \"Try adjusting or clearing your filters to see more results.\"}\n              </p>\n              <div className=\"flex justify-center gap-3\">\n                {searching ? (\n                  <Button\n                    variant=\"filled\"\n                    label=\"Clear search\"\n                    onClick={() => setSearchQuery(\"\")}\n                  />\n                ) : (\n                  <Button\n                    variant=\"filled\"\n                    label=\"Clear all filters\"\n                    onClick={clearAllFilters}\n                  />\n                )}\n                <Button\n                  variant=\"tonal\"\n                  label=\"Reload\"\n                  onClick={() => setRetryTick((n) => n + 1)}\n                />\n              </div>\n            </div>\n          )}\n\n          {!loading && !error && filteredItems.length > 0 && (\n            <>\n              <div className=\"flex items-center justify-between mb-4\">\n                <div\n                  className=\"Blueprint-body-small md:Blueprint-body-medium lg:Blueprint-body-large text-schemesOnSurfaceVariant\"\n                  aria-live=\"polite\"\n                >\n                  {searching\n                    ? `${filteredItems.length} match${filteredItems.length === 1 ? \"\" : \"es\"} on this page`\n                    : typeof total === \"number\"\n                      ? `${total.toLocaleString()} result${total === 1 ? \"\" : \"s\"}`\n                      : null}\n                </div>\n                {(hasActiveFilters || searching) && (\n                  <div className=\"hidden sm:flex gap-2\">\n                    {hasActiveFilters && (\n                      <Button\n                        size=\"sm\"\n                        variant=\"tonal\"\n                        label=\"Clear filters\"\n                        onClick={clearAllFilters}\n                      />\n                    )}\n                    {searching && (\n                      <Button\n                        size=\"sm\"\n                        variant=\"tonal\"\n                        label=\"Clear search\"\n                        onClick={() => setSearchQuery(\"\")}\n                      />\n                    )}\n                  </div>\n                )}\n              </div>\n\n              <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 mb-8\">\n                {filteredItems.map((item) => (\n                  <ContentCard\n                    key={item.id}\n                    image={item.thumbnail}\n                    title={item.title}\n                    date={item.date}\n                    subtitle={item.excerpt || item.subtitle}\n                    badge={getBadge(item.post_type)}\n                    href={item.permalink}\n                    fullHeight\n                    shadow\n                  />\n                ))}\n              </div>\n            </>\n          )}\n\n          {!loading && !error && totalPages > 1 && !searching && (\n            <div className=\"flex justify-center items-center gap-3 mt-2\">\n              <Button\n                size=\"base\"\n                variant=\"tonal\"\n                disabled={page <= 1}\n                onClick={() => setPage((p) => Math.max(1, p - 1))}\n                label=\"Prev\"\n              />\n              <span className=\"Blueprint-body-medium text-schemesOnSurfaceVariant\">\n                {page} / {totalPages}\n              </span>\n              <Button\n                size=\"base\"\n                variant=\"tonal\"\n                disabled={page >= totalPages}\n                onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\n                label=\"Next\"\n              />\n            </div>\n          )}\n        </section>\n      </div>\n\n      {/* Mobile filters drawer */}\n      <div\n        id=\"mobile-filters\"\n        className={`lg:hidden fixed inset-0 z-[70] ${isFiltersOpen ? \"\" : \"pointer-events-none\"}`}\n        aria-hidden={!isFiltersOpen}\n      >\n        <div\n          onClick={() => setIsFiltersOpen(false)}\n          className={`absolute inset-0 transition-opacity ${isFiltersOpen ? \"opacity-100\" : \"opacity-0\"} bg-black/40`}\n        />\n        <div\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-label=\"Filters\"\n          className={`absolute left-0 right-0 bottom-0 max-h-[85vh] rounded-t-2xl bg-schemesSurface shadow-[0_-16px_48px_rgba(0,0,0,0.25)] transition-transform duration-300 ${isFiltersOpen ? \"translate-y-0\" : \"translate-y-full\"} flex flex-col`}\n        >\n          <div className=\"relative px-4 py-3 border-b border-schemesOutlineVariant shrink-0\">\n            <div className=\"mx-auto h-1.5 w-12 rounded-full bg-schemesOutlineVariant\" />\n            <div className=\"mt-3 flex items-center justify-between\">\n              <div className=\"Blueprint-title-small-emphasized\">Filters</div>\n              <button\n                ref={firstCloseBtnRef}\n                type=\"button\"\n                onClick={() => setIsFiltersOpen(false)}\n                className=\"rounded-full p-2 hover:bg-schemesSurfaceContainerHigh text-schemesOnSurfaceVariant\"\n                aria-label=\"Close filters\"\n              >\n                <X />\n              </button>\n            </div>\n          </div>\n\n          <div className=\"px-4 py-4 overflow-y-auto flex-1 space-y-4\">\n            <div className=\"relative\">\n              <input\n                type=\"search\"\n                placeholder=\"Search by keyword\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"Blueprint-body-medium w-full pl-4 pr-10 py-3 rounded-3xl bg-schemesSurfaceContainerHigh focus:outline-none focus:ring-2 focus:ring-schemesPrimary\"\n              />\n              <MagnifyingGlass\n                size={20}\n                className=\"absolute right-3 top-1/2 -translate-y-1/2 text-schemesOnSurfaceVariant\"\n                weight=\"bold\"\n                aria-hidden\n              />\n            </div>\n\n            {filtersWithOptions.map((f) => renderFilter(f, true))}\n          </div>\n\n          <div className=\"sticky bottom-0 px-4 py-3 bg-schemesSurface border-t border-schemesOutlineVariant flex gap-2 shrink-0\">\n            <Button\n              onClick={clearAllFilters}\n              variant=\"outlined\"\n              label=\"Clear all\"\n              className=\"flex-1\"\n            />\n            <Button\n              onClick={() => setIsFiltersOpen(false)}\n              variant=\"filled\"\n              label=\"Apply\"\n              className=\"flex-1\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","export const getBadge = (type) => {\n  switch (type?.toLowerCase()) {\n    case 'tribe_events':\n      return 'Event';\n    case 'podcast':\n      return 'Interviews';\n    case 'article':\n      return 'Article';\n    case 'directory':\n      return 'Directory';\n    case 'resource':\n      return 'Resource';\n    case 'gd_discount':\n      return 'Message Board';\n    case 'gd_aid_listing':\n      return 'Aid Listing';\n    case 'gd_health_listing':\n      return 'Health Listing';\n    case 'gd_business':\n      return 'Business';\n    case 'gd_photo_gallery':\n      return 'Photo Gallery';\n    case 'gd_cost_of_living':\n      return 'Cost of Living';\n    default:\n      return \"Post\";\n  }\n};"],"names":["React","jsx","_jsx","jsxs","_jsxs","Breadcrumbs","items","textColour","length","filteredItems","map","it","url","includes","replace","className","children","i","Fragment","href","label","clsx","Button","size","variant","shape","icon","disabled","onClick","type","sizeStyles","xs","sm","base","lg","xl","rounded","square","pill","variantStyles","filled","tonal","outline","elevated","text","disabledStyles","baseCursor","Card","styles","baseClass","innerClass","content","ContentCard","image","title","date","subtitle","badge","author","fullHeight","fullWidth","shadow","cardStyles","trim","src","alt","loading","decoding","useState","useRef","useEffect","useId","useMemo","CaretDown","CaretRight","MagnifyingGlass","Check","flattenOptions","options","depth","parentExpanded","result","option","push","hasChildren","Array","isArray","concat","filterOptionsRecursive","searchLower","reduce","acc","labelMatches","toLowerCase","filteredChildren","_matches","getDescendantValues","values","child","value","findOptionByValue","found","DropdownSelect","onChange","multiple","searchable","searchPlaceholder","placeholder","error","supportingText","collapsible","isOpen","setIsOpen","search","setSearch","expandedNodes","setExpandedNodes","Set","dropdownRef","triggerRef","id","selectedValues","isNested","some","opt","filteredOptions","flatOptions","allParentValues","collectParents","opts","add","handleClickOutside","e","current","contains","target","document","addEventListener","removeEventListener","handleEscape","key","toggleExpanded","optionValue","stopPropagation","prev","next","has","delete","handleSelect","newValue","filter","v","getDisplayText","findLabels","labels","selectedLabels","hasError","helperText","isOptionVisible","index","prevOption","renderOption","isSelected","isExpanded","indent","style","paddingLeft","role","weight","ref","autoFocus","useCallback","getBadge","FunnelSimple","X","_Fragment","GenericArchivePage","props","postType","taxonomy","currentTerm","filters","endpoint","baseQuery","breadcrumbs","page","setPage","selectedTerms","setSelectedTerms","setItems","totalPages","setTotalPages","total","setTotal","undefined","setLoading","setError","searchQuery","setSearchQuery","retryTick","setRetryTick","termsOptions","setTermsOptions","fetchedOnceRef","fetchSeq","preFetched","f","terms","Object","keys","filtersToFetch","cancelled","forEach","ptParam","join","Promise","all","tax","encodeURIComponent","res","fetch","headers","Accept","ok","Error","status","json","rows","t","_t$parent","String","name","slug","parent","isHier","r","byId","roots","sortTree","nodes","sort","a","b","localeCompare","n","then","results","getDropdownOptions","taxonomyKey","convertOptions","item","seq","payload","baseTax","slice","uiTax","entries","termIds","taxKey","field","parseInt","Number","isFinite","operator","include_children","finalTax","tax_relation","method","body","JSON","stringify","total_pages","err","message","searchIndex","idx","Map","collect","val","bag","excerpt","categories","tags","taxonomies","set","q","words","split","Boolean","hay","get","every","w","searching","hasActiveFilters","arr","clearAllFilters","isFiltersOpen","setIsFiltersOpen","firstCloseBtnRef","overflow","onKey","window","setTimeout","focus","filterCount","filtersWithOptions","hasFiltersToShow","handleFilterChange","renderFilter","isMobile","isPeopleTag","isMultiple","currentValue","skeletonCards","from","_","htmlFor","toLocaleString","thumbnail","post_type","permalink","p","Math","max","min"],"sourceRoot":""}